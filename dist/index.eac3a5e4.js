let e,n,r,i,a;function o(e,n,r,i){Object.defineProperty(e,n,{get:r,set:i,enumerable:!0,configurable:!0})}var s,l,u,c,h,d,f,p,m,g,y,v,w,b,_,E,S,k,T,I,C,x,A,R,N,P,O,D,L,M,U,F,j,B,V,z,$,H,q,W,K,Q,G,X,Y,J,Z,ee,et,en,er,ei=globalThis,ea={},eo={},es=ei.parcelRequire164e;null==es&&((es=function(e){if(e in ea)return ea[e].exports;if(e in eo){var n=eo[e];delete eo[e];var r={id:e,exports:{}};return ea[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){eo[e]=n},ei.parcelRequire164e=es);var el=es.register;el("1b2ls",function(e,n){o(e.exports,"Fragment",()=>r,e=>r=e),o(e.exports,"jsx",()=>i,e=>i=e),o(e.exports,"jsxs",()=>a,e=>a=e);var r,i,a,s=es("acw62"),l=Symbol.for("react.element"),u=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(e,n,r){var i,a={},o=null,s=null;for(i in void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),void 0!==n.ref&&(s=n.ref),n)c.call(n,i)&&!d.hasOwnProperty(i)&&(a[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===a[i]&&(a[i]=n[i]);return{$$typeof:l,type:e,key:o,ref:s,props:a,_owner:h.current}}r=u,i=f,a=f}),el("acw62",function(e,n){e.exports=es("2pUnB")}),el("2pUnB",function(e,n){o(e.exports,"Children",()=>r,e=>r=e),o(e.exports,"Component",()=>i,e=>i=e),o(e.exports,"Fragment",()=>a,e=>a=e),o(e.exports,"Profiler",()=>s,e=>s=e),o(e.exports,"PureComponent",()=>l,e=>l=e),o(e.exports,"StrictMode",()=>u,e=>u=e),o(e.exports,"Suspense",()=>c,e=>c=e),o(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>h,e=>h=e),o(e.exports,"act",()=>d,e=>d=e),o(e.exports,"cloneElement",()=>f,e=>f=e),o(e.exports,"createContext",()=>p,e=>p=e),o(e.exports,"createElement",()=>m,e=>m=e),o(e.exports,"createFactory",()=>g,e=>g=e),o(e.exports,"createRef",()=>y,e=>y=e),o(e.exports,"forwardRef",()=>v,e=>v=e),o(e.exports,"isValidElement",()=>w,e=>w=e),o(e.exports,"lazy",()=>b,e=>b=e),o(e.exports,"memo",()=>_,e=>_=e),o(e.exports,"startTransition",()=>E,e=>E=e),o(e.exports,"unstable_act",()=>S,e=>S=e),o(e.exports,"useCallback",()=>k,e=>k=e),o(e.exports,"useContext",()=>T,e=>T=e),o(e.exports,"useDebugValue",()=>I,e=>I=e),o(e.exports,"useDeferredValue",()=>C,e=>C=e),o(e.exports,"useEffect",()=>x,e=>x=e),o(e.exports,"useId",()=>A,e=>A=e),o(e.exports,"useImperativeHandle",()=>R,e=>R=e),o(e.exports,"useInsertionEffect",()=>N,e=>N=e),o(e.exports,"useLayoutEffect",()=>P,e=>P=e),o(e.exports,"useMemo",()=>O,e=>O=e),o(e.exports,"useReducer",()=>D,e=>D=e),o(e.exports,"useRef",()=>L,e=>L=e),o(e.exports,"useState",()=>M,e=>M=e),o(e.exports,"useSyncExternalStore",()=>U,e=>U=e),o(e.exports,"useTransition",()=>F,e=>F=e),o(e.exports,"version",()=>j,e=>j=e);var r,i,a,s,l,u,c,h,d,f,p,m,g,y,v,w,b,_,E,S,k,T,I,C,x,A,R,N,P,O,D,L,M,U,F,j,B=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),W=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.iterator,J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ee={};function et(e,n,r){this.props=e,this.context=n,this.refs=ee,this.updater=r||J}function en(){}function er(e,n,r){this.props=e,this.context=n,this.refs=ee,this.updater=r||J}et.prototype.isReactComponent={},et.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},et.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},en.prototype=et.prototype;var ei=er.prototype=new en;ei.constructor=er,Z(ei,et.prototype),ei.isPureReactComponent=!0;var ea=Array.isArray,eo=Object.prototype.hasOwnProperty,es={current:null},el={key:!0,ref:!0,__self:!0,__source:!0};function eu(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)eo.call(n,i)&&!el.hasOwnProperty(i)&&(a[i]=n[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:B,type:e,key:o,ref:s,props:a,_owner:es.current}}function ec(e){return"object"==typeof e&&null!==e&&e.$$typeof===B}var eh=/\/+/g;function ed(e,n){var r,i;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,i={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return i[e]})):n.toString(36)}function ef(e,n,r){if(null==e)return e;var i=[],a=0;return function e(n,r,i,a,o){var s,l,u,c=typeof n;("undefined"===c||"boolean"===c)&&(n=null);var h=!1;if(null===n)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case B:case V:h=!0}}if(h)return o=o(h=n),n=""===a?"."+ed(h,0):a,ea(o)?(i="",null!=n&&(i=n.replace(eh,"$&/")+"/"),e(o,r,i,"",function(e){return e})):null!=o&&(ec(o)&&(s=o,l=i+(!o.key||h&&h.key===o.key?"":(""+o.key).replace(eh,"$&/")+"/")+n,o={$$typeof:B,type:s.type,key:l,ref:s.ref,props:s.props,_owner:s._owner}),r.push(o)),1;if(h=0,a=""===a?".":a+":",ea(n))for(var d=0;d<n.length;d++){var f=a+ed(c=n[d],d);h+=e(c,r,i,f,o)}else if("function"==typeof(f=null===(u=n)||"object"!=typeof u?null:"function"==typeof(u=Y&&u[Y]||u["@@iterator"])?u:null))for(n=f.call(n),d=0;!(c=n.next()).done;)f=a+ed(c=c.value,d++),h+=e(c,r,i,f,o);else if("object"===c)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return h}(e,i,"","",function(e){return n.call(r,e,a++)}),i}function ep(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){(0===e._status||-1===e._status)&&(e._status=1,e._result=n)},function(n){(0===e._status||-1===e._status)&&(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var em={current:null},eg={transition:null};function ey(){throw Error("act(...) is not supported in production builds of React.")}r={map:ef,forEach:function(e,n,r){ef(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return ef(e,function(){n++}),n},toArray:function(e){return ef(e,function(e){return e})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=et,a=z,s=H,l=er,u=$,c=Q,h={ReactCurrentDispatcher:em,ReactCurrentBatchConfig:eg,ReactCurrentOwner:es},d=ey,f=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Z({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=es.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)eo.call(n,u)&&!el.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:B,type:e.type,key:a,ref:o,props:i,_owner:s}},p=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:q,_context:e},e.Consumer=e},m=eu,g=function(e){var n=eu.bind(null,e);return n.type=e,n},y=function(){return{current:null}},v=function(e){return{$$typeof:K,render:e}},w=ec,b=function(e){return{$$typeof:X,_payload:{_status:-1,_result:e},_init:ep}},_=function(e,n){return{$$typeof:G,type:e,compare:void 0===n?null:n}},E=function(e){var n=eg.transition;eg.transition={};try{e()}finally{eg.transition=n}},S=ey,k=function(e,n){return em.current.useCallback(e,n)},T=function(e){return em.current.useContext(e)},I=function(){},C=function(e){return em.current.useDeferredValue(e)},x=function(e,n){return em.current.useEffect(e,n)},A=function(){return em.current.useId()},R=function(e,n,r){return em.current.useImperativeHandle(e,n,r)},N=function(e,n){return em.current.useInsertionEffect(e,n)},P=function(e,n){return em.current.useLayoutEffect(e,n)},O=function(e,n){return em.current.useMemo(e,n)},D=function(e,n,r){return em.current.useReducer(e,n,r)},L=function(e){return em.current.useRef(e)},M=function(e){return em.current.useState(e)},U=function(e,n,r){return em.current.useSyncExternalStore(e,n,r)},F=function(){return em.current.useTransition()},j="18.3.1"}),el("Xw6Mv",function(e,n){o(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>$,e=>$=e),o(e.exports,"createPortal",()=>H,e=>H=e),o(e.exports,"createRoot",()=>q,e=>q=e),o(e.exports,"findDOMNode",()=>W,e=>W=e),o(e.exports,"flushSync",()=>K,e=>K=e),o(e.exports,"hydrate",()=>Q,e=>Q=e),o(e.exports,"hydrateRoot",()=>G,e=>G=e),o(e.exports,"render",()=>X,e=>X=e),o(e.exports,"unmountComponentAtNode",()=>Y,e=>Y=e),o(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),o(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),o(e.exports,"version",()=>ee,e=>ee=e);var r,i,a,s,l,u,c=es("acw62"),h=es("fO90s");function d(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,p={};function m(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(p[e]=n,e=0;e<n.length;e++)f.add(n[e])}var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},_={};function E(e,n,r,i,a,o,s){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=s}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];S[n]=new E(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}function I(e,n,r,i){var a,o=S.hasOwnProperty(n)?S[n]:null;(null!==o?0!==o.type:i||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,r,i){if(null==n||function(e,n,r,i){if(null!==r&&0===r.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==r)return!r.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,n,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,r,o,i)&&(r=null),i||null===o?(a=n,(!!v.call(_,a)||!v.call(b,a)&&(w.test(a)?_[a]=!0:(b[a]=!0,!1)))&&(null===r?e.removeAttribute(n):e.setAttribute(n,""+r))):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(n=o.attributeName,i=o.attributeNamespace,null===r?e.removeAttribute(n):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(k,T);S[n]=new E(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(k,T);S[n]=new E(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(k,T);S[n]=new E(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});var C=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var V=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}var $,H,q,W,K,Q,G,X,Y,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);et=n&&n[1]||""}return"\n"+et+e}var ei=!1;function ea(e,n){if(!e||ei)return"";ei=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n){if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(n){if(n&&i&&"string"==typeof n.stack){for(var a=n.stack.split("\n"),o=i.stack.split("\n"),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(1!==s||1!==l)do if(s--,0>--l||a[s]!==o[l]){var u="\n"+a[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l)break}}}finally{ei=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?er(e):""}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function el(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function eu(e){e._valueTracker||(e._valueTracker=function(e){var n=el(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function ec(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=el(e)?e.checked?"true":"false":e.value),(e=i)!==r&&(n.setValue(e),!0)}function eh(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function ed(e,n){var r=n.checked;return en({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ef(e,n){var r=null==n.defaultValue?"":n.defaultValue,i=null!=n.checked?n.checked:n.defaultChecked;r=eo(null!=n.value?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function ep(e,n){null!=(n=n.checked)&&I(e,"checked",n,!1)}function em(e,n){ep(e,n);var r=eo(n.value),i=n.type;if(null!=r)"number"===i?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===i||"reset"===i){e.removeAttribute("value");return}n.hasOwnProperty("value")?ey(e,n.type,r):n.hasOwnProperty("defaultValue")&&ey(e,n.type,eo(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function eg(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!("submit"!==i&&"reset"!==i||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ey(e,n,r){("number"!==n||eh(e.ownerDocument)!==e)&&(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ev=Array.isArray;function ew(e,n,r,i){if(e=e.options,n){n={};for(var a=0;a<r.length;a++)n["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=n.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&i&&(e[r].defaultSelected=!0)}else{for(a=0,r=""+eo(r),n=null;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function eb(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(d(91));return en({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e_(e,n){var r=n.value;if(null==r){if(r=n.children,n=n.defaultValue,null!=r){if(null!=n)throw Error(d(92));if(ev(r)){if(1<r.length)throw Error(d(93));r=r[0]}n=r}null==n&&(n=""),r=n}e._wrapperState={initialValue:eo(r)}}function eE(e,n){var r=eo(n.value),i=eo(n.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==n.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=i&&(e.defaultValue=""+i)}function eS(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function ek(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eT(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?ek(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var eI,eC,ex=(eI=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((eC=eC||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=eC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return eI(e,n,r,i)})}:eI);function eA(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=n;return}}e.textContent=n}var eR={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];function eP(e,n,r){return null==n||"boolean"==typeof n||""===n?"":r||"number"!=typeof n||0===n||eR.hasOwnProperty(e)&&eR[e]?(""+n).trim():n+"px"}function eO(e,n){for(var r in e=e.style,n)if(n.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=eP(r,n[r],i);"float"===r&&(r="cssFloat"),i?e.setProperty(r,a):e[r]=a}}Object.keys(eR).forEach(function(e){eN.forEach(function(n){eR[n=n+e.charAt(0).toUpperCase()+e.substring(1)]=eR[e]})});var eD=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eL(e,n){if(n){if(eD[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(d(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(d(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(d(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(d(62))}}function eM(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eU=null;function eF(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ej=null,eB=null,eV=null;function ez(e){if(e=rX(e)){if("function"!=typeof ej)throw Error(d(280));var n=e.stateNode;n&&(n=rJ(n),ej(e.stateNode,e.type,n))}}function e$(e){eB?eV?eV.push(e):eV=[e]:eB=e}function eH(){if(eB){var e=eB,n=eV;if(eV=eB=null,ez(e),n)for(e=0;e<n.length;e++)ez(n[e])}}function eq(e,n){return e(n)}function eW(){}var eK=!1;function eQ(e,n,r){if(eK)return e(n,r);eK=!0;try{return eq(e,n,r)}finally{eK=!1,(null!==eB||null!==eV)&&(eW(),eH())}}function eG(e,n){var r=e.stateNode;if(null===r)return null;var i=rJ(r);if(null===i)return null;switch(r=i[n],n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(d(231,n,typeof r));return r}var eX=!1;if(y)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eX=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eX=!1}function eJ(e,n,r,i,a,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{n.apply(r,c)}catch(e){this.onError(e)}}var eZ=!1,e0=null,e1=!1,e2=null,e4={onError:function(e){eZ=!0,e0=e}};function e3(e,n,r,i,a,o,s,l,u){eZ=!1,e0=null,eJ.apply(e4,arguments)}function e5(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do 0!=(4098&(n=e).flags)&&(r=n.return),e=n.return;while(e)}return 3===n.tag?r:null}function e6(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function e9(e){if(e5(e)!==e)throw Error(d(188))}function e8(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=e5(e)))throw Error(d(188));return n!==e?null:e}for(var r=e,i=n;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){r=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return e9(a),e;if(o===i)return e9(a),n;o=o.sibling}throw Error(d(188))}if(r.return!==i.return)r=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s)throw Error(d(189))}}if(r.alternate!==i)throw Error(d(190))}if(3!==r.tag)throw Error(d(188));return r.stateNode.current===r?e:n}(e))?function e(n){if(5===n.tag||6===n.tag)return n;for(n=n.child;null!==n;){var r=e(n);if(null!==r)return r;n=n.sibling}return null}(e):null}var e7=h.unstable_scheduleCallback,te=h.unstable_cancelCallback,tt=h.unstable_shouldYield,tn=h.unstable_requestPaint,tr=h.unstable_now,ti=h.unstable_getCurrentPriorityLevel,ta=h.unstable_ImmediatePriority,to=h.unstable_UserBlockingPriority,ts=h.unstable_NormalPriority,tl=h.unstable_LowPriority,tu=h.unstable_IdlePriority,tc=null,th=null,td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tf(e)/tp|0)|0},tf=Math.log,tp=Math.LN2,tm=64,tg=4194304;function ty(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var l=s&~a;0!==l?i=ty(l):0!=(o&=s)&&(i=ty(o))}else 0!=(s=r&~a)?i=ty(s):0!==o&&(i=ty(o));if(0===i)return 0;if(0!==n&&n!==i&&0==(n&a)&&((a=i&-i)>=(o=n&-n)||16===a&&0!=(4194240&o)))return n;if(0!=(4&i)&&(i|=16&r),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=i;0<n;)a=1<<(r=31-td(n)),i|=e[r],n&=~a;return i}function tw(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tb(){var e=tm;return 0==(4194240&(tm<<=1))&&(tm=64),e}function t_(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function tE(e,n,r){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-td(n)]=r}function tS(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-td(r),a=1<<i;a&n|e[i]&n&&(e[i]|=n),r&=~a}}var tk=0;function tT(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tI,tC,tx,tA,tR,tN=!1,tP=[],tO=null,tD=null,tL=null,tM=new Map,tU=new Map,tF=[],tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tB(e,n){switch(e){case"focusin":case"focusout":tO=null;break;case"dragenter":case"dragleave":tD=null;break;case"mouseover":case"mouseout":tL=null;break;case"pointerover":case"pointerout":tM.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tU.delete(n.pointerId)}}function tV(e,n,r,i,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},null!==n&&null!==(n=rX(n))&&tC(n)):(e.eventSystemFlags|=i,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a)),e}function tz(e){var n=rG(e.target);if(null!==n){var r=e5(n);if(null!==r){if(13===(n=r.tag)){if(null!==(n=e6(r))){e.blockedOn=n,tR(e.priority,function(){tx(r)});return}}else if(3===n&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function t$(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var r=t0(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==r)return null!==(n=rX(r))&&tC(n),e.blockedOn=r,!1;var i=new(r=e.nativeEvent).constructor(r.type,r);eU=i,r.target.dispatchEvent(i),eU=null,n.shift()}return!0}function tH(e,n,r){t$(e)&&r.delete(n)}function tq(){tN=!1,null!==tO&&t$(tO)&&(tO=null),null!==tD&&t$(tD)&&(tD=null),null!==tL&&t$(tL)&&(tL=null),tM.forEach(tH),tU.forEach(tH)}function tW(e,n){e.blockedOn===n&&(e.blockedOn=null,tN||(tN=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,tq)))}function tK(e){function n(n){return tW(n,e)}if(0<tP.length){tW(tP[0],e);for(var r=1;r<tP.length;r++){var i=tP[r];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==tO&&tW(tO,e),null!==tD&&tW(tD,e),null!==tL&&tW(tL,e),tM.forEach(n),tU.forEach(n),r=0;r<tF.length;r++)(i=tF[r]).blockedOn===e&&(i.blockedOn=null);for(;0<tF.length&&null===(r=tF[0]).blockedOn;)tz(r),null===r.blockedOn&&tF.shift()}var tQ=C.ReactCurrentBatchConfig,tG=!0;function tX(e,n,r,i){var a=tk,o=tQ.transition;tQ.transition=null;try{tk=1,tJ(e,n,r,i)}finally{tk=a,tQ.transition=o}}function tY(e,n,r,i){var a=tk,o=tQ.transition;tQ.transition=null;try{tk=4,tJ(e,n,r,i)}finally{tk=a,tQ.transition=o}}function tJ(e,n,r,i){if(tG){var a=t0(e,n,r,i);if(null===a)r_(e,n,i,tZ,r),tB(e,i);else if(function(e,n,r,i,a){switch(n){case"focusin":return tO=tV(tO,e,n,r,i,a),!0;case"dragenter":return tD=tV(tD,e,n,r,i,a),!0;case"mouseover":return tL=tV(tL,e,n,r,i,a),!0;case"pointerover":var o=a.pointerId;return tM.set(o,tV(tM.get(o)||null,e,n,r,i,a)),!0;case"gotpointercapture":return o=a.pointerId,tU.set(o,tV(tU.get(o)||null,e,n,r,i,a)),!0}return!1}(a,e,n,r,i))i.stopPropagation();else if(tB(e,i),4&n&&-1<tj.indexOf(e)){for(;null!==a;){var o=rX(a);if(null!==o&&tI(o),null===(o=t0(e,n,r,i))&&r_(e,n,i,tZ,r),o===a)break;a=o}null!==a&&i.stopPropagation()}else r_(e,n,i,null,r)}}var tZ=null;function t0(e,n,r,i){if(tZ=null,null!==(e=rG(e=eF(i)))){if(null===(n=e5(e)))e=null;else if(13===(r=n.tag)){if(null!==(e=e6(n)))return e;e=null}else if(3===r){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}return tZ=e,null}function t1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case ta:return 1;case to:return 4;case ts:case tl:return 16;case tu:return 536870912;default:return 16}default:return 16}}var t2=null,t4=null,t3=null;function t5(){if(t3)return t3;var e,n,r=t4,i=r.length,a="value"in t2?t2.value:t2.textContent,o=a.length;for(e=0;e<i&&r[e]===a[e];e++);var s=i-e;for(n=1;n<=s&&r[i-n]===a[o-n];n++);return t3=a.slice(e,1<n?1-n:void 0)}function t6(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function t9(){return!0}function t8(){return!1}function t7(e){function n(n,r,i,a,o){for(var s in this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?t9:t8,this.isPropagationStopped=t8,this}return en(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t9)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t9)},persist:function(){},isPersistent:t9}),n}var ne,nt,nn,nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=t7(nr),na=en({},nr,{view:0,detail:0}),no=t7(na),ns=en({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(ne=e.screenX-nn.screenX,nt=e.screenY-nn.screenY):nt=ne=0,nn=e),ne)},movementY:function(e){return"movementY"in e?e.movementY:nt}}),nl=t7(ns),nu=t7(en({},ns,{dataTransfer:0})),nc=t7(en({},na,{relatedTarget:0})),nh=t7(en({},nr,{animationName:0,elapsedTime:0,pseudoElement:0})),nd=t7(en({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nf=t7(en({},nr,{data:0})),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=ng[e])&&!!n[e]}function nv(){return ny}var nw=t7(en({},na,{key:function(e){if(e.key){var n=np[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nb=t7(en({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),n_=t7(en({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv})),nE=t7(en({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0})),nS=t7(en({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nk=[9,13,27,32],nT=y&&"CompositionEvent"in window,nI=null;y&&"documentMode"in document&&(nI=document.documentMode);var nC=y&&"TextEvent"in window&&!nI,nx=y&&(!nT||nI&&8<nI&&11>=nI),nA=!1;function nR(e,n){switch(e){case"keyup":return -1!==nk.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nP=!1,nO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!nO[e.type]:"textarea"===n}function nL(e,n,r,i){e$(i),0<(n=rS(n,"onChange")).length&&(r=new ni("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var nM=null,nU=null;function nF(e){rm(e,0)}function nj(e){if(ec(rY(e)))return e}function nB(e,n){if("change"===e)return n}var nV=!1;if(y){if(y){var nz="oninput"in document;if(!nz){var n$=document.createElement("div");n$.setAttribute("oninput","return;"),nz="function"==typeof n$.oninput}r=nz}else r=!1;nV=r&&(!document.documentMode||9<document.documentMode)}function nH(){nM&&(nM.detachEvent("onpropertychange",nq),nU=nM=null)}function nq(e){if("value"===e.propertyName&&nj(nU)){var n=[];nL(n,nU,e,eF(e)),eQ(nF,n)}}function nW(e,n,r){"focusin"===e?(nH(),nM=n,nU=r,nM.attachEvent("onpropertychange",nq)):"focusout"===e&&nH()}function nK(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nj(nU)}function nQ(e,n){if("click"===e)return nj(n)}function nG(e,n){if("input"===e||"change"===e)return nj(n)}var nX="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function nY(e,n){if(nX(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!v.call(n,a)||!nX(e[a],n[a]))return!1}return!0}function nJ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nZ(e,n){var r,i=nJ(e);for(e=0;i;){if(3===i.nodeType){if(r=e+i.textContent.length,e<=n&&r>=n)return{node:i,offset:n-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nJ(i)}}function n0(){for(var e=window,n=eh();n instanceof e.HTMLIFrameElement;){try{var r="string"==typeof n.contentWindow.location.href}catch(e){r=!1}if(r)e=n.contentWindow;else break;n=eh(e.document)}return n}function n1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var n2=y&&"documentMode"in document&&11>=document.documentMode,n4=null,n3=null,n5=null,n6=!1;function n9(e,n,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;n6||null==n4||n4!==eh(i)||(i="selectionStart"in(i=n4)&&n1(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},n5&&nY(n5,i)||(n5=i,0<(i=rS(n3,"onSelect")).length&&(n=new ni("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=n4)))}function n8(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var n7={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},re={},rt={};function rn(e){if(re[e])return re[e];if(!n7[e])return e;var n,r=n7[e];for(n in r)if(r.hasOwnProperty(n)&&n in rt)return re[e]=r[n];return e}y&&(rt=document.createElement("div").style,"AnimationEvent"in window||(delete n7.animationend.animation,delete n7.animationiteration.animation,delete n7.animationstart.animation),"TransitionEvent"in window||delete n7.transitionend.transition);var rr=rn("animationend"),ri=rn("animationiteration"),ra=rn("animationstart"),ro=rn("transitionend"),rs=new Map,rl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ru(e,n){rs.set(e,n),m(n,[e])}for(var rc=0;rc<rl.length;rc++){var rh=rl[rc];ru(rh.toLowerCase(),"on"+(rh[0].toUpperCase()+rh.slice(1)))}ru(rr,"onAnimationEnd"),ru(ri,"onAnimationIteration"),ru(ra,"onAnimationStart"),ru("dblclick","onDoubleClick"),ru("focusin","onFocus"),ru("focusout","onBlur"),ru(ro,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function rp(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,function(e,n,r,i,a,o,s,l,u){if(e3.apply(this,arguments),eZ){if(eZ){var c=e0;eZ=!1,e0=null}else throw Error(d(198));e1||(e1=!0,e2=c)}}(i,n,void 0,e),e.currentTarget=null}function rm(e,n){n=0!=(4&n);for(var r=0;r<e.length;r++){var i=e[r],a=i.event;i=i.listeners;e:{var o=void 0;if(n)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&a.isPropagationStopped())break e;rp(a,l,c),o=u}else for(s=0;s<i.length;s++){if(u=(l=i[s]).instance,c=l.currentTarget,l=l.listener,u!==o&&a.isPropagationStopped())break e;rp(a,l,c),o=u}}}if(e1)throw e=e2,e1=!1,e2=null,e}function rg(e,n){var r=n[rW];void 0===r&&(r=n[rW]=new Set);var i=e+"__bubble";r.has(i)||(rb(n,e,2,!1),r.add(i))}function ry(e,n,r){var i=0;n&&(i|=4),rb(r,e,i,n)}var rv="_reactListening"+Math.random().toString(36).slice(2);function rw(e){if(!e[rv]){e[rv]=!0,f.forEach(function(n){"selectionchange"!==n&&(rf.has(n)||ry(n,!1,e),ry(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[rv]||(n[rv]=!0,ry("selectionchange",!1,n))}}function rb(e,n,r,i){switch(t1(n)){case 1:var a=tX;break;case 4:a=tY;break;default:a=tJ}r=a.bind(null,n,r,e),a=void 0,eX&&("touchstart"===n||"touchmove"===n||"wheel"===n)&&(a=!0),i?void 0!==a?e.addEventListener(n,r,{capture:!0,passive:a}):e.addEventListener(n,r,!0):void 0!==a?e.addEventListener(n,r,{passive:a}):e.addEventListener(n,r,!1)}function r_(e,n,r,i,a){var o=i;if(0==(1&n)&&0==(2&n)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var l=i.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;s=s.return}for(;null!==l;){if(null===(s=rG(l)))return;if(5===(u=s.tag)||6===u){i=o=s;continue e}l=l.parentNode}}i=i.return}eQ(function(){var i=o,a=eF(r),s=[];e:{var l=rs.get(e);if(void 0!==l){var u=ni,c=e;switch(e){case"keypress":if(0===t6(r))break e;case"keydown":case"keyup":u=nw;break;case"focusin":c="focus",u=nc;break;case"focusout":c="blur",u=nc;break;case"beforeblur":case"afterblur":u=nc;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=n_;break;case rr:case ri:case ra:u=nh;break;case ro:u=nE;break;case"scroll":u=no;break;case"wheel":u=nS;break;case"copy":case"cut":case"paste":u=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=nb}var h=0!=(4&n),d=!h&&"scroll"===e,f=h?null!==l?l+"Capture":null:l;h=[];for(var p,m=i;null!==m;){var g=(p=m).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&null!=(g=eG(m,f))&&h.push(rE(m,g,p))),d)break;m=m.return}0<h.length&&(l=new u(l,c,null,r,a),s.push({event:l,listeners:h}))}}if(0==(7&n)){if(l="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,!(l&&r!==eU&&(c=r.relatedTarget||r.fromElement)&&(rG(c)||c[rq]))&&(u||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,u?(c=r.relatedTarget||r.toElement,u=i,null!==(c=c?rG(c):null)&&(d=e5(c),c!==d||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=i),u!==c)){if(h=nl,g="onMouseLeave",f="onMouseEnter",m="mouse",("pointerout"===e||"pointerover"===e)&&(h=nb,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?l:rY(u),p=null==c?l:rY(c),(l=new h(g,m+"leave",u,r,a)).target=d,l.relatedTarget=p,g=null,rG(a)===i&&((h=new h(f,m+"enter",c,r,a)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)t:{for(h=u,f=c,m=0,p=h;p;p=rk(p))m++;for(p=0,g=f;g;g=rk(g))p++;for(;0<m-p;)h=rk(h),m--;for(;0<p-m;)f=rk(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break t;h=rk(h),f=rk(f)}h=null}else h=null;null!==u&&rT(s,l,u,h,!1),null!==c&&null!==d&&rT(s,d,c,h,!0)}e:{if("select"===(u=(l=i?rY(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var y,v=nB;else if(nD(l)){if(nV)v=nG;else{v=nK;var w=nW}}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=nQ);if(v&&(v=v(e,i))){nL(s,v,r,a);break e}w&&w(e,l,i),"focusout"===e&&(w=l._wrapperState)&&w.controlled&&"number"===l.type&&ey(l,"number",l.value)}switch(w=i?rY(i):window,e){case"focusin":(nD(w)||"true"===w.contentEditable)&&(n4=w,n3=i,n5=null);break;case"focusout":n5=n3=n4=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n9(s,r,a);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":n9(s,r,a)}if(nT)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else nP?nR(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(nx&&"ko"!==r.locale&&(nP||"onCompositionStart"!==b?"onCompositionEnd"===b&&nP&&(y=t5()):(t4="value"in(t2=a)?t2.value:t2.textContent,nP=!0)),0<(w=rS(i,b)).length&&(b=new nf(b,e,null,r,a),s.push({event:b,listeners:w}),y?b.data=y:null!==(y=nN(r))&&(b.data=y))),(y=nC?function(e,n){switch(e){case"compositionend":return nN(n);case"keypress":if(32!==n.which)return null;return nA=!0," ";case"textInput":return" "===(e=n.data)&&nA?null:e;default:return null}}(e,r):function(e,n){if(nP)return"compositionend"===e||!nT&&nR(e,n)?(e=t5(),t3=t4=t2=null,nP=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nx&&"ko"!==n.locale?null:n.data}}(e,r))&&0<(i=rS(i,"onBeforeInput")).length&&(a=new nf("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:i}),a.data=y)}rm(s,n)})}function rE(e,n,r){return{instance:e,listener:n,currentTarget:r}}function rS(e,n){for(var r=n+"Capture",i=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=eG(e,r))&&i.unshift(rE(e,o,a)),null!=(o=eG(e,n))&&i.push(rE(e,o,a))),e=e.return}return i}function rk(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rT(e,n,r,i,a){for(var o=n._reactName,s=[];null!==r&&r!==i;){var l=r,u=l.alternate,c=l.stateNode;if(null!==u&&u===i)break;5===l.tag&&null!==c&&(l=c,a?null!=(u=eG(r,o))&&s.unshift(rE(r,u,l)):a||null!=(u=eG(r,o))&&s.push(rE(r,u,l))),r=r.return}0!==s.length&&e.push({event:n,listeners:s})}var rI=/\r\n?/g,rC=/\u0000|\uFFFD/g;function rx(e){return("string"==typeof e?e:""+e).replace(rI,"\n").replace(rC,"")}function rA(e,n,r){if(n=rx(n),rx(e)!==n&&r)throw Error(d(425))}function rR(){}var rN=null,rP=null;function rO(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var rD="function"==typeof setTimeout?setTimeout:void 0,rL="function"==typeof clearTimeout?clearTimeout:void 0,rM="function"==typeof Promise?Promise:void 0,rU="function"==typeof queueMicrotask?queueMicrotask:void 0!==rM?function(e){return rM.resolve(null).then(e).catch(rF)}:rD;function rF(e){setTimeout(function(){throw e})}function rj(e,n){var r=n,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType){if("/$"===(r=a.data)){if(0===i){e.removeChild(a),tK(n);return}i--}else"$"!==r&&"$?"!==r&&"$!"!==r||i++}r=a}while(r)tK(n)}function rB(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function rV(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===n)return e;n--}else"/$"===r&&n++}e=e.previousSibling}return null}var rz=Math.random().toString(36).slice(2),r$="__reactFiber$"+rz,rH="__reactProps$"+rz,rq="__reactContainer$"+rz,rW="__reactEvents$"+rz,rK="__reactListeners$"+rz,rQ="__reactHandles$"+rz;function rG(e){var n=e[r$];if(n)return n;for(var r=e.parentNode;r;){if(n=r[rq]||r[r$]){if(r=n.alternate,null!==n.child||null!==r&&null!==r.child)for(e=rV(e);null!==e;){if(r=e[r$])return r;e=rV(e)}return n}r=(e=r).parentNode}return null}function rX(e){return(e=e[r$]||e[rq])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(d(33))}function rJ(e){return e[rH]||null}var rZ=[],r0=-1;function r1(e){return{current:e}}function r2(e){0>r0||(e.current=rZ[r0],rZ[r0]=null,r0--)}function r4(e,n){rZ[++r0]=e.current,e.current=n}var r3={},r5=r1(r3),r6=r1(!1),r9=r3;function r8(e,n){var r=e.type.contextTypes;if(!r)return r3;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=n[a];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function r7(e){return null!=(e=e.childContextTypes)}function ie(){r2(r6),r2(r5)}function it(e,n,r){if(r5.current!==r3)throw Error(d(168));r4(r5,n),r4(r6,r)}function ir(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var a in i=i.getChildContext())if(!(a in n))throw Error(d(108,function(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case R:return"Fragment";case A:return"Portal";case P:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case U:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case O:return(n._context.displayName||"Context")+".Provider";case L:var r=n.render;return(n=n.displayName)||(n=""!==(n=r.displayName||r.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case F:return null!==(r=n.displayName||null)?r:e(n.type)||"Memo";case j:r=n._payload,n=n._init;try{return e(n(r))}catch(e){}}return null}(n);case 8:return n===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}(e)||"Unknown",a));return en({},r,i)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r9=r5.current,r4(r5,e),r4(r6,r6.current),!0}function ia(e,n,r){var i=e.stateNode;if(!i)throw Error(d(169));r?(e=ir(e,n,r9),i.__reactInternalMemoizedMergedChildContext=e,r2(r6),r2(r5),r4(r5,e)):r2(r6),r4(r6,r)}var io=null,is=!1,il=!1;function iu(e){null===io?io=[e]:io.push(e)}function ic(){if(!il&&null!==io){il=!0;var e=0,n=tk;try{var r=io;for(tk=1;e<r.length;e++){var i=r[e];do i=i(!0);while(null!==i)}io=null,is=!1}catch(n){throw null!==io&&(io=io.slice(e+1)),e7(ta,ic),n}finally{tk=n,il=!1}}return null}var ih=[],id=0,ip=null,im=0,ig=[],iy=0,iv=null,iw=1,ib="";function i_(e,n){ih[id++]=im,ih[id++]=ip,ip=e,im=n}function iE(e,n,r){ig[iy++]=iw,ig[iy++]=ib,ig[iy++]=iv,iv=e;var i=iw;e=ib;var a=32-td(i)-1;i&=~(1<<a),r+=1;var o=32-td(n)+a;if(30<o){var s=a-a%5;o=(i&(1<<s)-1).toString(32),i>>=s,a-=s,iw=1<<32-td(n)+a|r<<a|i,ib=o+e}else iw=1<<o|r<<a|i,ib=e}function iS(e){null!==e.return&&(i_(e,1),iE(e,1,0))}function ik(e){for(;e===ip;)ip=ih[--id],ih[id]=null,im=ih[--id],ih[id]=null;for(;e===iv;)iv=ig[--iy],ig[iy]=null,ib=ig[--iy],ig[iy]=null,iw=ig[--iy],ig[iy]=null}var iT=null,iI=null,iC=!1,ix=null;function iA(e,n){var r=s8(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,null===(n=e.deletions)?(e.deletions=[r],e.flags|=16):n.push(r)}function iR(e,n){switch(e.tag){case 5:var r=e.type;return null!==(n=1!==n.nodeType||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,iT=e,iI=rB(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,iT=e,iI=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(r=null!==iv?{id:iw,overflow:ib}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},(r=s8(18,null,null,0)).stateNode=n,r.return=e,e.child=r,iT=e,iI=null,!0);default:return!1}}function iN(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iP(e){if(iC){var n=iI;if(n){var r=n;if(!iR(e,n)){if(iN(e))throw Error(d(418));n=rB(r.nextSibling);var i=iT;n&&iR(e,n)?iA(i,r):(e.flags=-4097&e.flags|2,iC=!1,iT=e)}}else{if(iN(e))throw Error(d(418));e.flags=-4097&e.flags|2,iC=!1,iT=e}}}function iO(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iT=e}function iD(e){if(e!==iT)return!1;if(!iC)return iO(e),iC=!0,!1;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!rO(e.type,e.memoizedProps)),n&&(n=iI)){if(iN(e))throw iL(),Error(d(418));for(;n;)iA(e,n),n=rB(n.nextSibling)}if(iO(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType){var n,r=e.data;if("/$"===r){if(0===n){iI=rB(e.nextSibling);break e}n--}else"$"!==r&&"$!"!==r&&"$?"!==r||n++}e=e.nextSibling}iI=null}}else iI=iT?rB(e.stateNode.nextSibling):null;return!0}function iL(){for(var e=iI;e;)e=rB(e.nextSibling)}function iM(){iI=iT=null,iC=!1}function iU(e){null===ix?ix=[e]:ix.push(e)}var iF=C.ReactCurrentBatchConfig;function ij(e,n,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(d(309));var i=r.stateNode}if(!i)throw Error(d(147,e));var a=i,o=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===o?n.ref:((n=function(e){var n=a.refs;null===e?delete n[o]:n[o]=e})._stringRef=o,n)}if("string"!=typeof e)throw Error(d(284));if(!r._owner)throw Error(d(290,e))}return e}function iB(e,n){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function iV(e){return(0,e._init)(e._payload)}function iz(e){function n(n,r){if(e){var i=n.deletions;null===i?(n.deletions=[r],n.flags|=16):i.push(r)}}function r(r,i){if(!e)return null;for(;null!==i;)n(r,i),i=i.sibling;return null}function i(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=le(e,n)).index=0,e.sibling=null,e}function o(n,r,i){return(n.index=i,e)?null!==(i=n.alternate)?(i=i.index)<r?(n.flags|=2,r):i:(n.flags|=2,r):(n.flags|=1048576,r)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,r,i){return null===n||6!==n.tag?(n=li(r,e.mode,i)).return=e:(n=a(n,r)).return=e,n}function u(e,n,r,i){var o=r.type;return o===R?h(e,n,r.props.children,i,r.key):(null!==n&&(n.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===j&&iV(o)===n.type)?(i=a(n,r.props)).ref=ij(e,n,r):(i=lt(r.type,r.key,r.props,null,e.mode,i)).ref=ij(e,n,r),i.return=e,i)}function c(e,n,r,i){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?(n=la(r,e.mode,i)).return=e:(n=a(n,r.children||[])).return=e,n}function h(e,n,r,i,o){return null===n||7!==n.tag?(n=ln(r,e.mode,i,o)).return=e:(n=a(n,r)).return=e,n}function f(e,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=li(""+n,e.mode,r)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return(r=lt(n.type,n.key,n.props,null,e.mode,r)).ref=ij(e,null,n),r.return=e,r;case A:return(n=la(n,e.mode,r)).return=e,n;case j:return f(e,(0,n._init)(n._payload),r)}if(ev(n)||z(n))return(n=ln(n,e.mode,r,null)).return=e,n;iB(e,n)}return null}function p(e,n,r,i){var a=null!==n?n.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:l(e,n,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===a?u(e,n,r,i):null;case A:return r.key===a?c(e,n,r,i):null;case j:return p(e,n,(a=r._init)(r._payload),i)}if(ev(r)||z(r))return null!==a?null:h(e,n,r,i,null);iB(e,r)}return null}function m(e,n,r,i,a){if("string"==typeof i&&""!==i||"number"==typeof i)return l(n,e=e.get(r)||null,""+i,a);if("object"==typeof i&&null!==i){switch(i.$$typeof){case x:return u(n,e=e.get(null===i.key?r:i.key)||null,i,a);case A:return c(n,e=e.get(null===i.key?r:i.key)||null,i,a);case j:return m(e,n,r,(0,i._init)(i._payload),a)}if(ev(i)||z(i))return h(n,e=e.get(r)||null,i,a,null);iB(n,i)}return null}return function l(u,c,h,g){if("object"==typeof h&&null!==h&&h.type===R&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case x:e:{for(var y=h.key,v=c;null!==v;){if(v.key===y){if((y=h.type)===R){if(7===v.tag){r(u,v.sibling),(c=a(v,h.props.children)).return=u,u=c;break e}}else if(v.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===j&&iV(y)===v.type){r(u,v.sibling),(c=a(v,h.props)).ref=ij(u,v,h),c.return=u,u=c;break e}r(u,v);break}n(u,v),v=v.sibling}h.type===R?((c=ln(h.props.children,u.mode,g,h.key)).return=u,u=c):((g=lt(h.type,h.key,h.props,null,u.mode,g)).ref=ij(u,c,h),g.return=u,u=g)}return s(u);case A:e:{for(v=h.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){r(u,c.sibling),(c=a(c,h.children||[])).return=u,u=c;break e}r(u,c);break}n(u,c),c=c.sibling}(c=la(h,u.mode,g)).return=u,u=c}return s(u);case j:return l(u,c,(v=h._init)(h._payload),g)}if(ev(h))return function(a,s,l,u){for(var c=null,h=null,d=s,g=s=0,y=null;null!==d&&g<l.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var v=p(a,d,l[g],u);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&n(a,d),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v,d=y}if(g===l.length)return r(a,d),iC&&i_(a,g),c;if(null===d){for(;g<l.length;g++)null!==(d=f(a,l[g],u))&&(s=o(d,s,g),null===h?c=d:h.sibling=d,h=d);return iC&&i_(a,g),c}for(d=i(a,d);g<l.length;g++)null!==(y=m(d,a,g,l[g],u))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&d.forEach(function(e){return n(a,e)}),iC&&i_(a,g),c}(u,c,h,g);if(z(h))return function(a,s,l,u){var c=z(l);if("function"!=typeof c)throw Error(d(150));if(null==(l=c.call(l)))throw Error(d(151));for(var h=c=null,g=s,y=s=0,v=null,w=l.next();null!==g&&!w.done;y++,w=l.next()){g.index>y?(v=g,g=null):v=g.sibling;var b=p(a,g,w.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&n(a,g),s=o(b,s,y),null===h?c=b:h.sibling=b,h=b,g=v}if(w.done)return r(a,g),iC&&i_(a,y),c;if(null===g){for(;!w.done;y++,w=l.next())null!==(w=f(a,w.value,u))&&(s=o(w,s,y),null===h?c=w:h.sibling=w,h=w);return iC&&i_(a,y),c}for(g=i(a,g);!w.done;y++,w=l.next())null!==(w=m(g,a,y,w.value,u))&&(e&&null!==w.alternate&&g.delete(null===w.key?y:w.key),s=o(w,s,y),null===h?c=w:h.sibling=w,h=w);return e&&g.forEach(function(e){return n(a,e)}),iC&&i_(a,y),c}(u,c,h,g);iB(u,h)}return"string"==typeof h&&""!==h||"number"==typeof h?(h=""+h,null!==c&&6===c.tag?(r(u,c.sibling),(c=a(c,h)).return=u):(r(u,c),(c=li(h,u.mode,g)).return=u),s(u=c)):r(u,c)}}var i$=iz(!0),iH=iz(!1),iq=r1(null),iW=null,iK=null,iQ=null;function iG(){iQ=iK=iW=null}function iX(e){var n=iq.current;r2(iq),e._currentValue=n}function iY(e,n,r){for(;null!==e;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==i&&(i.childLanes|=n)):null!==i&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function iJ(e,n){iW=e,iQ=iK=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(o_=!0),e.firstContext=null)}function iZ(e){var n=e._currentValue;if(iQ!==e){if(e={context:e,memoizedValue:n,next:null},null===iK){if(null===iW)throw Error(d(308));iK=e,iW.dependencies={lanes:0,firstContext:e}}else iK=iK.next=e}return n}var i0=null;function i1(e){null===i0?i0=[e]:i0.push(e)}function i2(e,n,r,i){var a=n.interleaved;return null===a?(r.next=r,i1(n)):(r.next=a.next,a.next=r),n.interleaved=r,i4(e,i)}function i4(e,n){e.lanes|=n;var r=e.alternate;for(null!==r&&(r.lanes|=n),r=e,e=e.return;null!==e;)e.childLanes|=n,null!==(r=e.alternate)&&(r.childLanes|=n),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var i3=!1;function i5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i9(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function i8(e,n,r){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&sl)){var a=i.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),i.pending=n,i4(e,r)}return null===(a=i.interleaved)?(n.next=n,i1(i)):(n.next=a.next,a.next=n),i.interleaved=n,i4(e,r)}function i7(e,n,r){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&r))){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,tS(e,r)}}function ae(e,n){var r=e.updateQueue,i=e.alternate;if(null!==i&&r===(i=i.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?a=o=s:o=o.next=s,r=r.next}while(null!==r)null===o?a=o=n:o=o.next=n}else a=o=n;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function at(e,n,r,i){var a=e.updateQueue;i3=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var h=e.alternate;null!==h&&(l=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===l?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u)}if(null!==o){var d=a.baseState;for(s=0,h=c=u=null,l=o;;){var f=l.lane,p=l.eventTime;if((i&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=n,p=r,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,d,f):m))break e;d=en({},d,f);break e;case 2:i3=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,s|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===h&&(u=d),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=h,null!==(n=a.shared.interleaved)){a=n;do s|=a.lane,a=a.next;while(a!==n)}else null===o&&(a.shared.lanes=0);sg|=s,e.lanes=s,e.memoizedState=d}}function an(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var i=e[n],a=i.callback;if(null!==a){if(i.callback=null,i=r,"function"!=typeof a)throw Error(d(191,a));a.call(i)}}}var ar={},ai=r1(ar),aa=r1(ar),ao=r1(ar);function as(e){if(e===ar)throw Error(d(174));return e}function al(e,n){switch(r4(ao,n),r4(aa,e),r4(ai,ar),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:eT(null,"");break;default:n=eT(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}r2(ai),r4(ai,n)}function au(){r2(ai),r2(aa),r2(ao)}function ac(e){as(ao.current);var n=as(ai.current),r=eT(n,e.type);n!==r&&(r4(aa,e),r4(ai,r))}function ah(e){aa.current===e&&(r2(ai),r2(aa))}var ad=r1(0);function af(e){for(var n=e;null!==n;){if(13===n.tag){var r=n.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ap=[];function am(){for(var e=0;e<ap.length;e++)ap[e]._workInProgressVersionPrimary=null;ap.length=0}var ag=C.ReactCurrentDispatcher,ay=C.ReactCurrentBatchConfig,av=0,aw=null,ab=null,a_=null,aE=!1,aS=!1,ak=0,aT=0;function aI(){throw Error(d(321))}function aC(e,n){if(null===n)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!nX(e[r],n[r]))return!1;return!0}function ax(e,n,r,i,a,o){if(av=o,aw=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ag.current=null===e||null===e.memoizedState?ot:on,e=r(i,a),aS){o=0;do{if(aS=!1,ak=0,25<=o)throw Error(d(301));o+=1,a_=ab=null,n.updateQueue=null,ag.current=or,e=r(i,a)}while(aS)}if(ag.current=oe,n=null!==ab&&null!==ab.next,av=0,a_=ab=aw=null,aE=!1,n)throw Error(d(300));return e}function aA(){var e=0!==ak;return ak=0,e}function aR(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===a_?aw.memoizedState=a_=e:a_=a_.next=e,a_}function aN(){if(null===ab){var e=aw.alternate;e=null!==e?e.memoizedState:null}else e=ab.next;var n=null===a_?aw.memoizedState:a_.next;if(null!==n)a_=n,ab=e;else{if(null===e)throw Error(d(310));e={memoizedState:(ab=e).memoizedState,baseState:ab.baseState,baseQueue:ab.baseQueue,queue:ab.queue,next:null},null===a_?aw.memoizedState=a_=e:a_=a_.next=e}return a_}function aP(e,n){return"function"==typeof n?n(e):n}function aO(e){var n=aN(),r=n.queue;if(null===r)throw Error(d(311));r.lastRenderedReducer=e;var i=ab,a=i.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((av&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,aw.lanes|=h,sg|=h}c=c.next}while(null!==c&&c!==o)null===u?s=i:u.next=l,nX(i,n.memoizedState)||(o_=!0),n.memoizedState=i,n.baseState=s,n.baseQueue=u,r.lastRenderedState=i}if(null!==(e=r.interleaved)){a=e;do o=a.lane,aw.lanes|=o,sg|=o,a=a.next;while(a!==e)}else null===a&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function aD(e){var n=aN(),r=n.queue;if(null===r)throw Error(d(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,o=n.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a)nX(o,n.memoizedState)||(o_=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),r.lastRenderedState=o}return[o,i]}function aL(){}function aM(e,n){var r=aw,i=aN(),a=n(),o=!nX(i.memoizedState,a);if(o&&(i.memoizedState=a,o_=!0),i=i.queue,aQ(aj.bind(null,r,i,e),[e]),i.getSnapshot!==n||o||null!==a_&&1&a_.memoizedState.tag){if(r.flags|=2048,a$(9,aF.bind(null,r,i,a,n),void 0,null),null===su)throw Error(d(349));0!=(30&av)||aU(r,n,a)}return a}function aU(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},null===(n=aw.updateQueue)?(n={lastEffect:null,stores:null},aw.updateQueue=n,n.stores=[e]):null===(r=n.stores)?n.stores=[e]:r.push(e)}function aF(e,n,r,i){n.value=r,n.getSnapshot=i,aB(n)&&aV(e)}function aj(e,n,r){return r(function(){aB(n)&&aV(e)})}function aB(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!nX(e,r)}catch(e){return!0}}function aV(e){var n=i4(e,1);null!==n&&sM(n,e,1,-1)}function az(e){var n=aR();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aP,lastRenderedState:e},n.queue=e,e=e.dispatch=a6.bind(null,aw,e),[n.memoizedState,e]}function a$(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},null===(n=aw.updateQueue)?(n={lastEffect:null,stores:null},aw.updateQueue=n,n.lastEffect=e.next=e):null===(r=n.lastEffect)?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e),e}function aH(){return aN().memoizedState}function aq(e,n,r,i){var a=aR();aw.flags|=e,a.memoizedState=a$(1|n,r,void 0,void 0===i?null:i)}function aW(e,n,r,i){var a=aN();i=void 0===i?null:i;var o=void 0;if(null!==ab){var s=ab.memoizedState;if(o=s.destroy,null!==i&&aC(i,s.deps)){a.memoizedState=a$(n,r,o,i);return}}aw.flags|=e,a.memoizedState=a$(1|n,r,o,i)}function aK(e,n){return aq(8390656,8,e,n)}function aQ(e,n){return aW(2048,8,e,n)}function aG(e,n){return aW(4,2,e,n)}function aX(e,n){return aW(4,4,e,n)}function aY(e,n){return"function"==typeof n?(n(e=e()),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function aJ(e,n,r){return r=null!=r?r.concat([e]):null,aW(4,4,aY.bind(null,n,e),r)}function aZ(){}function a0(e,n){var r=aN();n=void 0===n?null:n;var i=r.memoizedState;return null!==i&&null!==n&&aC(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function a1(e,n){var r=aN();n=void 0===n?null:n;var i=r.memoizedState;return null!==i&&null!==n&&aC(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function a2(e,n,r){return 0==(21&av)?(e.baseState&&(e.baseState=!1,o_=!0),e.memoizedState=r):(nX(r,n)||(r=tb(),aw.lanes|=r,sg|=r,e.baseState=!0),n)}function a4(e,n){var r=tk;tk=0!==r&&4>r?r:4,e(!0);var i=ay.transition;ay.transition={};try{e(!1),n()}finally{tk=r,ay.transition=i}}function a3(){return aN().memoizedState}function a5(e,n,r){var i=sL(e);r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},a9(e)?a8(n,r):null!==(r=i2(e,n,r,i))&&(sM(r,e,i,sD()),a7(r,n,i))}function a6(e,n,r){var i=sL(e),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(a9(e))a8(n,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var s=n.lastRenderedState,l=o(s,r);if(a.hasEagerState=!0,a.eagerState=l,nX(l,s)){var u=n.interleaved;null===u?(a.next=a,i1(n)):(a.next=u.next,u.next=a),n.interleaved=a;return}}catch(e){}finally{}null!==(r=i2(e,n,a,i))&&(sM(r,e,i,a=sD()),a7(r,n,i))}}function a9(e){var n=e.alternate;return e===aw||null!==n&&n===aw}function a8(e,n){aS=aE=!0;var r=e.pending;null===r?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function a7(e,n,r){if(0!=(4194240&r)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,tS(e,r)}}var oe={readContext:iZ,useCallback:aI,useContext:aI,useEffect:aI,useImperativeHandle:aI,useInsertionEffect:aI,useLayoutEffect:aI,useMemo:aI,useReducer:aI,useRef:aI,useState:aI,useDebugValue:aI,useDeferredValue:aI,useTransition:aI,useMutableSource:aI,useSyncExternalStore:aI,useId:aI,unstable_isNewReconciler:!1},ot={readContext:iZ,useCallback:function(e,n){return aR().memoizedState=[e,void 0===n?null:n],e},useContext:iZ,useEffect:aK,useImperativeHandle:function(e,n,r){return r=null!=r?r.concat([e]):null,aq(4194308,4,aY.bind(null,n,e),r)},useLayoutEffect:function(e,n){return aq(4194308,4,e,n)},useInsertionEffect:function(e,n){return aq(4,2,e,n)},useMemo:function(e,n){var r=aR();return n=void 0===n?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=aR();return n=void 0!==r?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=a5.bind(null,aw,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},aR().memoizedState=e},useState:az,useDebugValue:aZ,useDeferredValue:function(e){return aR().memoizedState=e},useTransition:function(){var e=az(!1),n=e[0];return e=a4.bind(null,e[1]),aR().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=aw,a=aR();if(iC){if(void 0===r)throw Error(d(407));r=r()}else{if(r=n(),null===su)throw Error(d(349));0!=(30&av)||aU(i,n,r)}a.memoizedState=r;var o={value:r,getSnapshot:n};return a.queue=o,aK(aj.bind(null,i,o,e),[e]),i.flags|=2048,a$(9,aF.bind(null,i,o,r,n),void 0,null),r},useId:function(){var e=aR(),n=su.identifierPrefix;if(iC){var r=ib,i=iw;n=":"+n+"R"+(r=(i&~(1<<32-td(i)-1)).toString(32)+r),0<(r=ak++)&&(n+="H"+r.toString(32)),n+=":"}else n=":"+n+"r"+(r=aT++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},on={readContext:iZ,useCallback:a0,useContext:iZ,useEffect:aQ,useImperativeHandle:aJ,useInsertionEffect:aG,useLayoutEffect:aX,useMemo:a1,useReducer:aO,useRef:aH,useState:function(){return aO(aP)},useDebugValue:aZ,useDeferredValue:function(e){return a2(aN(),ab.memoizedState,e)},useTransition:function(){return[aO(aP)[0],aN().memoizedState]},useMutableSource:aL,useSyncExternalStore:aM,useId:a3,unstable_isNewReconciler:!1},or={readContext:iZ,useCallback:a0,useContext:iZ,useEffect:aQ,useImperativeHandle:aJ,useInsertionEffect:aG,useLayoutEffect:aX,useMemo:a1,useReducer:aD,useRef:aH,useState:function(){return aD(aP)},useDebugValue:aZ,useDeferredValue:function(e){var n=aN();return null===ab?n.memoizedState=e:a2(n,ab.memoizedState,e)},useTransition:function(){return[aD(aP)[0],aN().memoizedState]},useMutableSource:aL,useSyncExternalStore:aM,useId:a3,unstable_isNewReconciler:!1};function oi(e,n){if(e&&e.defaultProps)for(var r in n=en({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}function oa(e,n,r,i){r=null==(r=r(i,n=e.memoizedState))?n:en({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&e5(e)===e},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=sD(),a=sL(e),o=i9(i,a);o.payload=n,null!=r&&(o.callback=r),null!==(n=i8(e,o,a))&&(sM(n,e,a,i),i7(n,e,a))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=sD(),a=sL(e),o=i9(i,a);o.tag=1,o.payload=n,null!=r&&(o.callback=r),null!==(n=i8(e,o,a))&&(sM(n,e,a,i),i7(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=sD(),i=sL(e),a=i9(r,i);a.tag=2,null!=n&&(a.callback=n),null!==(n=i8(e,a,i))&&(sM(n,e,i,r),i7(n,e,i))}};function os(e,n,r,i,a,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!n.prototype||!n.prototype.isPureReactComponent||!nY(r,i)||!nY(a,o)}function ol(e,n,r){var i=!1,a=r3,o=n.contextType;return"object"==typeof o&&null!==o?o=iZ(o):(a=r7(n)?r9:r5.current,o=(i=null!=(i=n.contextTypes))?r8(e,a):r3),n=new n(r,o),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=oo,e.stateNode=n,n._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),n}function ou(e,n,r,i){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(r,i),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&oo.enqueueReplaceState(n,n.state,null)}function oc(e,n,r,i){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},i5(e);var o=n.contextType;"object"==typeof o&&null!==o?a.context=iZ(o):(o=r7(n)?r9:r5.current,a.context=r8(e,o)),a.state=e.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(oa(e,n,o,r),a.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(n=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&oo.enqueueReplaceState(a,a.state,null),at(e,r,a,i),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function oh(e,n){try{var r="",i=n;do r+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(i),i=i.return;while(i)var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:a,digest:null}}function od(e,n,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=n?n:null}}function of(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var op="function"==typeof WeakMap?WeakMap:Map;function om(e,n,r){(r=i9(-1,r)).tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){sk||(sk=!0,sT=i),of(e,n)},r}function og(e,n,r){(r=i9(-1,r)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var a=n.value;r.payload=function(){return i(a)},r.callback=function(){of(e,n)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){of(e,n),"function"!=typeof i&&(null===sI?sI=new Set([this]):sI.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:null!==r?r:""})}),r}function oy(e,n,r){var i=e.pingCache;if(null===i){i=e.pingCache=new op;var a=new Set;i.set(n,a)}else void 0===(a=i.get(n))&&(a=new Set,i.set(n,a));a.has(r)||(a.add(r),e=s4.bind(null,e,n,r),n.then(e,e))}function ov(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e)return null}function ow(e,n,r,i,a){return 0==(1&e.mode)?e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((n=i9(-1,1)).tag=2,i8(r,n,1))),r.lanes|=1):(e.flags|=65536,e.lanes=a),e}var ob=C.ReactCurrentOwner,o_=!1;function oE(e,n,r,i){n.child=null===e?iH(n,null,r,i):i$(n,e.child,r,i)}function oS(e,n,r,i,a){r=r.render;var o=n.ref;return(iJ(n,a),i=ax(e,n,r,i,o,a),r=aA(),null===e||o_)?(iC&&r&&iS(n),n.flags|=1,oE(e,n,i,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,oz(e,n,a))}function ok(e,n,r,i,a){if(null===e){var o=r.type;return"function"!=typeof o||s7(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=lt(r.type,null,i,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=o,oT(e,n,o,i,a))}if(o=e.child,0==(e.lanes&a)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:nY)(s,i)&&e.ref===n.ref)return oz(e,n,a)}return n.flags|=1,(e=le(o,i)).ref=n.ref,e.return=n,n.child=e}function oT(e,n,r,i,a){if(null!==e){var o=e.memoizedProps;if(nY(o,i)&&e.ref===n.ref){if(o_=!1,n.pendingProps=i=o,0==(e.lanes&a))return n.lanes=e.lanes,oz(e,n,a);0!=(131072&e.flags)&&(o_=!0)}}return ox(e,n,r,i,a)}function oI(e,n,r){var i=n.pendingProps,a=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r4(sf,sd),sd|=r;else{if(0==(1073741824&r))return e=null!==o?o.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,r4(sf,sd),sd|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:r,r4(sf,sd),sd|=i}}else null!==o?(i=o.baseLanes|r,n.memoizedState=null):i=r,r4(sf,sd),sd|=i;return oE(e,n,a,r),n.child}function oC(e,n){var r=n.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function ox(e,n,r,i,a){var o=r7(r)?r9:r5.current;return(o=r8(n,o),iJ(n,a),r=ax(e,n,r,i,o,a),i=aA(),null===e||o_)?(iC&&i&&iS(n),n.flags|=1,oE(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,oz(e,n,a))}function oA(e,n,r,i,a){if(r7(r)){var o=!0;ii(n)}else o=!1;if(iJ(n,a),null===n.stateNode)oV(e,n),ol(n,r,i),oc(n,r,i,a),i=!0;else if(null===e){var s=n.stateNode,l=n.memoizedProps;s.props=l;var u=s.context,c=r.contextType;c="object"==typeof c&&null!==c?iZ(c):r8(n,c=r7(r)?r9:r5.current);var h=r.getDerivedStateFromProps,d="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==i||u!==c)&&ou(n,s,i,c),i3=!1;var f=n.memoizedState;s.state=f,at(n,i,s,a),u=n.memoizedState,l!==i||f!==u||r6.current||i3?("function"==typeof h&&(oa(n,r,h,i),u=n.memoizedState),(l=i3||os(n,r,l,i,f,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(n.flags|=4194308)):("function"==typeof s.componentDidMount&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=u),s.props=i,s.state=u,s.context=c,i=l):("function"==typeof s.componentDidMount&&(n.flags|=4194308),i=!1)}else{s=n.stateNode,i6(e,n),l=n.memoizedProps,c=n.type===n.elementType?l:oi(n.type,l),s.props=c,d=n.pendingProps,f=s.context,u="object"==typeof(u=r.contextType)&&null!==u?iZ(u):r8(n,u=r7(r)?r9:r5.current);var p=r.getDerivedStateFromProps;(h="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==d||f!==u)&&ou(n,s,i,u),i3=!1,f=n.memoizedState,s.state=f,at(n,i,s,a);var m=n.memoizedState;l!==d||f!==m||r6.current||i3?("function"==typeof p&&(oa(n,r,p,i),m=n.memoizedState),(c=i3||os(n,r,c,i,f,m,u)||!1)?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,m,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,m,u)),"function"==typeof s.componentDidUpdate&&(n.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=m),s.props=i,s.state=m,s.context=u,i=c):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),i=!1)}return oR(e,n,r,i,o,a)}function oR(e,n,r,i,a,o){oC(e,n);var s=0!=(128&n.flags);if(!i&&!s)return a&&ia(n,r,!1),oz(e,n,o);i=n.stateNode,ob.current=n;var l=s&&"function"!=typeof r.getDerivedStateFromError?null:i.render();return n.flags|=1,null!==e&&s?(n.child=i$(n,e.child,null,o),n.child=i$(n,null,l,o)):oE(e,n,l,o),n.memoizedState=i.state,a&&ia(n,r,!0),n.child}function oN(e){var n=e.stateNode;n.pendingContext?it(e,n.pendingContext,n.pendingContext!==n.context):n.context&&it(e,n.context,!1),al(e,n.containerInfo)}function oP(e,n,r,i,a){return iM(),iU(a),n.flags|=256,oE(e,n,r,i),n.child}var oO={dehydrated:null,treeContext:null,retryLane:0};function oD(e){return{baseLanes:e,cachePool:null,transitions:null}}function oL(e,n,r){var i,a=n.pendingProps,o=ad.current,s=!1,l=0!=(128&n.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&o)),i?(s=!0,n.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),r4(ad,1&o),null===e)return(iP(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=n.mode,s=n.child,l={mode:"hidden",children:l},0==(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=lr(l,a,0,null),e=ln(e,a,r,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=oD(r),n.memoizedState=oO,e):oM(n,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,n,r,i,a,o,s){if(r)return 256&n.flags?(n.flags&=-257,oU(e,n,s,i=od(Error(d(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(o=i.fallback,a=n.mode,i=lr({mode:"visible",children:i.children},a,0,null),o=ln(o,a,s,null),o.flags|=2,i.return=n,o.return=n,i.sibling=o,n.child=i,0!=(1&n.mode)&&i$(n,e.child,null,s),n.child.memoizedState=oD(s),n.memoizedState=oO,o);if(0==(1&n.mode))return oU(e,n,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,oU(e,n,s,i=od(o=Error(d(419)),i,void 0))}if(l=0!=(s&e.childLanes),o_||l){if(null!==(i=su)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!=(a&(i.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,i4(e,a),sM(i,e,a,-1))}return sG(),oU(e,n,s,i=od(Error(d(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=s5.bind(null,e),a._reactRetry=n,null):(e=o.treeContext,iI=rB(a.nextSibling),iT=n,iC=!0,ix=null,null!==e&&(ig[iy++]=iw,ig[iy++]=ib,ig[iy++]=iv,iw=e.id,ib=e.overflow,iv=n),n=oM(n,i.children),n.flags|=4096,n)}(e,n,l,a,i,o,r);if(s){s=a.fallback,l=n.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0==(1&l)&&n.child!==o?((a=n.child).childLanes=0,a.pendingProps=u,n.deletions=null):(a=le(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=le(i,s):(s=ln(s,l,r,null),s.flags|=2),s.return=n,a.return=n,a.sibling=s,n.child=a,a=s,s=n.child,l=null===(l=e.child.memoizedState)?oD(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,n.memoizedState=oO,a}return e=(s=e.child).sibling,a=le(s,{mode:"visible",children:a.children}),0==(1&n.mode)&&(a.lanes=r),a.return=n,a.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=a,n.memoizedState=null,a}function oM(e,n){return(n=lr({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function oU(e,n,r,i){return null!==i&&iU(i),i$(n,e.child,null,r),e=oM(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oF(e,n,r){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n),iY(e.return,n,r)}function oj(e,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=a)}function oB(e,n,r){var i=n.pendingProps,a=i.revealOrder,o=i.tail;if(oE(e,n,i.children,r),0!=(2&(i=ad.current)))i=1&i|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oF(e,r,n);else if(19===e.tag)oF(e,r,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(r4(ad,i),0==(1&n.mode))n.memoizedState=null;else switch(a){case"forwards":for(a=null,r=n.child;null!==r;)null!==(e=r.alternate)&&null===af(e)&&(a=r),r=r.sibling;null===(r=a)?(a=n.child,n.child=null):(a=r.sibling,r.sibling=null),oj(n,!1,a,r,o);break;case"backwards":for(r=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===af(e)){n.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oj(n,!0,r,null,o);break;case"together":oj(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oV(e,n){0==(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function oz(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),sg|=n.lanes,0==(r&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(d(153));if(null!==n.child){for(r=le(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=le(e,e.pendingProps)).return=n;r.sibling=null}return n.child}function o$(e,n){if(!iC)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?n||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function oH(e){var n=null!==e.alternate&&e.alternate.child===e.child,r=0,i=0;if(n)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,i|=14680064&a.subtreeFlags,i|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}i=function(e,n){for(var r=n.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},a=function(){},s=function(e,n,r,i){var a=e.memoizedProps;if(a!==i){e=n.stateNode,as(ai.current);var o,s=null;switch(r){case"input":a=ed(e,a),i=ed(e,i),s=[];break;case"select":a=en({},a,{value:void 0}),i=en({},i,{value:void 0}),s=[];break;case"textarea":a=eb(e,a),i=eb(e,i),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(e.onclick=rR)}for(c in eL(r,i),r=null,a)if(!i.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c]){if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null))}for(c in i){var u=i[c];if(l=null!=a?a[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l)){if("style"===c){if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u}else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(p.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&rg("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}}r&&(s=s||[]).push("style",r);var c=s;(n.updateQueue=c)&&(n.flags|=4)}},l=function(e,n,r,i){r!==i&&(n.flags|=4)};var oq=!1,oW=!1,oK="function"==typeof WeakSet?WeakSet:Set,oQ=null;function oG(e,n){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){s2(e,n,r)}else r.current=null}}function oX(e,n,r){try{r()}catch(r){s2(e,n,r)}}var oY=!1;function oJ(e,n,r){var i=n.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var a=i=i.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&oX(n,r,o)}a=a.next}while(a!==i)}}function oZ(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function o0(e){var n=e.ref;if(null!==n){var r=e.stateNode;e.tag,e=r,"function"==typeof n?n(e):n.current=e}}function o1(e){return 5===e.tag||3===e.tag||4===e.tag}function o2(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||o1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var o4=null,o3=!1;function o5(e,n,r){for(r=r.child;null!==r;)o6(e,n,r),r=r.sibling}function o6(e,n,r){if(th&&"function"==typeof th.onCommitFiberUnmount)try{th.onCommitFiberUnmount(tc,r)}catch(e){}switch(r.tag){case 5:oW||oG(r,n);case 6:var i=o4,a=o3;o4=null,o5(e,n,r),o4=i,o3=a,null!==o4&&(o3?(e=o4,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):o4.removeChild(r.stateNode));break;case 18:null!==o4&&(o3?(e=o4,r=r.stateNode,8===e.nodeType?rj(e.parentNode,r):1===e.nodeType&&rj(e,r),tK(e)):rj(o4,r.stateNode));break;case 4:i=o4,a=o3,o4=r.stateNode.containerInfo,o3=!0,o5(e,n,r),o4=i,o3=a;break;case 0:case 11:case 14:case 15:if(!oW&&null!==(i=r.updateQueue)&&null!==(i=i.lastEffect)){a=i=i.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)?oX(r,n,s):0!=(4&o)&&oX(r,n,s)),a=a.next}while(a!==i)}o5(e,n,r);break;case 1:if(!oW&&(oG(r,n),"function"==typeof(i=r.stateNode).componentWillUnmount))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(e){s2(r,n,e)}o5(e,n,r);break;case 21:default:o5(e,n,r);break;case 22:1&r.mode?(oW=(i=oW)||null!==r.memoizedState,o5(e,n,r),oW=i):o5(e,n,r)}}function o9(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new oK),n.forEach(function(n){var i=s6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function o8(e,n){var r=n.deletions;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i];try{var o=n,s=o;e:for(;null!==s;){switch(s.tag){case 5:o4=s.stateNode,o3=!1;break e;case 3:case 4:o4=s.stateNode.containerInfo,o3=!0;break e}s=s.return}if(null===o4)throw Error(d(160));o6(e,o,a),o4=null,o3=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(e){s2(a,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)o7(n,e),n=n.sibling}function o7(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(o8(n,e),se(e),4&i){try{oJ(3,e,e.return),oZ(3,e)}catch(n){s2(e,e.return,n)}try{oJ(5,e,e.return)}catch(n){s2(e,e.return,n)}}break;case 1:o8(n,e),se(e),512&i&&null!==r&&oG(r,r.return);break;case 5:if(o8(n,e),se(e),512&i&&null!==r&&oG(r,r.return),32&e.flags){var a=e.stateNode;try{eA(a,"")}catch(n){s2(e,e.return,n)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&ep(a,o),eM(l,s);var c=eM(l,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];"style"===h?eO(a,f):"dangerouslySetInnerHTML"===h?ex(a,f):"children"===h?eA(a,f):I(a,h,f,c)}switch(l){case"input":em(a,o);break;case"textarea":eE(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ew(a,!!o.multiple,m,!1):!!o.multiple!==p&&(null!=o.defaultValue?ew(a,!!o.multiple,o.defaultValue,!0):ew(a,!!o.multiple,o.multiple?[]:"",!1))}a[rH]=o}catch(n){s2(e,e.return,n)}}break;case 6:if(o8(n,e),se(e),4&i){if(null===e.stateNode)throw Error(d(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(n){s2(e,e.return,n)}}break;case 3:if(o8(n,e),se(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{tK(n.containerInfo)}catch(n){s2(e,e.return,n)}break;case 4:default:o8(n,e),se(e);break;case 13:o8(n,e),se(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,o&&(null===a.alternate||null===a.alternate.memoizedState)&&(s_=tr())),4&i&&o9(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?(oW=(c=oW)||h,o8(n,e),oW=c):o8(n,e),se(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!=(1&e.mode))for(oQ=e,h=e.child;null!==h;){for(f=oQ=h;null!==oQ;){switch(m=(p=oQ).child,p.tag){case 0:case 11:case 14:case 15:oJ(4,p,p.return);break;case 1:oG(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){i=p,r=p.return;try{n=i,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(e){s2(i,r,e)}}break;case 5:oG(p,p.return);break;case 22:if(null!==p.memoizedState){sn(f);continue}}null!==m?(m.return=p,oQ=m):sn(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{a=f.stateNode,c?(o=a.style,"function"==typeof o.setProperty?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=eP("display",s))}catch(n){s2(e,e.return,n)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(n){s2(e,e.return,n)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:o8(n,e),se(e),4&i&&o9(e);case 21:}}function se(e){var n=e.flags;if(2&n){try{e:{for(var r=e.return;null!==r;){if(o1(r)){var i=r;break e}r=r.return}throw Error(d(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(eA(a,""),i.flags&=-33);var o=o2(e);!function e(n,r,i){var a=n.tag;if(5===a||6===a)n=n.stateNode,r?i.insertBefore(n,r):i.appendChild(n);else if(4!==a&&null!==(n=n.child))for(e(n,r,i),n=n.sibling;null!==n;)e(n,r,i),n=n.sibling}(e,o,a);break;case 3:case 4:var s=i.stateNode.containerInfo,l=o2(e);!function e(n,r,i){var a=n.tag;if(5===a||6===a)n=n.stateNode,r?8===i.nodeType?i.parentNode.insertBefore(n,r):i.insertBefore(n,r):(8===i.nodeType?(r=i.parentNode).insertBefore(n,i):(r=i).appendChild(n),null!=(i=i._reactRootContainer)||null!==r.onclick||(r.onclick=rR));else if(4!==a&&null!==(n=n.child))for(e(n,r,i),n=n.sibling;null!==n;)e(n,r,i),n=n.sibling}(e,l,s);break;default:throw Error(d(161))}}catch(n){s2(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function st(e){for(;null!==oQ;){var n=oQ;if(0!=(8772&n.flags)){var r=n.alternate;try{if(0!=(8772&n.flags))switch(n.tag){case 0:case 11:case 15:oW||oZ(5,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!oW){if(null===r)i.componentDidMount();else{var a=n.elementType===n.type?r.memoizedProps:oi(n.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}}var o=n.updateQueue;null!==o&&an(n,o,i);break;case 3:var s=n.updateQueue;if(null!==s){if(r=null,null!==n.child)switch(n.child.tag){case 5:case 1:r=n.child.stateNode}an(n,s,r)}break;case 5:var l=n.stateNode;if(null===r&&4&n.flags){r=l;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var c=n.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&tK(f)}}}break;default:throw Error(d(163))}oW||512&n.flags&&o0(n)}catch(e){s2(n,n.return,e)}}if(n===e){oQ=null;break}if(null!==(r=n.sibling)){r.return=n.return,oQ=r;break}oQ=n.return}}function sn(e){for(;null!==oQ;){var n=oQ;if(n===e){oQ=null;break}var r=n.sibling;if(null!==r){r.return=n.return,oQ=r;break}oQ=n.return}}function sr(e){for(;null!==oQ;){var n=oQ;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{oZ(4,n)}catch(e){s2(n,r,e)}break;case 1:var i=n.stateNode;if("function"==typeof i.componentDidMount){var a=n.return;try{i.componentDidMount()}catch(e){s2(n,a,e)}}var o=n.return;try{o0(n)}catch(e){s2(n,o,e)}break;case 5:var s=n.return;try{o0(n)}catch(e){s2(n,s,e)}}}catch(e){s2(n,n.return,e)}if(n===e){oQ=null;break}var l=n.sibling;if(null!==l){l.return=n.return,oQ=l;break}oQ=n.return}}var si=Math.ceil,sa=C.ReactCurrentDispatcher,so=C.ReactCurrentOwner,ss=C.ReactCurrentBatchConfig,sl=0,su=null,sc=null,sh=0,sd=0,sf=r1(0),sp=0,sm=null,sg=0,sy=0,sv=0,sw=null,sb=null,s_=0,sE=1/0,sS=null,sk=!1,sT=null,sI=null,sC=!1,sx=null,sA=0,sR=0,sN=null,sP=-1,sO=0;function sD(){return 0!=(6&sl)?tr():-1!==sP?sP:sP=tr()}function sL(e){return 0==(1&e.mode)?1:0!=(2&sl)&&0!==sh?sh&-sh:null!==iF.transition?(0===sO&&(sO=tb()),sO):0!==(e=tk)?e:e=void 0===(e=window.event)?16:t1(e.type)}function sM(e,n,r,i){if(50<sR)throw sR=0,sN=null,Error(d(185));tE(e,r,i),(0==(2&sl)||e!==su)&&(e===su&&(0==(2&sl)&&(sy|=r),4===sp&&sV(e,sh)),sU(e,i),1===r&&0===sl&&0==(1&n.mode)&&(sE=tr()+500,is&&ic()))}function sU(e,n){var r,i=e.callbackNode;!function(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-td(o),l=1<<s,u=a[s];-1===u?(0==(l&r)||0!=(l&i))&&(a[s]=function(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return -1}}(l,n)):u<=n&&(e.expiredLanes|=l),o&=~l}}(e,n);var a=tv(e,e===su?sh:0);if(0===a)null!==i&&te(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(null!=i&&te(i),1===n)0===e.tag?(r=sz.bind(null,e),is=!0,iu(r)):iu(sz.bind(null,e)),rU(function(){0==(6&sl)&&ic()}),i=null;else{switch(tT(a)){case 1:i=ta;break;case 4:i=to;break;case 16:default:i=ts;break;case 536870912:i=tu}i=e7(i,sF.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function sF(e,n){if(sP=-1,sO=0,0!=(6&sl))throw Error(d(327));var r=e.callbackNode;if(s0()&&e.callbackNode!==r)return null;var i=tv(e,e===su?sh:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||n)n=sX(e,i);else{n=i;var a=sl;sl|=2;var o=sQ();for((su!==e||sh!==n)&&(sS=null,sE=tr()+500,sW(e,n));;)try{(function(){for(;null!==sc&&!tt();)sY(sc)})();break}catch(n){sK(e,n)}iG(),sa.current=o,sl=a,null!==sc?n=0:(su=null,sh=0,n=sp)}if(0!==n){if(2===n&&0!==(a=tw(e))&&(i=a,n=sj(e,a)),1===n)throw r=sm,sW(e,0),sV(e,i),sU(e,tr()),r;if(6===n)sV(e,i);else{if(a=e.current.alternate,0==(30&i)&&!function(e){for(var n=e;;){if(16384&n.flags){var r=n.updateQueue;if(null!==r&&null!==(r=r.stores))for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot;a=a.value;try{if(!nX(o(),a))return!1}catch(e){return!1}}}if(r=n.child,16384&n.subtreeFlags&&null!==r)r.return=n,n=r;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)&&(2===(n=sX(e,i))&&0!==(o=tw(e))&&(i=o,n=sj(e,o)),1===n))throw r=sm,sW(e,0),sV(e,i),sU(e,tr()),r;switch(e.finishedWork=a,e.finishedLanes=i,n){case 0:case 1:throw Error(d(345));case 2:case 5:sZ(e,sb,sS);break;case 3:if(sV(e,i),(130023424&i)===i&&10<(n=s_+500-tr())){if(0!==tv(e,0))break;if(((a=e.suspendedLanes)&i)!==i){sD(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rD(sZ.bind(null,e,sb,sS),n);break}sZ(e,sb,sS);break;case 4:if(sV(e,i),(4194240&i)===i)break;for(a=-1,n=e.eventTimes;0<i;){var s=31-td(i);o=1<<s,(s=n[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=tr()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*si(i/1960))-i)){e.timeoutHandle=rD(sZ.bind(null,e,sb,sS),i);break}sZ(e,sb,sS);break;default:throw Error(d(329))}}}return sU(e,tr()),e.callbackNode===r?sF.bind(null,e):null}function sj(e,n){var r=sw;return e.current.memoizedState.isDehydrated&&(sW(e,n).flags|=256),2!==(e=sX(e,n))&&(n=sb,sb=r,null!==n&&sB(n)),e}function sB(e){null===sb?sb=e:sb.push.apply(sb,e)}function sV(e,n){for(n&=~sv,n&=~sy,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-td(n),i=1<<r;e[r]=-1,n&=~i}}function sz(e){if(0!=(6&sl))throw Error(d(327));s0();var n=tv(e,0);if(0==(1&n))return sU(e,tr()),null;var r=sX(e,n);if(0!==e.tag&&2===r){var i=tw(e);0!==i&&(n=i,r=sj(e,i))}if(1===r)throw r=sm,sW(e,0),sV(e,n),sU(e,tr()),r;if(6===r)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,sZ(e,sb,sS),sU(e,tr()),null}function s$(e,n){var r=sl;sl|=1;try{return e(n)}finally{0===(sl=r)&&(sE=tr()+500,is&&ic())}}function sH(e){null!==sx&&0===sx.tag&&0==(6&sl)&&s0();var n=sl;sl|=1;var r=ss.transition,i=tk;try{if(ss.transition=null,tk=1,e)return e()}finally{tk=i,ss.transition=r,0==(6&(sl=n))&&ic()}}function sq(){sd=sf.current,r2(sf)}function sW(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,rL(r)),null!==sc)for(r=sc.return;null!==r;){var i=r;switch(ik(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&ie();break;case 3:au(),r2(r6),r2(r5),am();break;case 5:ah(i);break;case 4:au();break;case 13:case 19:r2(ad);break;case 10:iX(i.type._context);break;case 22:case 23:sq()}r=r.return}if(su=e,sc=e=le(e.current,null),sh=sd=n,sp=0,sm=null,sv=sy=sg=0,sb=sw=null,null!==i0){for(n=0;n<i0.length;n++)if(null!==(i=(r=i0[n]).interleaved)){r.interleaved=null;var a=i.next,o=r.pending;if(null!==o){var s=o.next;o.next=a,i.next=s}r.pending=i}i0=null}return e}function sK(e,n){for(;;){var r=sc;try{if(iG(),ag.current=oe,aE){for(var i=aw.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}aE=!1}if(av=0,a_=ab=aw=null,aS=!1,ak=0,so.current=null,null===r||null===r.return){sp=1,sm=n,sc=null;break}e:{var o=e,s=r.return,l=r,u=n;if(n=sh,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,f=h.tag;if(0==(1&h.mode)&&(0===f||11===f||15===f)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=ov(s);if(null!==m){m.flags&=-257,ow(m,s,l,o,n),1&m.mode&&oy(o,c,n),n=m,u=c;var g=n.updateQueue;if(null===g){var y=new Set;y.add(u),n.updateQueue=y}else g.add(u);break e}if(0==(1&n)){oy(o,c,n),sG();break e}u=Error(d(426))}else if(iC&&1&l.mode){var v=ov(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ow(v,s,l,o,n),iU(oh(u,l));break e}}o=u=oh(u,l),4!==sp&&(sp=2),null===sw?sw=[o]:sw.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var w=om(o,u,n);ae(o,w);break e;case 1:l=u;var b=o.type,_=o.stateNode;if(0==(128&o.flags)&&("function"==typeof b.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===sI||!sI.has(_)))){o.flags|=65536,n&=-n,o.lanes|=n;var E=og(o,l,n);ae(o,E);break e}}o=o.return}while(null!==o)}sJ(r)}catch(e){n=e,sc===r&&null!==r&&(sc=r=r.return);continue}break}}function sQ(){var e=sa.current;return sa.current=oe,null===e?oe:e}function sG(){(0===sp||3===sp||2===sp)&&(sp=4),null===su||0==(268435455&sg)&&0==(268435455&sy)||sV(su,sh)}function sX(e,n){var r=sl;sl|=2;var i=sQ();for((su!==e||sh!==n)&&(sS=null,sW(e,n));;)try{(function(){for(;null!==sc;)sY(sc)})();break}catch(n){sK(e,n)}if(iG(),sl=r,sa.current=i,null!==sc)throw Error(d(261));return su=null,sh=0,sp}function sY(e){var n=u(e.alternate,e,sd);e.memoizedProps=e.pendingProps,null===n?sJ(e):sc=n,so.current=null}function sJ(e){var n=e;do{var r=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(r=function(e,n,r){var o=n.pendingProps;switch(ik(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oH(n),null;case 1:case 17:return r7(n.type)&&ie(),oH(n),null;case 3:return o=n.stateNode,au(),r2(r6),r2(r5),am(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(iD(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==ix&&(sB(ix),ix=null))),a(e,n),oH(n),null;case 5:ah(n);var u=as(ao.current);if(r=n.type,null!==e&&null!=n.stateNode)s(e,n,r,o,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(null===n.stateNode)throw Error(d(166));return oH(n),null}if(e=as(ai.current),iD(n)){o=n.stateNode,r=n.type;var c=n.memoizedProps;switch(o[r$]=n,o[rH]=c,e=0!=(1&n.mode),r){case"dialog":rg("cancel",o),rg("close",o);break;case"iframe":case"object":case"embed":rg("load",o);break;case"video":case"audio":for(u=0;u<rd.length;u++)rg(rd[u],o);break;case"source":rg("error",o);break;case"img":case"image":case"link":rg("error",o),rg("load",o);break;case"details":rg("toggle",o);break;case"input":ef(o,c),rg("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},rg("invalid",o);break;case"textarea":e_(o,c),rg("invalid",o)}for(var h in eL(r,c),u=null,c)if(c.hasOwnProperty(h)){var f=c[h];"children"===h?"string"==typeof f?o.textContent!==f&&(!0!==c.suppressHydrationWarning&&rA(o.textContent,f,e),u=["children",f]):"number"==typeof f&&o.textContent!==""+f&&(!0!==c.suppressHydrationWarning&&rA(o.textContent,f,e),u=["children",""+f]):p.hasOwnProperty(h)&&null!=f&&"onScroll"===h&&rg("scroll",o)}switch(r){case"input":eu(o),eg(o,c,!0);break;case"textarea":eu(o),eS(o);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(o.onclick=rR)}o=u,n.updateQueue=o,null!==o&&(n.flags|=4)}else{h=9===u.nodeType?u:u.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ek(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=h.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=h.createElement(r,{is:o.is}):(e=h.createElement(r),"select"===r&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,r),e[r$]=n,e[rH]=o,i(e,n,!1,!1),n.stateNode=e;e:{switch(h=eM(r,o),r){case"dialog":rg("cancel",e),rg("close",e),u=o;break;case"iframe":case"object":case"embed":rg("load",e),u=o;break;case"video":case"audio":for(u=0;u<rd.length;u++)rg(rd[u],e);u=o;break;case"source":rg("error",e),u=o;break;case"img":case"image":case"link":rg("error",e),rg("load",e),u=o;break;case"details":rg("toggle",e),u=o;break;case"input":ef(e,o),u=ed(e,o),rg("invalid",e);break;case"option":default:u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=en({},o,{value:void 0}),rg("invalid",e);break;case"textarea":e_(e,o),u=eb(e,o),rg("invalid",e)}for(c in eL(r,u),f=u)if(f.hasOwnProperty(c)){var m=f[c];"style"===c?eO(e,m):"dangerouslySetInnerHTML"===c?null!=(m=m?m.__html:void 0)&&ex(e,m):"children"===c?"string"==typeof m?("textarea"!==r||""!==m)&&eA(e,m):"number"==typeof m&&eA(e,""+m):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=m&&"onScroll"===c&&rg("scroll",e):null!=m&&I(e,c,m,h))}switch(r){case"input":eu(e),eg(e,o,!1);break;case"textarea":eu(e),eS(e);break;case"option":null!=o.value&&e.setAttribute("value",""+eo(o.value));break;case"select":e.multiple=!!o.multiple,null!=(c=o.value)?ew(e,!!o.multiple,c,!1):null!=o.defaultValue&&ew(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=rR)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return oH(n),null;case 6:if(e&&null!=n.stateNode)l(e,n,e.memoizedProps,o);else{if("string"!=typeof o&&null===n.stateNode)throw Error(d(166));if(r=as(ao.current),as(ai.current),iD(n)){if(o=n.stateNode,r=n.memoizedProps,o[r$]=n,(c=o.nodeValue!==r)&&null!==(e=iT))switch(e.tag){case 3:rA(o.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rA(o.nodeValue,r,0!=(1&e.mode))}c&&(n.flags|=4)}else(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[r$]=n,n.stateNode=o}return oH(n),null;case 13:if(r2(ad),o=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iC&&null!==iI&&0!=(1&n.mode)&&0==(128&n.flags))iL(),iM(),n.flags|=98560,c=!1;else if(c=iD(n),null!==o&&null!==o.dehydrated){if(null===e){if(!c)throw Error(d(318));if(!(c=null!==(c=n.memoizedState)?c.dehydrated:null))throw Error(d(317));c[r$]=n}else iM(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;oH(n),c=!1}else null!==ix&&(sB(ix),ix=null),c=!0;if(!c)return 65536&n.flags?n:null}if(0!=(128&n.flags))return n.lanes=r,n;return(o=null!==o)!=(null!==e&&null!==e.memoizedState)&&o&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===e||0!=(1&ad.current)?0===sp&&(sp=3):sG())),null!==n.updateQueue&&(n.flags|=4),oH(n),null;case 4:return au(),a(e,n),null===e&&rw(n.stateNode.containerInfo),oH(n),null;case 10:return iX(n.type._context),oH(n),null;case 19:if(r2(ad),null===(c=n.memoizedState))return oH(n),null;if(o=0!=(128&n.flags),null===(h=c.rendering)){if(o)o$(c,!1);else{if(0!==sp||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(h=af(e))){for(n.flags|=128,o$(c,!1),null!==(o=h.updateQueue)&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=r,r=n.child;null!==r;)c=r,e=o,c.flags&=14680066,null===(h=c.alternate)?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return r4(ad,1&ad.current|2),n.child}e=e.sibling}null!==c.tail&&tr()>sE&&(n.flags|=128,o=!0,o$(c,!1),n.lanes=4194304)}}else{if(!o){if(null!==(e=af(h))){if(n.flags|=128,o=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.flags|=4),o$(c,!0),null===c.tail&&"hidden"===c.tailMode&&!h.alternate&&!iC)return oH(n),null}else 2*tr()-c.renderingStartTime>sE&&1073741824!==r&&(n.flags|=128,o=!0,o$(c,!1),n.lanes=4194304)}c.isBackwards?(h.sibling=n.child,n.child=h):(null!==(r=c.last)?r.sibling=h:n.child=h,c.last=h)}if(null!==c.tail)return n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tr(),n.sibling=null,r=ad.current,r4(ad,o?1&r|2:1&r),n;return oH(n),null;case 22:case 23:return sq(),o=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==o&&(n.flags|=8192),o&&0!=(1&n.mode)?0!=(1073741824&sd)&&(oH(n),6&n.subtreeFlags&&(n.flags|=8192)):oH(n),null;case 24:case 25:return null}throw Error(d(156,n.tag))}(r,n,sd))){sc=r;return}}else{if(null!==(r=function(e,n){switch(ik(n),n.tag){case 1:return r7(n.type)&&ie(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return au(),r2(r6),r2(r5),am(),0!=(65536&(e=n.flags))&&0==(128&e)?(n.flags=-65537&e|128,n):null;case 5:return ah(n),null;case 13:if(r2(ad),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(d(340));iM()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return r2(ad),null;case 4:return au(),null;case 10:return iX(n.type._context),null;case 22:case 23:return sq(),null;default:return null}}(r,n))){r.flags&=32767,sc=r;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sp=6,sc=null;return}}if(null!==(n=n.sibling)){sc=n;return}sc=n=e}while(null!==n)0===sp&&(sp=5)}function sZ(e,n,r){var i=tk,a=ss.transition;try{ss.transition=null,tk=1,function(e,n,r,i){do s0();while(null!==sx)if(0!=(6&sl))throw Error(d(327));r=e.finishedWork;var a=e.finishedLanes;if(null!==r){if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-td(r),o=1<<a;n[a]=0,i[a]=-1,e[a]=-1,r&=~o}}(e,o),e===su&&(sc=su=null,sh=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||sC||(sC=!0,s=ts,l=function(){return s0(),null},e7(s,l)),o=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||o){o=ss.transition,ss.transition=null;var s,l,u,c,h,f=tk;tk=1;var p=sl;sl|=4,so.current=null,function(e,n){if(rN=tG,n1(e=n0())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var a,o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch(e){r=null;break e}var l=0,u=-1,c=-1,h=0,f=0,p=e,m=null;t:for(;;){for(;p!==r||0!==o&&3!==p.nodeType||(u=l+o),p!==s||0!==i&&3!==p.nodeType||(c=l+i),3===p.nodeType&&(l+=p.nodeValue.length),null!==(a=p.firstChild);)m=p,p=a;for(;;){if(p===e)break t;if(m===r&&++h===o&&(u=l),m===s&&++f===i&&(c=l),null!==(a=p.nextSibling))break;m=(p=m).parentNode}p=a}r=-1===u||-1===c?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rP={focusedElem:e,selectionRange:r},tG=!1,oQ=n;null!==oQ;)if(e=(n=oQ).child,0!=(1028&n.subtreeFlags)&&null!==e)e.return=n,oQ=e;else for(;null!==oQ;){n=oQ;try{var g=n.alternate;if(0!=(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,v=g.memoizedState,w=n.stateNode,b=w.getSnapshotBeforeUpdate(n.elementType===n.type?y:oi(n.type,y),v);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=n.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(d(163))}}catch(e){s2(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,oQ=e;break}oQ=n.return}g=oY,oY=!1}(e,r),o7(r,e),function(e){var n=n0(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&function e(n,r){return!!n&&!!r&&(n===r||(!n||3!==n.nodeType)&&(r&&3===r.nodeType?e(n,r.parentNode):"contains"in n?n.contains(r):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(r))))}(r.ownerDocument.documentElement,r)){if(null!==i&&n1(r)){if(n=i.start,void 0===(e=i.end)&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if((e=(n=r.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(i.start,a);i=void 0===i.end?o:Math.min(i.end,a),!e.extend&&o>i&&(a=i,i=o,o=a),a=nZ(r,o);var s=nZ(r,i);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>i?(e.addRange(n),e.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<n.length;r++)(e=n[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rP),tG=!!rN,rP=rN=null,e.current=r,u=r,c=e,h=a,oQ=u,function e(n,r,i){for(var a=0!=(1&n.mode);null!==oQ;){var o=oQ,s=o.child;if(22===o.tag&&a){var l=null!==o.memoizedState||oq;if(!l){var u=o.alternate,c=null!==u&&null!==u.memoizedState||oW;u=oq;var h=oW;if(oq=l,(oW=c)&&!h)for(oQ=o;null!==oQ;)c=(l=oQ).child,22===l.tag&&null!==l.memoizedState?sr(o):null!==c?(c.return=l,oQ=c):sr(o);for(;null!==s;)oQ=s,e(s,r,i),s=s.sibling;oQ=o,oq=u,oW=h}st(n,r,i)}else 0!=(8772&o.subtreeFlags)&&null!==s?(s.return=o,oQ=s):st(n,r,i)}}(u,c,h),tn(),sl=p,tk=f,ss.transition=o}else e.current=r;if(sC&&(sC=!1,sx=e,sA=a),0===(o=e.pendingLanes)&&(sI=null),function(e){if(th&&"function"==typeof th.onCommitFiberRoot)try{th.onCommitFiberRoot(tc,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode,i),sU(e,tr()),null!==n)for(i=e.onRecoverableError,r=0;r<n.length;r++)i((a=n[r]).value,{componentStack:a.stack,digest:a.digest});if(sk)throw sk=!1,e=sT,sT=null,e;0!=(1&sA)&&0!==e.tag&&s0(),0!=(1&(o=e.pendingLanes))?e===sN?sR++:(sR=0,sN=e):sR=0,ic()}}(e,n,r,i)}finally{ss.transition=a,tk=i}return null}function s0(){if(null!==sx){var e=tT(sA),n=ss.transition,r=tk;try{if(ss.transition=null,tk=16>e?16:e,null===sx)var i=!1;else{if(e=sx,sx=null,sA=0,0!=(6&sl))throw Error(d(331));var a=sl;for(sl|=4,oQ=e.current;null!==oQ;){var o=oQ,s=o.child;if(0!=(16&oQ.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(oQ=c;null!==oQ;){var h=oQ;switch(h.tag){case 0:case 11:case 15:oJ(8,h,o)}var f=h.child;if(null!==f)f.return=h,oQ=f;else for(;null!==oQ;){var p=(h=oQ).sibling,m=h.return;if(function e(n){var r=n.alternate;null!==r&&(n.alternate=null,e(r)),n.child=null,n.deletions=null,n.sibling=null,5===n.tag&&null!==(r=n.stateNode)&&(delete r[r$],delete r[rH],delete r[rW],delete r[rK],delete r[rQ]),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}(h),h===c){oQ=null;break}if(null!==p){p.return=m,oQ=p;break}oQ=m}}}var g=o.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}oQ=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,oQ=s;else for(;null!==oQ;){if(o=oQ,0!=(2048&o.flags))switch(o.tag){case 0:case 11:case 15:oJ(9,o,o.return)}var w=o.sibling;if(null!==w){w.return=o.return,oQ=w;break}oQ=o.return}}var b=e.current;for(oQ=b;null!==oQ;){var _=(s=oQ).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,oQ=_;else for(s=b;null!==oQ;){if(l=oQ,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:oZ(9,l)}}catch(e){s2(l,l.return,e)}if(l===s){oQ=null;break}var E=l.sibling;if(null!==E){E.return=l.return,oQ=E;break}oQ=l.return}}if(sl=a,ic(),th&&"function"==typeof th.onPostCommitFiberRoot)try{th.onPostCommitFiberRoot(tc,e)}catch(e){}i=!0}return i}finally{tk=r,ss.transition=n}}return!1}function s1(e,n,r){n=om(e,n=oh(r,n),1),e=i8(e,n,1),n=sD(),null!==e&&(tE(e,1,n),sU(e,n))}function s2(e,n,r){if(3===e.tag)s1(e,e,r);else for(;null!==n;){if(3===n.tag){s1(n,e,r);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===sI||!sI.has(i))){e=og(n,e=oh(r,e),1),n=i8(n,e,1),e=sD(),null!==n&&(tE(n,1,e),sU(n,e));break}}n=n.return}}function s4(e,n,r){var i=e.pingCache;null!==i&&i.delete(n),n=sD(),e.pingedLanes|=e.suspendedLanes&r,su===e&&(sh&r)===r&&(4===sp||3===sp&&(130023424&sh)===sh&&500>tr()-s_?sW(e,0):sv|=r),sU(e,n)}function s3(e,n){0===n&&(0==(1&e.mode)?n=1:(n=tg,0==(130023424&(tg<<=1))&&(tg=4194304)));var r=sD();null!==(e=i4(e,n))&&(tE(e,n,r),sU(e,r))}function s5(e){var n=e.memoizedState,r=0;null!==n&&(r=n.retryLane),s3(e,r)}function s6(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(d(314))}null!==i&&i.delete(n),s3(e,r)}function s9(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function s8(e,n,r,i){return new s9(e,n,r,i)}function s7(e){return!(!(e=e.prototype)||!e.isReactComponent)}function le(e,n){var r=e.alternate;return null===r?((r=s8(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lt(e,n,r,i,a,o){var s=2;if(i=e,"function"==typeof e)s7(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case R:return ln(r.children,a,o,n);case N:s=8,a|=8;break;case P:return(e=s8(12,r,n,2|a)).elementType=P,e.lanes=o,e;case M:return(e=s8(13,r,n,a)).elementType=M,e.lanes=o,e;case U:return(e=s8(19,r,n,a)).elementType=U,e.lanes=o,e;case B:return lr(r,a,o,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case D:s=9;break e;case L:s=11;break e;case F:s=14;break e;case j:s=16,i=null;break e}throw Error(d(130,null==e?e:typeof e,""))}return(n=s8(s,r,n,a)).elementType=e,n.type=i,n.lanes=o,n}function ln(e,n,r,i){return(e=s8(7,e,i,n)).lanes=r,e}function lr(e,n,r,i){return(e=s8(22,e,i,n)).elementType=B,e.lanes=r,e.stateNode={isHidden:!1},e}function li(e,n,r){return(e=s8(6,e,null,n)).lanes=r,e}function la(e,n,r){return(n=s8(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function lo(e,n,r,i,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t_(0),this.expirationTimes=t_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t_(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ls(e,n,r,i,a,o,s,l,u){return e=new lo(e,n,r,l,u),1===n?(n=1,!0===o&&(n|=8)):n=0,o=s8(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},i5(o),e}function ll(e){if(!e)return r3;e=e._reactInternals;e:{if(e5(e)!==e||1!==e.tag)throw Error(d(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(r7(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n)throw Error(d(171))}if(1===e.tag){var r=e.type;if(r7(r))return ir(e,r,n)}return n}function lu(e,n,r,i,a,o,s,l,u){return(e=ls(r,i,!0,e,a,o,s,l,u)).context=ll(null),r=e.current,(o=i9(i=sD(),a=sL(r))).callback=null!=n?n:null,i8(r,o,a),e.current.lanes=a,tE(e,a,i),sU(e,i),e}function lc(e,n,r,i){var a=n.current,o=sD(),s=sL(a);return r=ll(r),null===n.context?n.context=r:n.pendingContext=r,(n=i9(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(e=i8(a,n,s))&&(sM(e,a,s,o),i7(e,a,s)),s}function lh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ld(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<n?r:n}}function lf(e,n){ld(e,n),(e=e.alternate)&&ld(e,n)}u=function(e,n,r){if(null!==e){if(e.memoizedProps!==n.pendingProps||r6.current)o_=!0;else{if(0==(e.lanes&r)&&0==(128&n.flags))return o_=!1,function(e,n,r){switch(n.tag){case 3:oN(n),iM();break;case 5:ac(n);break;case 1:r7(n.type)&&ii(n);break;case 4:al(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,a=n.memoizedProps.value;r4(iq,i._currentValue),i._currentValue=a;break;case 13:if(null!==(i=n.memoizedState)){if(null!==i.dehydrated)return r4(ad,1&ad.current),n.flags|=128,null;if(0!=(r&n.child.childLanes))return oL(e,n,r);return r4(ad,1&ad.current),null!==(e=oz(e,n,r))?e.sibling:null}r4(ad,1&ad.current);break;case 19:if(i=0!=(r&n.childLanes),0!=(128&e.flags)){if(i)return oB(e,n,r);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),r4(ad,ad.current),!i)return null;break;case 22:case 23:return n.lanes=0,oI(e,n,r)}return oz(e,n,r)}(e,n,r);o_=0!=(131072&e.flags)}}else o_=!1,iC&&0!=(1048576&n.flags)&&iE(n,im,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;oV(e,n),e=n.pendingProps;var a=r8(n,r5.current);iJ(n,r),a=ax(null,n,i,e,a,r);var o=aA();return n.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,r7(i)?(o=!0,ii(n)):o=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,i5(n),a.updater=oo,n.stateNode=a,a._reactInternals=n,oc(n,i,e,r),n=oR(null,n,i,!0,o,r)):(n.tag=0,iC&&o&&iS(n),oE(null,n,a,r),n=n.child),n;case 16:i=n.elementType;e:{switch(oV(e,n),e=n.pendingProps,i=(a=i._init)(i._payload),n.type=i,a=n.tag=function(e){if("function"==typeof e)return s7(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===F)return 14}return 2}(i),e=oi(i,e),a){case 0:n=ox(null,n,i,e,r);break e;case 1:n=oA(null,n,i,e,r);break e;case 11:n=oS(null,n,i,e,r);break e;case 14:n=ok(null,n,i,oi(i.type,e),r);break e}throw Error(d(306,i,""))}return n;case 0:return i=n.type,a=n.pendingProps,a=n.elementType===i?a:oi(i,a),ox(e,n,i,a,r);case 1:return i=n.type,a=n.pendingProps,a=n.elementType===i?a:oi(i,a),oA(e,n,i,a,r);case 3:e:{if(oN(n),null===e)throw Error(d(387));i=n.pendingProps,a=(o=n.memoizedState).element,i6(e,n),at(n,i,null,r);var s=n.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=o,n.memoizedState=o,256&n.flags){a=oh(Error(d(423)),n),n=oP(e,n,i,r,a);break e}if(i!==a){a=oh(Error(d(424)),n),n=oP(e,n,i,r,a);break e}for(iI=rB(n.stateNode.containerInfo.firstChild),iT=n,iC=!0,ix=null,r=iH(n,null,i,r),n.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(iM(),i===a){n=oz(e,n,r);break e}oE(e,n,i,r)}n=n.child}return n;case 5:return ac(n),null===e&&iP(n),i=n.type,a=n.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,rO(i,a)?s=null:null!==o&&rO(i,o)&&(n.flags|=32),oC(e,n),oE(e,n,s,r),n.child;case 6:return null===e&&iP(n),null;case 13:return oL(e,n,r);case 4:return al(n,n.stateNode.containerInfo),i=n.pendingProps,null===e?n.child=i$(n,null,i,r):oE(e,n,i,r),n.child;case 11:return i=n.type,a=n.pendingProps,a=n.elementType===i?a:oi(i,a),oS(e,n,i,a,r);case 7:return oE(e,n,n.pendingProps,r),n.child;case 8:case 12:return oE(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,a=n.pendingProps,o=n.memoizedProps,s=a.value,r4(iq,i._currentValue),i._currentValue=s,null!==o){if(nX(o.value,s)){if(o.children===a.children&&!r6.current){n=oz(e,n,r);break e}}else for(null!==(o=n.child)&&(o.return=n);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=i9(-1,r&-r)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),iY(o.return,r,n),l.lanes|=r;break}u=u.next}}else if(10===o.tag)s=o.type===n.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(d(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),iY(s,r,n),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===n){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}oE(e,n,a.children,r),n=n.child}return n;case 9:return a=n.type,i=n.pendingProps.children,iJ(n,r),i=i(a=iZ(a)),n.flags|=1,oE(e,n,i,r),n.child;case 14:return a=oi(i=n.type,n.pendingProps),a=oi(i.type,a),ok(e,n,i,a,r);case 15:return oT(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,a=n.pendingProps,a=n.elementType===i?a:oi(i,a),oV(e,n),n.tag=1,r7(i)?(e=!0,ii(n)):e=!1,iJ(n,r),ol(n,i,a),oc(n,i,a,r),oR(null,n,i,!0,e,r);case 19:return oB(e,n,r);case 22:return oI(e,n,r)}throw Error(d(156,n.tag))};var lp="function"==typeof reportError?reportError:function(e){console.error(e)};function lm(e){this._internalRoot=e}function lg(e){this._internalRoot=e}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lw(){}function lb(e,n,r,i,a){var o=r._reactRootContainer;if(o){var s=o;if("function"==typeof a){var l=a;a=function(){var e=lh(s);l.call(e)}}lc(n,s,e,a)}else s=function(e,n,r,i,a){if(a){if("function"==typeof i){var o=i;i=function(){var e=lh(s);o.call(e)}}var s=lu(n,i,e,0,null,!1,!1,"",lw);return e._reactRootContainer=s,e[rq]=s.current,rw(8===e.nodeType?e.parentNode:e),sH(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof i){var l=i;i=function(){var e=lh(u);l.call(e)}}var u=ls(e,0,!1,null,null,!1,!1,"",lw);return e._reactRootContainer=u,e[rq]=u.current,rw(8===e.nodeType?e.parentNode:e),sH(function(){lc(n,u,r,i)}),u}(r,n,e,a,i);return lh(s)}lg.prototype.render=lm.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(d(409));lc(e,n,null,null)},lg.prototype.unmount=lm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;sH(function(){lc(null,e,null,null)}),n[rq]=null}},lg.prototype.unstable_scheduleHydration=function(e){if(e){var n=tA();e={blockedOn:null,target:e,priority:n};for(var r=0;r<tF.length&&0!==n&&n<tF[r].priority;r++);tF.splice(r,0,e),0===r&&tz(e)}},tI=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=ty(n.pendingLanes);0!==r&&(tS(n,1|r),sU(n,tr()),0==(6&sl)&&(sE=tr()+500,ic()))}break;case 13:sH(function(){var n=i4(e,1);null!==n&&sM(n,e,1,sD())}),lf(e,1)}},tC=function(e){if(13===e.tag){var n=i4(e,134217728);null!==n&&sM(n,e,134217728,sD()),lf(e,134217728)}},tx=function(e){if(13===e.tag){var n=sL(e),r=i4(e,n);null!==r&&sM(r,e,n,sD()),lf(e,n)}},tA=function(){return tk},tR=function(e,n){var r=tk;try{return tk=e,n()}finally{tk=r}},ej=function(e,n,r){switch(n){case"input":if(em(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var a=rJ(i);if(!a)throw Error(d(90));ec(i),em(i,a)}}}break;case"textarea":eE(e,r);break;case"select":null!=(n=r.value)&&ew(e,!!r.multiple,n,!1)}},eq=s$,eW=sH;var l_={findFiberByHostInstance:rG,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lE={bundleType:l_.bundleType,version:l_.version,rendererPackageName:l_.rendererPackageName,rendererConfig:l_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:l_.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lS.isDisabled&&lS.supportsFiber)try{tc=lS.inject(lE),th=lS}catch(e){}}$={usingClientEntryPoint:!1,Events:[rX,rY,rJ,e$,eH,s$]},H=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ly(n))throw Error(d(200));return function(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==i?null:""+i,children:e,containerInfo:n,implementation:r}}(e,n,null,r)},q=function(e,n){if(!ly(e))throw Error(d(299));var r=!1,i="",a=lp;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=ls(e,1,!1,null,null,r,!1,i,a),e[rq]=n.current,rw(8===e.nodeType?e.parentNode:e),new lm(n)},W=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(n))?null:e.stateNode},K=function(e){return sH(e)},Q=function(e,n,r){if(!lv(n))throw Error(d(200));return lb(null,e,n,!0,r)},G=function(e,n,r){if(!ly(e))throw Error(d(405));var i=null!=r&&r.hydratedSources||null,a=!1,o="",s=lp;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),n=lu(n,null,e,1,null!=r?r:null,a,!1,o,s),e[rq]=n.current,rw(e),i)for(e=0;e<i.length;e++)a=(a=(r=i[e])._getVersion)(r._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[r,a]:n.mutableSourceEagerHydrationData.push(r,a);return new lg(n)},X=function(e,n,r){if(!lv(n))throw Error(d(200));return lb(null,e,n,!1,r)},Y=function(e){if(!lv(e))throw Error(d(40));return!!e._reactRootContainer&&(sH(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[rq]=null})}),!0)},J=s$,Z=function(e,n,r,i){if(!lv(r))throw Error(d(200));if(null==e||void 0===e._reactInternals)throw Error(d(38));return lb(e,n,r,!1,i)},ee="18.3.1-next-f1338f8080-20240426"}),el("fO90s",function(e,n){e.exports=es("gcnCG")}),el("gcnCG",function(e,n){function r(e,n){var r=e.length;for(e.push(n);0<r;){var i=r-1>>>1,a=e[i];if(0<s(a,n))e[i]=n,e[r]=a,r=i;else break}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],r=e.pop();if(r!==n){e[0]=r;for(var i=0,a=e.length,o=a>>>1;i<o;){var l=2*(i+1)-1,u=e[l],c=l+1,h=e[c];if(0>s(u,r))c<a&&0>s(h,u)?(e[i]=h,e[c]=r,i=c):(e[i]=u,e[l]=r,i=l);else if(c<a&&0>s(h,r))e[i]=h,e[c]=r,i=c;else break}}return n}function s(e,n){var r=e.sortIndex-n.sortIndex;return 0!==r?r:e.id-n.id}if(o(e.exports,"unstable_now",()=>l,e=>l=e),o(e.exports,"unstable_IdlePriority",()=>u,e=>u=e),o(e.exports,"unstable_ImmediatePriority",()=>c,e=>c=e),o(e.exports,"unstable_LowPriority",()=>h,e=>h=e),o(e.exports,"unstable_NormalPriority",()=>d,e=>d=e),o(e.exports,"unstable_Profiling",()=>f,e=>f=e),o(e.exports,"unstable_UserBlockingPriority",()=>p,e=>p=e),o(e.exports,"unstable_cancelCallback",()=>m,e=>m=e),o(e.exports,"unstable_continueExecution",()=>g,e=>g=e),o(e.exports,"unstable_forceFrameRate",()=>y,e=>y=e),o(e.exports,"unstable_getCurrentPriorityLevel",()=>v,e=>v=e),o(e.exports,"unstable_getFirstCallbackNode",()=>w,e=>w=e),o(e.exports,"unstable_next",()=>b,e=>b=e),o(e.exports,"unstable_pauseExecution",()=>_,e=>_=e),o(e.exports,"unstable_requestPaint",()=>E,e=>E=e),o(e.exports,"unstable_runWithPriority",()=>S,e=>S=e),o(e.exports,"unstable_scheduleCallback",()=>k,e=>k=e),o(e.exports,"unstable_shouldYield",()=>T,e=>T=e),o(e.exports,"unstable_wrapCallback",()=>I,e=>I=e),"object"==typeof performance&&"function"==typeof performance.now){var l,u,c,h,d,f,p,m,g,y,v,w,b,_,E,S,k,T,I,C,x=performance;l=function(){return x.now()}}else{var A=Date,R=A.now();l=function(){return A.now()-R}}var N=[],P=[],O=1,D=null,L=3,M=!1,U=!1,F=!1,j="function"==typeof setTimeout?setTimeout:null,B="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function z(e){for(var n=i(P);null!==n;){if(null===n.callback)a(P);else if(n.startTime<=e)a(P),n.sortIndex=n.expirationTime,r(N,n);else break;n=i(P)}}function $(e){if(F=!1,z(e),!U){if(null!==i(N))U=!0,ee(H);else{var n=i(P);null!==n&&et($,n.startTime-e)}}}function H(e,n){U=!1,F&&(F=!1,B(K),K=-1),M=!0;var r=L;try{for(z(n),D=i(N);null!==D&&(!(D.expirationTime>n)||e&&!X());){var o=D.callback;if("function"==typeof o){D.callback=null,L=D.priorityLevel;var s=o(D.expirationTime<=n);n=l(),"function"==typeof s?D.callback=s:D===i(N)&&a(N),z(n)}else a(N);D=i(N)}if(null!==D)var u=!0;else{var c=i(P);null!==c&&et($,c.startTime-n),u=!1}return u}finally{D=null,L=r,M=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q=!1,W=null,K=-1,Q=5,G=-1;function X(){return!(l()-G<Q)}function Y(){if(null!==W){var e=l();G=e;var n=!0;try{n=W(!0,e)}finally{n?C():(q=!1,W=null)}}else q=!1}if("function"==typeof V)C=function(){V(Y)};else if("undefined"!=typeof MessageChannel){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=Y,C=function(){Z.postMessage(null)}}else C=function(){j(Y,0)};function ee(e){W=e,q||(q=!0,C())}function et(e,n){K=j(function(){e(l())},n)}u=5,c=1,h=4,d=3,f=null,p=2,m=function(e){e.callback=null},g=function(){U||M||(U=!0,ee(H))},y=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<e?Math.floor(1e3/e):5},v=function(){return L},w=function(){return i(N)},b=function(e){switch(L){case 1:case 2:case 3:var n=3;break;default:n=L}var r=L;L=n;try{return e()}finally{L=r}},_=function(){},E=function(){},S=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return n()}finally{L=r}},k=function(e,n,a){var o=l();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:O++,callback:n,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>o?(e.sortIndex=a,r(P,e),null===i(N)&&e===i(P)&&(F?(B(K),K=-1):F=!0,et($,a-o))):(e.sortIndex=s,r(N,e),U||M||(U=!0,ee(H))),e},T=X,I=function(e){var n=L;return function(){var r=L;L=n;try{return e.apply(this,arguments)}finally{L=r}}}}),el("gbH6E",function(e,n){o(e.exports,"useSyncExternalStoreWithSelector",()=>r,e=>r=e);var r,i=es("acw62"),a="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},s=i.useSyncExternalStore,l=i.useRef,u=i.useEffect,c=i.useMemo,h=i.useDebugValue;r=function(e,n,r,i,o){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=s(e,(d=c(function(){function e(e){if(!u){if(u=!0,s=e,e=i(e),void 0!==o&&f.hasValue){var n=f.value;if(o(n,e))return l=n}return l=e}if(n=l,a(s,e))return n;var r=i(e);return void 0!==o&&o(n,r)?n:(s=e,l=r)}var s,l,u=!1,c=void 0===r?null:r;return[function(){return e(n())},null===c?void 0:function(){return e(c())}]},[n,r,i,o]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=p},[p]),h(p),p}});var eu={};eu=es("1b2ls"),es("acw62");var ec={};o(ec,"createRoot",()=>I,e=>I=e),o(ec,"hydrateRoot",()=>C,e=>C=e);var eh={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),I=(eh=es("Xw6Mv")).createRoot,C=eh.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed={},ef=ed={};function ep(){throw Error("setTimeout has not been defined")}function em(){throw Error("clearTimeout has not been defined")}function eg(e){if(x===setTimeout)return setTimeout(e,0);if((x===ep||!x)&&setTimeout)return x=setTimeout,setTimeout(e,0);try{return x(e,0)}catch(n){try{return x.call(null,e,0)}catch(n){return x.call(this,e,0)}}}!function(){try{x="function"==typeof setTimeout?setTimeout:ep}catch(e){x=ep}try{A="function"==typeof clearTimeout?clearTimeout:em}catch(e){A=em}}();var ey=[],ev=!1,ew=-1;function eb(){ev&&R&&(ev=!1,R.length?ey=R.concat(ey):ew=-1,ey.length&&e_())}function e_(){if(!ev){var e=eg(eb);ev=!0;for(var n=ey.length;n;){for(R=ey,ey=[];++ew<n;)R&&R[ew].run();ew=-1,n=ey.length}R=null,ev=!1,function(e){if(A===clearTimeout)return clearTimeout(e);if((A===em||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(e);try{A(e)}catch(n){try{return A.call(null,e)}catch(n){return A.call(this,e)}}}(e)}}function eE(e,n){this.fun=e,this.array=n}function eS(){}ef.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];ey.push(new eE(e,n)),1!==ey.length||ev||eg(e_)},eE.prototype.run=function(){this.fun.apply(null,this.array)},ef.title="browser",ef.browser=!0,ef.env={},ef.argv=[],ef.version="",ef.versions={},ef.on=eS,ef.addListener=eS,ef.once=eS,ef.off=eS,ef.removeListener=eS,ef.removeAllListeners=eS,ef.emit=eS,ef.prependListener=eS,ef.prependOnceListener=eS,ef.listeners=function(e){return[]},ef.binding=function(e){throw Error("process.binding is not supported")},ef.cwd=function(){return"/"},ef.chdir=function(e){throw Error("process.chdir is not supported")},ef.umask=function(){return 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=function(e){let n=[],r=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?n[r++]=a:(a<2048?n[r++]=a>>6|192:((64512&a)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128):n[r++]=a>>12|224,n[r++]=a>>6&63|128),n[r++]=63&a|128)}return n},eT=function(e){let n=[],r=0,i=0;for(;r<e.length;){let a=e[r++];if(a<128)n[i++]=String.fromCharCode(a);else if(a>191&&a<224){let o=e[r++];n[i++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){let o=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;n[i++]=String.fromCharCode(55296+(o>>10)),n[i++]=String.fromCharCode(56320+(1023&o))}else{let o=e[r++],s=e[r++];n[i++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s)}}return n.join("")},eI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let n=0;n<e.length;n+=3){let a=e[n],o=n+1<e.length,s=o?e[n+1]:0,l=n+2<e.length,u=l?e[n+2]:0,c=a>>2,h=(3&a)<<4|s>>4,d=(15&s)<<2|u>>6,f=63&u;l||(f=64,o||(d=64)),i.push(r[c],r[h],r[d],r[f])}return i.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(ek(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):eT(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();let r=n?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let n=0;n<e.length;){let a=r[e.charAt(n++)],o=n<e.length?r[e.charAt(n)]:0,s=++n<e.length?r[e.charAt(n)]:64,l=++n<e.length?r[e.charAt(n)]:64;if(++n,null==a||null==o||null==s||null==l)throw new eC;let u=a<<2|o>>4;if(i.push(u),64!==s){let e=o<<4&240|s>>2;if(i.push(e),64!==l){let e=s<<6&192|l;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ex=function(e){let n=ek(e);return eI.encodeByteArray(n,!0)},eA=function(e){return ex(e).replace(/\./g,"")},eR=function(e){try{return eI.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},eN=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==ei)return ei;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,eP=()=>{if(void 0===ed||void 0===ed.env)return;let e=void 0;if(e)return JSON.parse(e)},eO=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let n=e&&eR(e[1]);return n&&JSON.parse(n)},eD=()=>{try{return eN()||eP()||eO()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eL=e=>{var n,r;return null===(r=null===(n=eD())||void 0===n?void 0:n.emulatorHosts)||void 0===r?void 0:r[e]},eM=e=>{let n=eL(e);if(!n)return;let r=n.lastIndexOf(":");if(r<=0||r+1===n.length)throw Error(`Invalid host ${n} with no separate hostname and port!`);let i=parseInt(n.substring(r+1),10);return"["===n[0]?[n.substring(1,r-1),i]:[n.substring(0,r),i]},eU=()=>{var e;return null===(e=eD())||void 0===e?void 0:e.config},eF=e=>{var n;return null===(n=eD())||void 0===n?void 0:n[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(e,n){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=n||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[eA(JSON.stringify({alg:"none",type:"JWT"})),eA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ez extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ez.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e$.prototype.create)}}class e${constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?a.replace(eH,(e,n)=>{let i=r[n];return null!=i?String(i):`<${n}?>`}):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ez(i,s,r)}}const eH=/\{\$([^}]+)}/g;function eq(e,n){if(e===n)return!0;let r=Object.keys(e),i=Object.keys(n);for(let a of r){if(!i.includes(a))return!1;let r=e[a],o=n[a];if(eW(r)&&eW(o)){if(!eq(r,o))return!1}else if(r!==o)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}function eW(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(e){let n=[];for(let[r,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return n.length?"&"+n.join("&"):""}function eQ(e){let n={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,i]=e.split("=");n[decodeURIComponent(r)]=decodeURIComponent(i)}}),n}function eG(e){let n=e.indexOf("?");if(!n)return"";let r=e.indexOf("#",n);return e.substring(n,r>0?r:void 0)}class eX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw Error("Missing Observer.");void 0===(i=!function(e,n){if("object"!=typeof e||null===e)return!1;for(let r of n)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?{next:e,error:n,complete:r}:e).next&&(i.next=eY),void 0===i.error&&(i.error=eY),void 0===i.complete&&(i.complete=eY);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eY(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(e){return e&&e._delegate?e._delegate:e}class eZ{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let e=new ej;if(this.instancesDeferred.set(n,e),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(i)return null;throw e}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:e0})}catch(e){}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(e){}}}}clearInstance(e=e0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=e0){return this.instances.has(e)}getOptions(e=e0){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[e,n]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&n.resolve(i);return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),a=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);let o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e===e0?void 0:e,options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=e0){return this.component?this.component.multipleInstances?e:e0:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new e1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=[];(l=N||(N={}))[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT";const e3={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},e5=N.INFO,e6={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},e9=(e,n,...r)=>{if(n<e.logLevel)return;let i=new Date().toISOString(),a=e6[n];if(a)console[a](`[${i}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class e8{constructor(e){this.name=e,this._logLevel=e5,this._logHandler=e9,this._userLogHandler=null,e4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}}const e7=(e,n)=>n.some(n=>e instanceof n),te=new WeakMap,tt=new WeakMap,tn=new WeakMap,tr=new WeakMap,ti=new WeakMap;let ta={get(e,n,r){if(e instanceof IDBTransaction){if("done"===n)return tt.get(e);if("objectStoreNames"===n)return e.objectStoreNames||tn.get(e);if("store"===n)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return to(e[n])},set:(e,n,r)=>(e[n]=r,!0),has:(e,n)=>e instanceof IDBTransaction&&("done"===n||"store"===n)||n in e};function to(r){var i;if(r instanceof IDBRequest)return function(e){let n=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(to(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return n.then(n=>{n instanceof IDBCursor&&te.set(n,e)}).catch(()=>{}),ti.set(n,e),n}(r);if(tr.has(r))return tr.get(r);let a="function"==typeof(i=r)?i!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(i)?function(...e){return i.apply(ts(this),e),to(te.get(this))}:function(...e){return to(i.apply(ts(this),e))}:function(e,...n){let r=i.call(ts(this),e,...n);return tn.set(r,e.sort?e.sort():[e]),to(r)}:(i instanceof IDBTransaction&&function(e){if(tt.has(e))return;let n=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});tt.set(e,n)}(i),e7(i,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(i,ta):i;return a!==r&&(tr.set(r,a),ti.set(a,r)),a}const ts=e=>ti.get(e),tl=["get","getKey","getAll","getAllKeys","count"],tu=["put","add","delete","clear"],tc=new Map;function th(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&"string"==typeof n))return;if(tc.get(n))return tc.get(n);let r=n.replace(/FromIndex$/,""),i=n!==r,a=tu.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(a||tl.includes(r)))return;let o=async function(e,...n){let o=this.transaction(e,a?"readwrite":"readonly"),s=o.store;return i&&(s=s.index(n.shift())),(await Promise.all([s[r](...n),a&&o.done]))[0]};return tc.set(n,o),o}ta={...i=ta,get:(e,n,r)=>th(e,n)||i.get(e,n,r),has:(e,n)=>!!th(e,n)||i.has(e,n)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let n=e.getComponent();return(null==n?void 0:n.type)==="VERSION"}(e))return null;{let n=e.getImmediate();return`${n.library}/${n.version}`}}).filter(e=>e).join(" ")}}const tf="@firebase/app",tp="0.10.7",tm=new e8("@firebase/app"),tg="[DEFAULT]",ty={[tf]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},tv=new Map,tw=new Map,tb=new Map;function t_(e,n){try{e.container.addComponent(n)}catch(r){tm.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,r)}}function tE(e){let n=e.name;if(tb.has(n))return tm.debug(`There were multiple attempts to register component ${n}.`),!1;for(let r of(tb.set(n,e),tv.values()))t_(r,e);for(let n of tw.values())t_(n,e);return!0}function tS(e,n){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(n)}function tk(e){return void 0!==e.settings}const tT=new e$("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eZ("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tT.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="10.12.4";function tx(e,n={}){let r=e;"object"!=typeof n&&(n={name:n});let i=Object.assign({name:tg,automaticDataCollectionEnabled:!1},n),a=i.name;if("string"!=typeof a||!a)throw tT.create("bad-app-name",{appName:String(a)});if(r||(r=eU()),!r)throw tT.create("no-options");let o=tv.get(a);if(o){if(eq(r,o.options)&&eq(i,o.config))return o;throw tT.create("duplicate-app",{appName:a})}let s=new e2(a);for(let e of tb.values())s.addComponent(e);let l=new tI(r,i,s);return tv.set(a,l),l}function tA(e=tg){let n=tv.get(e);if(!n&&e===tg&&eU())return tx();if(!n)throw tT.create("no-app",{appName:e});return n}function tR(e,n,r){var i;let a=null!==(i=ty[e])&&void 0!==i?i:e;r&&(a+=`-${r}`);let o=a.match(/\s|\//),s=n.match(/\s|\//);if(o||s){let e=[`Unable to register library "${a}" with version "${n}":`];o&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${n}" contains illegal characters (whitespace or "/")`),tm.warn(e.join(" "));return}tE(new eZ(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}const tN="firebase-heartbeat-store";let tP=null;function tO(){return tP||(tP=(function(e,n,{blocked:r,upgrade:i,blocking:a,terminated:o}={}){let s=indexedDB.open(e,1),l=to(s);return i&&s.addEventListener("upgradeneeded",e=>{i(to(s.result),e.oldVersion,e.newVersion,to(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),l.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l})("firebase-heartbeat-database",0,{upgrade:(e,n)=>{if(0===n)try{e.createObjectStore(tN)}catch(e){console.warn(e)}}}).catch(e=>{throw tT.create("idb-open",{originalErrorMessage:e.message})})),tP}async function tD(e){try{let n=(await tO()).transaction(tN),r=await n.objectStore(tN).get(tM(e));return await n.done,r}catch(e){if(e instanceof ez)tm.warn(e.message);else{let n=tT.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});tm.warn(n.message)}}}async function tL(e,n){try{let r=(await tO()).transaction(tN,"readwrite"),i=r.objectStore(tN);await i.put(n,tM(e)),await r.done}catch(e){if(e instanceof ez)tm.warn(e.message);else{let n=tT.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});tm.warn(n.message)}}}function tM(e){return`${e.name}!${e.options.appId}`}class tU{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new tj(n),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tF();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let n=new Date(e.date).valueOf();return Date.now()-n<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let n=tF(),{heartbeatsToSend:r,unsentEntries:i}=function(e,n=1024){let r=[],i=e.slice();for(let a of e){let e=r.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),tB(r)>n){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),tB(r)>n){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}(this._heartbeatsCache.heartbeats),a=eA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function tF(){return new Date().toISOString().substring(0,10)}class tj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,n)=>{try{let r=!0,i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var e;n((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){n(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await tD(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let r=await this.read();return tL(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var n;if(await this._canUseIndexedDBPromise){let r=await this.read();return tL(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function tB(e){return eA(JSON.stringify({version:2,heartbeats:e})).length}function tV(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)0>n.indexOf(i[a])&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function tz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}tE(new eZ("platform-logger",e=>new td(e),"PRIVATE")),tE(new eZ("heartbeat",e=>new tU(e),"PRIVATE")),tR(tf,tp,""),tR(tf,tp,"esm2017"),tR("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const t$=new e$("auth","Firebase",tz()),tH=new e8("@firebase/auth");function tq(e,...n){tH.logLevel<=N.ERROR&&tH.error(`Auth (${tC}): ${e}`,...n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(e,...n){throw tX(e,...n)}function tK(e,...n){return tX(e,...n)}function tQ(e,n,r){return new e$("auth","Firebase",Object.assign(Object.assign({},tz()),{[n]:r})).create(n,{appName:e.name})}function tG(e){return tQ(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tX(e,...n){if("string"!=typeof e){let r=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(r,...i)}return t$.create(e,...n)}function tY(e,n,...r){if(!e)throw tX(n,...r)}function tJ(e){let n="INTERNAL ASSERTION FAILED: "+e;throw tq(n),Error(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function t0(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){var r;this.shortDelay=e,this.longDelay=n,r="Short delay should be less than long delay!",n>e||tJ(r),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eV())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===t0()||"https:"===t0()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e,n){var r,i;r=e.emulator,i="Emulator should always be set here",r||tJ(i);let{url:a}=e.emulator;return n?`${a}${n.startsWith("/")?n.slice(1):n}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void tJ("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void tJ("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void tJ("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},t5=new t1(3e4,6e4);function t6(e,n){return e.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:e.tenantId}):n}async function t9(e,n,r,i,a={}){return t8(e,a,async()=>{let a={},o={};i&&("GET"===n?o=i:a={body:JSON.stringify(i)});let s=eK(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),t4.fetch()(ne(e,e.config.apiHost,r,s),Object.assign({method:n,headers:l,referrerPolicy:"no-referrer"},a))})}async function t8(e,n,r){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},t3),n);try{let n=new nt(e),a=await Promise.race([r(),n.promise]);n.clearNetworkTimeout();let o=await a.json();if("needConfirmation"in o)throw nn(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{let[n,r]=(a.ok?o.errorMessage:o.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nn(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw nn(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw nn(e,"user-disabled",o);let s=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw tQ(e,s,r);tW(e,s)}}catch(n){if(n instanceof ez)throw n;tW(e,"network-request-failed",{message:String(n)})}}async function t7(e,n,r,i,a={}){let o=await t9(e,n,r,i,a);return"mfaPendingCredential"in o&&tW(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ne(e,n,r,i){let a=`${n}${r}?${i}`;return e.config.emulator?t2(e.config,a):`${e.config.apiScheme}://${a}`}class nt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(tK(this.auth,"network-request-failed")),t5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(e,n,r){let i={appName:e.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);let a=tK(e,n,i);return a.customData._tokenResponse=r,a}function nr(e){return void 0!==e&&void 0!==e.enterprise}class ni{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function na(e,n){return t9(e,"GET","/v2/recaptchaConfig",t6(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(e,n){return t9(e,"POST","/v1/accounts:delete",n)}async function ns(e,n){return t9(e,"POST","/v1/accounts:lookup",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){if(e)try{let n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch(e){}}async function nu(e,n=!1){let r=eJ(e),i=await r.getIdToken(n),a=nh(i);tY(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");let o="object"==typeof a.firebase?a.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:nl(nc(a.auth_time)),issuedAtTime:nl(nc(a.iat)),expirationTime:nl(nc(a.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function nc(e){return 1e3*Number(e)}function nh(e){let[n,r,i]=e.split(".");if(void 0===n||void 0===r||void 0===i)return tq("JWT malformed, contained fewer than 3 sections"),null;try{let e=eR(r);if(!e)return tq("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return tq("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function nd(e){let n=nh(e);return tY(n,"internal-error"),tY(void 0!==n.exp,"internal-error"),tY(void 0!==n.iat,"internal-error"),Number(n.exp)-Number(n.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(e,n,r=!1){if(r)return n;try{return await n}catch(n){throw n instanceof ez&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(e){var n;let r=e.auth,i=await e.getIdToken(),a=await nf(e,ns(r,{idToken:i}));tY(null==a?void 0:a.users.length,r,"internal-error");let o=a.users[0];e._notifyReloadListener(o);let s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?nv(o.providerUserInfo):[],l=[...e.providerData.filter(e=>!s.some(n=>n.providerId===e.providerId)),...s],u=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null==l?void 0:l.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!!u&&c})}async function ny(e){let n=eJ(e);await ng(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function nv(e){return e.map(e=>{var{providerId:n}=e,r=tV(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(e,n){let r=await t8(e,{},async()=>{let r=eK({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=ne(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",t4.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function nb(e,n){return t9(e,"POST","/v2/accounts:revokeToken",t6(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tY(e.idToken,"internal-error"),tY(void 0!==e.idToken,"internal-error"),tY(void 0!==e.refreshToken,"internal-error");let n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):nd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tY(0!==e.length,"internal-error");let n=nd(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return n||!this.accessToken||this.isExpired?(tY(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:a}=await nw(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new n_;return r&&(tY("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(tY("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),a&&(tY("number"==typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n_,this.toJSON())}_performRefresh(){return tJ("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(e,n){tY("string"==typeof e||void 0===e,"internal-error",{appName:n})}class nS{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=tV(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new np(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){let n=await nf(this,this.stsTokenManager.getToken(this.auth,e));return tY(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nu(this,e)}reload(){return ny(this)}_assign(e){this!==e&&(tY(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new nS(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){tY(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ng(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tk(this.auth.app))return Promise.reject(tG(this.auth));let e=await this.getIdToken();return await nf(this,no(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;let h=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,y=null!==(u=n.createdAt)&&void 0!==u?u:void 0,v=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:S}=n;tY(w&&S,e,"internal-error");let k=n_.fromJSON(this.name,S);tY("string"==typeof w,e,"internal-error"),nE(h,e.name),nE(d,e.name),tY("boolean"==typeof b,e,"internal-error"),tY("boolean"==typeof _,e,"internal-error"),nE(f,e.name),nE(p,e.name),nE(m,e.name),nE(g,e.name),nE(y,e.name),nE(v,e.name);let T=new nS({uid:w,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,n,r=!1){let i=new n_;i.updateFromServerResponse(n);let a=new nS({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ng(a),a}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];tY(void 0!==i.localId,"internal-error");let a=void 0!==i.providerUserInfo?nv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(null==a?void 0:a.length),s=new n_;s.updateFromIdToken(r);let l=new nS({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o});return Object.assign(l,{uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null==a?void 0:a.length)}),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Map;function nT(e){var n,r;n="Expected a class definition",e instanceof Function||tJ(n);let i=nk.get(e);return i?(r="Instance stored in cache mismatched with class",i instanceof e||tJ(r)):(i=new e,nk.set(e,i)),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){let n=this.storage[e];return void 0===n?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e,n,r){return`firebase:${e}:${n}:${r}`}nI.type="NONE";class nx{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:a}=this.auth;this.fullUserKey=nC(this.userKey,i.apiKey,a),this.fullPersistenceKey=nC("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?nS._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nx(nT(nI),e,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||nT(nI),o=nC(r,e.config.apiKey,e.name),s=null;for(let r of n)try{let n=await r._get(o);if(n){let i=nS._fromJSON(e,n);r!==a&&(s=i),a=r;break}}catch(e){}let l=i.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&l.length&&(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch(e){}}))),new nx(a,e,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){let n=e.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";{if(nO(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(nR(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(nL(n))return"Blackberry";if(nM(n))return"Webos";if(nN(n))return"Safari";if((n.includes("chrome/")||nP(n))&&!n.includes("edge/"))return"Chrome";if(nD(n))return"Android";let r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==r?void 0:r.length)===2)return r[1]}return"Other"}function nR(e=eV()){return/firefox\//i.test(e)}function nN(e=eV()){let n=e.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function nP(e=eV()){return/crios\//i.test(e)}function nO(e=eV()){return/iemobile/i.test(e)}function nD(e=eV()){return/android/i.test(e)}function nL(e=eV()){return/blackberry/i.test(e)}function nM(e=eV()){return/webos/i.test(e)}function nU(e=eV()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nF(e=eV()){return nU(e)||nD(e)||nM(e)||nL(e)||/windows phone/i.test(e)||nO(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e,n=[]){let r;switch(e){case"Browser":r=nA(eV());break;case"Worker":r=`${nA(eV())}-${e}`;break;default:r=e}let i=n.length?n.join(","):"FirebaseCore-web";return`${r}/JsCore/${tC}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=n=>new Promise((r,i)=>{try{let i=e(n);r(i)}catch(e){i(e)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(e){for(let e of(n.reverse(),n))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(e,n={}){return t9(e,"GET","/v2/passwordPolicy",t6(e,n))}class nz{constructor(e){var n,r,i,a;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(a=l.containsUppercaseLetter)||void 0===a||a),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNonAlphanumericCharacter)||void 0===s||s),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nH(this),this.idTokenSubscription=new nH(this),this.beforeStateQueue=new nB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nT(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nx.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(n),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await ns(this,{idToken:e}),r=await nS._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tk(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(n=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(n,n))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);(!r||r===o)&&(null==s?void 0:s.user)&&(i=s.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(tY(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ng(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tk(this.app))return Promise.reject(tG(this));let n=e?eJ(e):null;return n&&tY(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tY(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tk(this.app)?Promise.reject(tG(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tk(this.app)?Promise.reject(tG(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nT(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new nz(await nV(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new e$("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(n.tenantId=this.tenantId),await nb(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&nT(e)||this._popupRedirectResolver;tY(n,this,"argument-error"),this.redirectPersistenceManager=await nx.create(this,[nT(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return(this._isInitialized&&await this.queue(async()=>{}),(null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)===e)?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let a="function"==typeof n?n:n.next.bind(n),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(tY(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),"function"==typeof n){let a=e.addObserver(n,r,i);return()=>{o=!0,a()}}{let r=e.addObserver(n);return()=>{o=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tY(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;let n=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==n?void 0:n.error)&&function(e,...n){tH.logLevel<=N.WARN&&tH.warn(`Auth (${tC}): ${e}`,...n)}(`Error while retrieving App Check token: ${n.error}`),null==n?void 0:n.token}}class nH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,n){let r=new eX(e,void 0);return r.subscribe.bind(r)}(e=>this.observer=e)}get next(){return tY(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nq={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nW(e){return`__${e}${Math.floor(1e6*Math.random())}`}class nK{constructor(e){this.type="recaptcha-enterprise",this.auth=eJ(e)}async verify(e="verify",n=!1){async function r(e){if(!n){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(n,r)=>{na(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0===i.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new ni(i);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,n(r.siteKey)}}).catch(e=>{r(e)})})}function i(n,r,i){let a=window.grecaptcha;nr(a)?a.enterprise.ready(()=>{a.enterprise.execute(n,{action:e}).then(e=>{r(e)}).catch(()=>{r("NO_RECAPTCHA")})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,a)=>{r(this.auth).then(r=>{if(!n&&nr(window.grecaptcha))i(r,e,a);else{var o;if("undefined"==typeof window){a(Error("RecaptchaVerifier is only supported in browser"));return}let n=nq.recaptchaEnterpriseScript;0!==n.length&&(n+=r),(o=n,nq.loadJS(o)).then(()=>{i(r,e,a)}).catch(e=>{a(e)})}}).catch(e=>{a(e)})})}}async function nQ(e,n,r,i=!1){let a;let o=new nK(e);try{a=await o.verify(r)}catch(e){a=await o.verify(r,!0)}let s=Object.assign({},n);return i?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function nG(e,n,r,i){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a||!a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return i(e,n).catch(async a=>{if("auth/missing-recaptcha-token"!==a.code)return Promise.reject(a);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=await nQ(e,n,r,"getOobCode"===r);return i(e,a)}});{let a=await nQ(e,n,r,"getOobCode"===r);return i(e,a)}}function nX(e){let n=e.indexOf(":");return n<0?"":e.substr(0,n+1)}function nY(e){if(!e)return null;let n=Number(e);return isNaN(n)?null:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tJ("not implemented")}_getIdTokenResponse(e){return tJ("not implemented")}_linkToIdToken(e,n){return tJ("not implemented")}_getReauthenticationResolver(e){return tJ("not implemented")}}async function nZ(e,n){return t9(e,"POST","/v1/accounts:signUp",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(e,n){return t7(e,"POST","/v1/accounts:signInWithPassword",t6(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(e,n){return t7(e,"POST","/v1/accounts:signInWithEmailLink",t6(e,n))}async function n2(e,n){return t7(e,"POST","/v1/accounts:signInWithEmailLink",t6(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4 extends nJ{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new n4(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new n4(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return nG(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",n0);case"emailLink":return n1(e,{email:this._email,oobCode:this._password});default:tW(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return nG(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nZ);case"emailLink":return n2(e,{idToken:n,email:this._email,oobCode:this._password});default:tW(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(e,n){return t7(e,"POST","/v1/accounts:signInWithIdp",t6(e,n))}class n5 extends nJ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new n5(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tW("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=tV(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n5(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){return n3(e,this.buildRequest())}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,n3(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,n3(e,n)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eK(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(e,n){return t9(e,"POST","/v1/accounts:sendVerificationCode",t6(e,n))}async function n9(e,n){return t7(e,"POST","/v1/accounts:signInWithPhoneNumber",t6(e,n))}async function n8(e,n){let r=await t7(e,"POST","/v1/accounts:signInWithPhoneNumber",t6(e,n));if(r.temporaryProof)throw nn(e,"account-exists-with-different-credential",r);return r}const n7={USER_NOT_FOUND:"user-not-found"};async function re(e,n){return t7(e,"POST","/v1/accounts:signInWithPhoneNumber",t6(e,Object.assign(Object.assign({},n),{operation:"REAUTH"})),n7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends nJ{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new rt({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new rt({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return n9(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return n8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return re(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return r||n||i||a?new rt({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}):null}}class rn{constructor(e){var n,r,i,a,o,s;let l=eQ(eG(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,h=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);tY(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){let n=function(e){let n=eQ(eG(e)).link,r=n?eQ(eG(n)).deep_link_id:null,i=eQ(eG(e)).deep_link_id;return(i?eQ(eG(i)).link:null)||i||r||n||e}(e);try{return new rn(n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.providerId=rr.PROVIDER_ID}static credential(e,n){return n4._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=rn.parseLink(n);return tY(r,"argument-error"),n4._fromEmailAndCode(e,r.code,r.tenantId)}}rr.PROVIDER_ID="password",rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ra{constructor(){super("facebook.com")}static credential(e){return n5._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch(e){return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com",ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ra{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return n5._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch(e){return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com",rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends ra{constructor(){super("github.com")}static credential(e){return n5._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch(e){return null}}}rl.GITHUB_SIGN_IN_METHOD="github.com",rl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends ra{constructor(){super("twitter.com")}static credential(e,n){return n5._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ru.credential(n,r)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(e,n){return t7(e,"POST","/v1/accounts:signUp",t6(e,n))}ru.TWITTER_SIGN_IN_METHOD="twitter.com",ru.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){return new rh({user:await nS._fromIdTokenResponse(e,r,i),providerId:rd(r),_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){return await e._updateTokensIfNecessary(r,!0),new rh({user:e,providerId:rd(r),_tokenResponse:r,operationType:n})}}function rd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends ez{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rf(e,n,r,i)}}function rp(e,n,r,i){return("reauthenticate"===n?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw rf._fromErrorAndOperation(e,r,n,i);throw r})}async function rm(e,n,r=!1){let i=await nf(e,n._linkToIdToken(e.auth,await e.getIdToken()),r);return rh._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(e,n,r=!1){let{auth:i}=e;if(tk(i.app))return Promise.reject(tG(i));let a="reauthenticate";try{let o=await nf(e,rp(i,a,n,e),r);tY(o.idToken,i,"internal-error");let s=nh(o.idToken);tY(s,i,"internal-error");let{sub:l}=s;return tY(e.uid===l,i,"user-mismatch"),rh._forOperation(e,a,o)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&tW(i,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ry(e,n,r=!1){if(tk(e.app))return Promise.reject(tG(e));let i="signIn",a=await rp(e,i,n),o=await rh._fromIdTokenResponse(e,i,a);return r||await e._updateCurrentUser(o.user),o}async function rv(e,n){return ry(eJ(e),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(e){let n=eJ(e);n._getPasswordPolicyInternal()&&await n._updatePasswordPolicy()}async function rb(e,n,r){if(tk(e.app))return Promise.reject(tG(e));let i=eJ(e),a=nG(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rc),o=await a.catch(n=>{throw"auth/password-does-not-meet-requirements"===n.code&&rw(e),n}),s=await rh._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(s.user),s}new WeakMap;const r_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(r_,"1"),this.storage.removeItem(r_),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class rS extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=eV();return nN(e)||nU(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=nF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((e,n,r)=>{this.notifyListeners(e,r)});return}let r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}let i=()=>{let e=this.storage.getItem(r);(n||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);(function(){let e=eV();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(n?JSON.parse(n):n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){let n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rk.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(n=>n.isListeningto(e));if(n)return n;let r=new rT(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:n,eventType:r,data:i}=e.data,a=this.handlersMap[r];if(!(null==a?void 0:a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});let o=Array.from(a).map(async n=>n(e.origin,i)),s=await Promise.all(o.map(async e=>{try{let n=await e;return{fulfilled:!0,value:n}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),n&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e="",n=10){let r="";for(let e=0;e<n;e++)r+=Math.floor(10*Math.random());return e+r}rT.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i,a;let o="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!o)throw Error("connection_unavailable");return new Promise((s,l)=>{let u=rI("",20);o.port1.start();let c=setTimeout(()=>{l(Error("unsupported_event"))},r);a={messageChannel:o,onMessage(e){if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(e.data.response);break;default:clearTimeout(c),clearTimeout(i),l(Error("invalid_response"))}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return void 0!==rx().WorkerGlobalScope&&"function"==typeof rx().importScripts}async function rR(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebaseLocalStorageDb",rP="firebaseLocalStorage",rO="fbase_key";class rD{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rL(e,n){return e.transaction([rP],n?"readwrite":"readonly").objectStore(rP)}function rM(){let e=indexedDB.open(rN,1);return new Promise((n,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{let n=e.result;try{n.createObjectStore(rP,{keyPath:rO})}catch(e){r(e)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(rP)?n(r):(r.close(),await new rD(indexedDB.deleteDatabase(rN)).toPromise(),n(await rM()))})})}async function rU(e,n,r){return new rD(rL(e,!0).put({[rO]:n,value:r})).toPromise()}async function rF(e,n){let r=rL(e,!1).get(n),i=await new rD(r).toPromise();return void 0===i?null:i.value}function rj(e,n){return new rD(rL(e,!0).delete(n)).toPromise()}class rB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await rM()),this.db}async _withRetries(e){let n=0;for(;;)try{let n=await this._openDb();return await e(n)}catch(e){if(n++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rT._getInstance(rA()?self:null),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var n;if(this.sender&&this.activeServiceWorker&&((null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await rM();return await rU(e,r_,"1"),await rj(e,r_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rU(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){let n=await this._withRetries(n=>rF(n,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new rD(rL(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let n=[],r=new Set;if(0!==e.length)for(let{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(let e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),n.push(e));return n}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function rV(e,n,r){var i,a,o;let s=await r.verify();try{let l;if(tY("string"==typeof s,e,"argument-error"),tY("recaptcha"===r.type,e,"argument-error"),l="string"==typeof n?{phoneNumber:n}:n,"session"in l){let n=l.session;if("phoneNumber"in l)return tY("enroll"===n.type,e,"internal-error"),(await (a={idToken:n.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:s}},t9(e,"POST","/v2/accounts/mfaEnrollment:start",t6(e,a)))).phoneSessionInfo.sessionInfo;{tY("signin"===n.type,e,"internal-error");let r=(null===(i=l.multiFactorHint)||void 0===i?void 0:i.uid)||l.multiFactorUid;return tY(r,e,"missing-multi-factor-info"),(await (o={mfaPendingCredential:n.credential,mfaEnrollmentId:r,phoneSignInInfo:{recaptchaToken:s}},t9(e,"POST","/v2/accounts/mfaSignIn:start",t6(e,o)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:n}=await n6(e,{phoneNumber:l.phoneNumber,recaptchaToken:s});return n}}finally{r._reset()}}rB.type="LOCAL",nW("rcb"),new t1(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.providerId=rz.PROVIDER_ID,this.auth=eJ(e)}verifyPhoneNumber(e,n){return rV(this.auth,e,eJ(n))}static credential(e,n){return rt._fromVerification(e,n)}static credentialFromResult(e){return rz.credentialFromTaggedObject(e)}static credentialFromError(e){return rz.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:n,temporaryProof:r}=e;return n&&r?rt._fromTokenResponse(n,r):null}}rz.PROVIDER_ID="phone",rz.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r$ extends nJ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return n3(e,this._buildIdpRequest())}_linkToIdToken(e,n){return n3(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return n3(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rH(e){return ry(e.auth,new r$(e),e.bypassAuthState)}function rq(e){let{auth:n,user:r}=e;return tY(r,n,"internal-error"),rg(r,new r$(e),e.bypassAuthState)}async function rW(e){let{auth:n,user:r}=e;return tY(r,n,"internal-error"),rm(r,new r$(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rH;case"linkViaPopup":case"linkViaRedirect":return rW;case"reauthViaPopup":case"reauthViaRedirect":return rq;default:tW(this.auth,"internal-error")}}resolve(e){var n,r;n=this.pendingPromise,r="Pending promise was never set",n||tJ(r),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var n,r;n=this.pendingPromise,r="Pending promise was never set",n||tJ(r),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new t1(2e3,1e4);class rG extends rK{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,rG.currentPopupAction&&rG.currentPopupAction.cancel(),rG.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return tY(e,this.auth,"internal-error"),e}async onExecution(){var e,n;e=1===this.filter.length,n="Popup operations only handle one event",e||tJ(n);let r=rI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(tK(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(tK(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rG.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(null===(r=null===(n=this.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tK(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rQ.get())};e()}}rG.currentPopupAction=null;const rX=new Map;class rY extends rK{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rX.get(this.auth._key());if(!e){try{let n=await rJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}rX.set(this.auth._key(),e)}return this.bypassAuthState||rX.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rJ(e,n){let r=nC("pendingRedirect",n.config.apiKey,n.name),i=nT(e._redirectPersistence);if(!await i._isAvailable())return!1;let a=await i._get(r)==="true";return await i._remove(r),a}function rZ(e,n){rX.set(e._key(),n)}async function r0(e,n,r=!1){if(tk(e.app))return Promise.reject(tG(e));let i=eJ(e),a=n?nT(n):(tY(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver),o=new rY(i,a,r),s=await o.execute();return s&&!r&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,n)),s}class r1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r4(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r4(e)){let i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(tK(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(r2(e))}saveEventToCache(e){this.cachedEventUids.add(r2(e)),this.lastProcessedEventTime=Date.now()}}function r2(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function r4({type:e,error:n}){return"unknown"===e&&(null==n?void 0:n.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(e,n={}){return t9(e,"GET","/v1/projects",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function r9(e){if(e.config.emulator)return;let{authorizedDomains:n}=await r3(e);for(let e of n)try{if(function(e){let n=tZ(),{protocol:r,hostname:i}=new URL(n);if(e.startsWith("chrome-extension://")){let a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===n.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!r6.test(r))return!1;if(r5.test(e))return i===e;let a=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}(e))return}catch(e){}tW(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=new t1(3e4,6e4);function r7(){let e=rx().___jsl;if(null==e?void 0:e.H){for(let n of Object.keys(e.H))if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=[...e.H[n].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}let ie=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new t1(5e3,15e3),ir={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function ia(e){let n=await (ie=ie||new Promise((n,r)=>{var i,a,o,s;function l(){r7(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{r7(),r(tK(e,"network-request-failed"))},timeout:r8.get()})}if(null===(a=null===(i=rx().gapi)||void 0===i?void 0:i.iframes)||void 0===a?void 0:a.Iframe)n(gapi.iframes.getContext());else if(null===(o=rx().gapi)||void 0===o?void 0:o.load)l();else{let n=nW("iframefcb");return rx()[n]=()=>{gapi.load?l():r(tK(e,"network-request-failed"))},(s=`${nq.gapiScript}?onload=${n}`,nq.loadJS(s)).catch(e=>r(e))}}).catch(e=>{throw ie=null,e})),r=rx().gapi;return tY(r,e,"internal-error"),n.open({where:document.body,url:function(e){let n=e.config;tY(n.authDomain,e,"auth-domain-config-required");let r=n.emulator?t2(n,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:n.apiKey,appName:e.name,v:tC},a=ii.get(e.config.apiHost);a&&(i.eid=a);let o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${eK(i).slice(1)}`}(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ir,dontclear:!0},n=>new Promise(async(r,i)=>{await n.restyle({setHideOnLeave:!1});let a=tK(e,"network-request-failed"),o=rx().setTimeout(()=>{i(a)},it.get());function s(){rx().clearTimeout(o),r(n)}n.ping(s).then(s,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const il=encodeURIComponent("fac");async function iu(e,n,r,i,a,o){tY(e.config.authDomain,e,"auth-domain-config-required"),tY(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:i,v:tC,eventId:a};if(n instanceof ri)for(let[r,i]of(n.setDefaultLanguage(e.languageCode),s.providerId=n.providerId||"",!function(e){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}(n.getCustomParameters())&&(s.customParameters=JSON.stringify(n.getCustomParameters())),Object.entries(o||{})))s[r]=i;if(n instanceof ra){let e=n.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}for(let n of(e.tenantId&&(s.tid=e.tenantId),Object.keys(s)))void 0===s[n]&&delete s[n];let l=await e._getAppCheckToken(),u=l?`#${il}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?t2(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${eK(s).slice(1)}${u}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="webStorageSupport",ih=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rk,this._completeRedirectFn=r0,this._overrideRedirectResult=rZ}async _openPopup(e,n,r,i){var a,o,s;o=null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,s="_initialize() not called before _openPopup()",o||tJ(s);let l=await iu(e,n,r,tZ(),i);return function(e,n,r,i=500,a=600){let o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",u=Object.assign(Object.assign({},io),{width:i.toString(),height:a.toString(),top:o,left:s}),c=eV().toLowerCase();r&&(l=nP(c)?"_blank":r),nR(c)&&(n=n||"http://localhost",u.scrollbars="yes");let h=Object.entries(u).reduce((e,[n,r])=>`${e}${n}=${r},`,"");if(function(e=eV()){var n;return nU(e)&&!!(null===(n=window.navigator)||void 0===n?void 0:n.standalone)}(c)&&"_self"!==l)return function(e,n){let r=document.createElement("a");r.href=e,r.target=n;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}(n||"",l),new is(null);let d=window.open(n||"",l,h);tY(d,e,"popup-blocked");try{d.focus()}catch(e){}return new is(d)}(e,l,rI())}async _openRedirect(e,n,r,i){var a;return await this._originValidation(e),a=await iu(e,n,r,tZ(),i),rx().location.href=a,new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){var r;let{manager:e,promise:i}=this.eventManagers[n];return e?Promise.resolve(e):(r="If manager is not set, promise should be",i||tJ(r),i)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){let n=await ia(e),r=new r1(e);return n.register("authEvent",n=>(tY(null==n?void 0:n.authEvent,e,"invalid-auth-event"),{status:r.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ic,{type:ic},r=>{var i;let a=null===(i=null==r?void 0:r[0])||void 0===i?void 0:i[ic];void 0!==a&&n(!!a),tW(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nF()||nN()||nU()}};class id{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return tJ("unexpected MultiFactorSessionType")}}}class ip extends id{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ip(e)}_finalizeEnroll(e,n,r){return t9(e,"POST","/v2/accounts/mfaEnrollment:finalize",t6(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,n){return t9(e,"POST","/v2/accounts/mfaSignIn:finalize",t6(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class im extends id{constructor(e,n,r){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=r}static _fromSecret(e,n){return new im(n,void 0,e)}static _fromEnrollmentId(e,n){return new im(n,e)}async _finalizeEnroll(e,n,r){return tY(void 0!==this.secret,e,"argument-error"),t9(e,"POST","/v2/accounts/mfaEnrollment:finalize",t6(e,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,n){tY(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return t9(e,"POST","/v2/accounts/mfaSignIn:finalize",t6(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}))}}class ig{constructor(e,n,r,i,a,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,n){return new ig(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){var r;let i=!1;return(iy(e)||iy(n))&&(i=!0),i&&(iy(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),iy(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function iy(e){return void 0===e||(null==e?void 0:e.length)===0}var iv="@firebase/auth",iw="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(n=>{e((null==n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tY(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const i_=eF("authIdTokenMaxAge")||300;let iE=null;const iS=e=>async n=>{let r=n&&await n.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>i_)return;let a=null==r?void 0:r.token;iE!==a&&(iE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ik(e=tA()){let n=tS(e,"auth");if(n.isInitialized())return n.getImmediate();let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,n){let r=tS(e,"auth");if(r.isInitialized()){let e=r.getImmediate();if(eq(r.getOptions(),null!=n?n:{}))return e;tW(e,"already-initialized")}return r.initialize({options:n})}(e,{popupRedirectResolver:ih,persistence:[rB,rS,rk]}),i=eF("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(i,location.origin);if(location.origin===e.origin){var a,o;let n=iS(e.toString());a=()=>n(r.currentUser),eJ(r).beforeAuthStateChanged(n,a),o=e=>n(e),eJ(r).onIdTokenChanged(o,void 0,void 0)}}let s=eL("auth");return s&&function(e,n,r){let i=eJ(e);tY(i._canInitEmulator,i,"emulator-config-failed"),tY(/^https?:\/\//.test(n),i,"invalid-emulator-scheme");let a=nX(n),{host:o,port:s}=function(e){let n=nX(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(n.length));if(!r)return{host:"",port:null};let i=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){let e=a[1];return{host:e,port:nY(i.substr(e.length+1))}}{let[e,n]=i.split(":");return{host:e,port:nY(n)}}}(n),l=null===s?"":`:${s}`;i.config.emulator={url:`${a}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(r,`http://${s}`),r}nq={loadJS:e=>new Promise((n,r)=>{var i,a;let o=document.createElement("script");o.setAttribute("src",e),o.onload=n,o.onerror=e=>{let n=tK("internal-error");n.customData=e,r(n)},o.type="text/javascript",o.charset="UTF-8",(null!==(a=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==a?a:document).appendChild(o)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},u="Browser",tE(new eZ("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;tY(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l=new n$(r,i,a,{apiKey:o,authDomain:s,clientPlatform:u,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nj(u)});return function(e,n){let r=(null==n?void 0:n.persistence)||[],i=(Array.isArray(r)?r:[r]).map(nT);(null==n?void 0:n.errorMap)&&e._updateErrorMap(n.errorMap),e._initializeWithPersistence(i,null==n?void 0:n.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tE(new eZ("auth-internal",e=>new ib(eJ(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),tR(iv,iw,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(u)),tR(iv,iw,"esm2017");/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iT=(es("acw62"),es("acw62"));/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iI(){return(iI=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}(c=P||(P={})).Pop="POP",c.Push="PUSH",c.Replace="REPLACE";const iC="popstate";function ix(e,n){if(!1===e||null==e)throw Error(n)}function iA(e,n){if(!e){"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}}function iR(e,n){return{usr:e.state,key:e.key,idx:n}}function iN(e,n,r,i){return void 0===r&&(r=null),iI({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof n?iO(n):n,{state:r,key:n&&n.key||i||Math.random().toString(36).substr(2,8)})}function iP(e){let{pathname:n="/",search:r="",hash:i=""}=e;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function iO(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}(h=O||(O={})).data="data",h.deferred="deferred",h.redirect="redirect",h.error="error";const iD=new Set(["lazy","caseSensitive","path","id","index","children"]);function iL(e,n,r,i){return void 0===r&&(r=[]),void 0===i&&(i={}),e.map((e,a)=>{let o=[...r,String(a)],s="string"==typeof e.id?e.id:o.join("-");if(ix(!0!==e.index||!e.children,"Cannot specify children on an index route"),ix(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let r=iI({},e,n(e),{id:s});return i[s]=r,r}{let r=iI({},e,n(e),{id:s,children:void 0});return i[s]=r,e.children&&(r.children=iL(e.children,n,o,i)),r}})}function iM(e,n,r){return void 0===r&&(r="/"),iU(e,n,r,!1)}function iU(e,n,r,i){let a=iV(("string"==typeof n?iO(n):n).pathname||"/",r);if(null==a)return null;let o=function e(n,r,i,a){void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===a&&(a="");let o=(n,o,s)=>{var l;let u,c,h={relativePath:void 0===s?n.path||"":s,caseSensitive:!0===n.caseSensitive,childrenIndex:o,route:n};h.relativePath.startsWith("/")&&(ix(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),h.relativePath=h.relativePath.slice(a.length));let d=iW([a,h.relativePath]),f=i.concat(h);n.children&&n.children.length>0&&(ix(!0!==n.index,'Index routes must not have child routes. Please remove all child routes from route path "'+d+'".'),e(n.children,r,f,d)),(null!=n.path||n.index)&&r.push({path:d,score:(l=n.index,c=(u=d.split("/")).length,u.some(ij)&&(c+=-2),l&&(c+=2),u.filter(e=>!ij(e)).reduce((e,n)=>e+(iF.test(n)?3:""===n?1:10),c)),routesMeta:f})};return n.forEach((e,n)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let r of function e(n){let r=n.split("/");if(0===r.length)return[];let[i,...a]=r,o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];let l=e(a.join("/")),u=[];return u.push(...l.map(e=>""===e?s:[s,e].join("/"))),o&&u.push(...l),u.map(e=>n.startsWith("/")&&""===e?"/":e)}(e.path))o(e,n,r);else o(e,n)}),r}(e);!function(e){e.sort((e,n)=>{var r,i;return e.score!==n.score?n.score-e.score:(r=e.routesMeta.map(e=>e.childrenIndex),i=n.routesMeta.map(e=>e.childrenIndex),r.length===i.length&&r.slice(0,-1).every((e,n)=>e===i[n])?r[r.length-1]-i[i.length-1]:0)})}(o);let s=null;for(let e=0;null==s&&e<o.length;++e){let n=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(n){return iA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a);s=function(e,n,r){void 0===r&&(r=!1);let{routesMeta:i}=e,a={},o="/",s=[];for(let e=0;e<i.length;++e){let l=i[e],u=e===i.length-1,c="/"===o?n:n.slice(o.length)||"/",h=iB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&r&&!i[i.length-1].route.index&&(h=iB({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:iW([o,h.pathname]),pathnameBase:iK(iW([o,h.pathnameBase])),route:d}),"/"!==h.pathnameBase&&(o=iW([o,h.pathnameBase]))}return s}(o[e],n,i)}return s}const iF=/^:[\w-]+$/,ij=e=>"*"===e;function iB(e,n){var r,i,a;let o,s;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[l,u]=(r=e.path,i=e.caseSensitive,a=e.end,void 0===i&&(i=!1),void 0===a&&(a=!0),iA("*"===r||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were "'+r.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+r.replace(/\*$/,"/*")+'".'),o=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,n,r)=>(o.push({paramName:n,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")),r.endsWith("*")?(o.push({paramName:"*"}),s+="*"===r||"/*"===r?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":""!==r&&"/"!==r&&(s+="(?:(?=\\/|$))"),[new RegExp(s,i?void 0:"i"),o]),c=n.match(l);if(!c)return null;let h=c[0],d=h.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:u.reduce((e,n,r)=>{let{paramName:i,isOptional:a}=n;if("*"===i){let e=f[r]||"";d=h.slice(0,h.length-e.length).replace(/(.)\/+$/,"$1")}let o=f[r];return a&&!o?e[i]=void 0:e[i]=(o||"").replace(/%2F/g,"/"),e},{}),pathname:h,pathnameBase:d,pattern:e}}function iV(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&"/"!==i?null:e.slice(r)||"/"}function iz(e,n,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n)+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function i$(e){return e.filter((e,n)=>0===n||e.route.path&&e.route.path.length>0)}function iH(e,n){let r=i$(e);return n?r.map((e,n)=>n===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function iq(e,n,r,i){let a,o;void 0===i&&(i=!1),"string"==typeof e?a=iO(e):(ix(!(a=iI({},e)).pathname||!a.pathname.includes("?"),iz("?","pathname","search",a)),ix(!a.pathname||!a.pathname.includes("#"),iz("#","pathname","hash",a)),ix(!a.search||!a.search.includes("#"),iz("#","search","hash",a)));let s=""===e||""===a.pathname,l=s?"/":a.pathname;if(null==l)o=r;else{let e=n.length-1;if(!i&&l.startsWith("..")){let n=l.split("/");for(;".."===n[0];)n.shift(),e-=1;a.pathname=n.join("/")}o=e>=0?n[e]:"/"}let u=function(e,n){let r;void 0===n&&(n="/");let{pathname:i,search:a="",hash:o=""}="string"==typeof e?iO(e):e;return{pathname:i?i.startsWith("/")?i:(r=n.replace(/\/+$/,"").split("/"),i.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"):n,search:iQ(a),hash:iG(o)}}(a,o),c=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const iW=e=>e.join("/").replace(/\/\/+/g,"/"),iK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iQ=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",iG=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class iX{constructor(e,n,r,i){void 0===i&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function iY(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const iJ=["post","put","patch","delete"],iZ=new Set(iJ),i0=new Set(["get",...iJ]),i1=new Set([301,302,303,307,308]),i2=new Set([307,308]),i4={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},i3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},i5={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},i6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i9=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),i8="remix-router-transitions";function i7(e,n,r,i,a,o,s,l){let u,c;if(s){for(let e of(u=[],n))if(u.push(e),e.route.id===s){c=e;break}}else u=n,c=n[n.length-1];let h=iq(a||".",iH(u,o),iV(e.pathname,r)||e.pathname,"path"===l);return null==a&&(h.search=e.search,h.hash=e.hash),(null==a||""===a||"."===a)&&c&&c.route.index&&!aR(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&"/"!==r&&(h.pathname="/"===h.pathname?r:iW([r,h.pathname])),iP(h)}function ae(e,n,r,i){var a;let o,s;if(!i||!(null!=i&&("formData"in i&&null!=i.formData||"body"in i&&void 0!==i.body)))return{path:r};if(i.formMethod&&(a=i.formMethod,!i0.has(a.toLowerCase())))return{path:r,error:ab(405,{method:i.formMethod})};let l=()=>({path:r,error:ab(400,{type:"invalid-body"})}),u=i.formMethod||"get",c=e?u.toUpperCase():u.toLowerCase(),h=aE(r);if(void 0!==i.body){if("text/plain"===i.formEncType){if(!aC(c))return l();let e="string"==typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((e,n)=>{let[r,i]=n;return""+e+r+"="+i+"\n"},""):String(i.body);return{path:r,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){if(!aC(c))return l();try{let e="string"==typeof i.body?JSON.parse(i.body):i.body;return{path:r,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return l()}}}if(ix("function"==typeof FormData,"FormData is not available in this environment"),i.formData)o=af(i.formData),s=i.formData;else if(i.body instanceof FormData)o=af(i.body),s=i.body;else if(i.body instanceof URLSearchParams)s=ap(o=i.body);else if(null==i.body)o=new URLSearchParams,s=new FormData;else try{o=new URLSearchParams(i.body),s=ap(o)}catch(e){return l()}let d={formMethod:c,formAction:h,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(aC(d.formMethod))return{path:r,submission:d};let f=iO(r);return n&&f.search&&aR(f.search)&&o.append("index",""),f.search="?"+o,{path:iP(f),submission:d}}function at(e,n,r,i,a,o,s,l,u,c,h,d,f,p,m,g){let y=g?ak(g[1])?g[1].error:g[1].data:void 0,v=e.createURL(n.location),w=e.createURL(a),b=g&&ak(g[1])?g[0]:void 0,_=b?function(e,n){let r=e;if(n){let i=e.findIndex(e=>e.route.id===n);i>=0&&(r=e.slice(0,i))}return r}(r,b):r,E=g?g[1].statusCode:void 0,S=s&&E&&E>=400,k=_.filter((e,r)=>{var a,s;let c,h,{route:d}=e;if(d.lazy)return!0;if(null==d.loader)return!1;if(o)return"function"!=typeof d.loader||!!d.loader.hydrate||void 0===n.loaderData[d.id]&&(!n.errors||void 0===n.errors[d.id]);if(a=n.loaderData,c=!(s=n.matches[r])||e.route.id!==s.route.id,h=void 0===a[e.route.id],c||h||u.some(n=>n===e.route.id))return!0;let f=n.matches[r];return ar(e,iI({currentUrl:v,currentParams:f.params,nextUrl:w,nextParams:e.params},i,{actionResult:y,actionStatus:E,defaultShouldRevalidate:!S&&(l||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||an(f,e))}))}),T=[];return d.forEach((e,a)=>{if(o||!r.some(n=>n.route.id===e.routeId)||h.has(a))return;let s=iM(p,e.path,m);if(!s){T.push({key:a,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}let u=n.fetchers.get(a),d=aN(s,e.path);!f.has(a)&&(c.includes(a)||(u&&"idle"!==u.state&&void 0===u.data?l:ar(d,iI({currentUrl:v,currentParams:n.matches[n.matches.length-1].params,nextUrl:w,nextParams:r[r.length-1].params},i,{actionResult:y,actionStatus:E,defaultShouldRevalidate:!S&&l}))))&&T.push({key:a,routeId:e.routeId,path:e.path,matches:s,match:d,controller:new AbortController})}),[k,T]}function an(e,n){let r=e.route.path;return e.pathname!==n.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==n.params["*"]}function ar(e,n){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(n);if("boolean"==typeof r)return r}return n.defaultShouldRevalidate}async function ai(e,n,r,i,a,o,s,l){let u=[n,...r.map(e=>e.route.id)].join("-");try{var c;let h=s.get(u);h||(h=e({path:n,matches:r,patch:(e,n)=>{l.aborted||aa(e,n,i,a,o)}}),s.set(u,h)),h&&(c=h,"object"==typeof c&&null!=c&&"then"in c)&&await h}finally{s.delete(u)}}function aa(e,n,r,i,a){if(e){var o;let r=i[e];ix(r,"No route found to patch children into: routeId = "+e);let s=iL(n,a,[e,"patch",String((null==(o=r.children)?void 0:o.length)||"0")],i);r.children?r.children.push(...s):r.children=s}else{let e=iL(n,a,["patch",String(r.length||"0")],i);r.push(...e)}}async function ao(e,n,r){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let a=r[e.id];ix(a,"No route found in manifest");let o={};for(let e in i){let n=void 0!==a[e]&&"hasErrorBoundary"!==e;iA(!n,'Route "'+a.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),n||iD.has(e)||(o[e]=i[e])}Object.assign(a,o),Object.assign(a,iI({},n(a),{lazy:void 0}))}function as(e){return Promise.all(e.matches.map(e=>e.resolve()))}async function al(e,n,r,i,a,o,s,l){let u=i.reduce((e,n)=>e.add(n.route.id),new Set),c=new Set,h=await e({matches:a.map(e=>{let i=u.has(e.route.id);return iI({},e,{shouldLoad:i,resolve:a=>(c.add(e.route.id),i?au(n,r,e,o,s,a,l):Promise.resolve({type:O.data,result:void 0}))})}),request:r,params:a[0].params,context:l});return a.forEach(e=>ix(c.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((e,n)=>u.has(a[n].route.id))}async function au(e,n,r,i,a,o,s){let l,u;let c=i=>{let a;let l=new Promise((e,n)=>a=n);u=()=>a(),n.signal.addEventListener("abort",u);let c=a=>"function"!=typeof i?Promise.reject(Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+r.route.id+"]")):i({request:n,params:r.params,context:s},...void 0!==a?[a]:[]);return Promise.race([o?o(e=>c(e)):(async()=>{try{let e=await c();return{type:"data",result:e}}catch(e){return{type:"error",result:e}}})(),l])};try{let o=r.route[e];if(r.route.lazy){if(o){let e;let[n]=await Promise.all([c(o).catch(n=>{e=n}),ao(r.route,a,i)]);if(void 0!==e)throw e;l=n}else if(await ao(r.route,a,i),o=r.route[e])l=await c(o);else{if("action"!==e)return{type:O.data,result:void 0};let i=new URL(n.url),a=i.pathname+i.search;throw ab(405,{method:n.method,pathname:a,routeId:r.route.id})}}else if(o)l=await c(o);else{let e=new URL(n.url),r=e.pathname+e.search;throw ab(404,{pathname:r})}ix(void 0!==l.result,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+r.route.id)+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){return{type:O.error,result:e}}finally{u&&n.signal.removeEventListener("abort",u)}return l}async function ac(e){var n,r;let{result:i,type:a,status:o}=e;if(aI(i)){let e;try{let n=i.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==i.body?null:await i.json():await i.text()}catch(e){return{type:O.error,error:e}}return a===O.error?{type:O.error,error:new iX(i.status,i.statusText,e),statusCode:i.status,headers:i.headers}:{type:O.data,data:e,statusCode:i.status,headers:i.headers}}return a===O.error?{type:O.error,error:i,statusCode:iY(i)?i.status:o}:i&&"object"==typeof i&&"object"==typeof i.data&&"function"==typeof i.subscribe&&"function"==typeof i.cancel&&"function"==typeof i.resolveData?{type:O.deferred,deferredData:i,statusCode:null==(n=i.init)?void 0:n.status,headers:(null==(r=i.init)?void 0:r.headers)&&new Headers(i.init.headers)}:{type:O.data,data:i,statusCode:o}}function ah(e,n,r){if(i6.test(e)){let i=new URL(e.startsWith("//")?n.protocol+e:e),a=null!=iV(i.pathname,r);if(i.origin===n.origin&&a)return i.pathname+i.search+i.hash}return e}function ad(e,n,r,i){let a=e.createURL(aE(n)).toString(),o={signal:r};if(i&&aC(i.formMethod)){let{formMethod:e,formEncType:n}=i;o.method=e.toUpperCase(),"application/json"===n?(o.headers=new Headers({"Content-Type":n}),o.body=JSON.stringify(i.json)):"text/plain"===n?o.body=i.text:"application/x-www-form-urlencoded"===n&&i.formData?o.body=af(i.formData):o.body=i.formData}return new Request(a,o)}function af(e){let n=new URLSearchParams;for(let[r,i]of e.entries())n.append(r,"string"==typeof i?i:i.name);return n}function ap(e){let n=new FormData;for(let[r,i]of e.entries())n.append(r,i);return n}function am(e,n,r,i,a,o,s,l){let u,c,h,d,f,p;let{loaderData:m,errors:g}=(c={},h=null,d=!1,f={},p=a&&ak(a[1])?a[1].error:void 0,i.forEach((e,i)=>{let a=r[i].route.id;if(ix(!aT(e),"Cannot handle redirect results in processLoaderData"),ak(e)){let r=e.error;void 0!==p&&(r=p,p=void 0),h=h||{};{let e=av(n,a);null==h[e.route.id]&&(h[e.route.id]=r)}c[a]=void 0,d||(d=!0,u=iY(e.error)?e.error.status:500),e.headers&&(f[a]=e.headers)}else aS(e)?(l.set(a,e.deferredData),c[a]=e.deferredData.data,null==e.statusCode||200===e.statusCode||d||(u=e.statusCode)):(c[a]=e.data,e.statusCode&&200!==e.statusCode&&!d&&(u=e.statusCode)),e.headers&&(f[a]=e.headers)}),void 0!==p&&a&&(h={[a[0]]:p},c[a[0]]=void 0),{loaderData:c,errors:h,statusCode:u||200,loaderHeaders:f});for(let n=0;n<o.length;n++){let{key:r,match:i,controller:a}=o[n];ix(void 0!==s&&void 0!==s[n],"Did not find corresponding fetcher result");let l=s[n];if(!a||!a.signal.aborted){if(ak(l)){let n=av(e.matches,null==i?void 0:i.route.id);g&&g[n.route.id]||(g=iI({},g,{[n.route.id]:l.error})),e.fetchers.delete(r)}else if(aT(l))ix(!1,"Unhandled fetcher revalidation redirect");else if(aS(l))ix(!1,"Unhandled fetcher deferred data");else{let n=aL(l.data);e.fetchers.set(r,n)}}}return{loaderData:m,errors:g}}function ag(e,n,r,i){let a=iI({},n);for(let o of r){let r=o.route.id;if(n.hasOwnProperty(r)?void 0!==n[r]&&(a[r]=n[r]):void 0!==e[r]&&o.route.loader&&(a[r]=e[r]),i&&i.hasOwnProperty(r))break}return a}function ay(e){return e?ak(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function av(e,n){return(n?e.slice(0,e.findIndex(e=>e.route.id===n)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function aw(e){let n=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function ab(e,n){let{pathname:r,routeId:i,method:a,type:o,message:s}=void 0===n?{}:n,l="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(l="Bad Request","route-discovery"===o?u='Unable to match URL "'+r+'" - the `unstable_patchRoutesOnMiss()` function threw the following error:\n'+s:a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?u="defer() is not supported in actions":"invalid-body"===o&&(u="Unable to encode submission body")):403===e?(l="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(l="Not Found",u='No route matches URL "'+r+'"'):405===e&&(l="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new iX(e||500,l,Error(u),!0)}function a_(e){for(let n=e.length-1;n>=0;n--){let r=e[n];if(aT(r))return{result:r,idx:n}}}function aE(e){let n="string"==typeof e?iO(e):e;return iP(iI({},n,{hash:""}))}function aS(e){return e.type===O.deferred}function ak(e){return e.type===O.error}function aT(e){return(e&&e.type)===O.redirect}function aI(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function aC(e){return iZ.has(e.toLowerCase())}async function ax(e,n,r,i,a,o){for(let s=0;s<r.length;s++){let l=r[s],u=n[s];if(!u)continue;let c=e.find(e=>e.route.id===u.route.id),h=null!=c&&!an(c,u)&&(o&&o[u.route.id])!==void 0;if(aS(l)&&(a||h)){let e=i[s];ix(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await aA(l,e,a).then(e=>{e&&(r[s]=e||r[s])})}}}async function aA(e,n,r){if(void 0===r&&(r=!1),!await e.deferredData.resolveData(n)){if(r)try{return{type:O.data,data:e.deferredData.unwrappedData}}catch(e){return{type:O.error,error:e}}return{type:O.data,data:e.deferredData.data}}}function aR(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function aN(e,n){let r="string"==typeof n?iO(n).search:n.search;if(e[e.length-1].route.index&&aR(r||""))return e[e.length-1];let i=i$(e);return i[i.length-1]}function aP(e){let{formMethod:n,formAction:r,formEncType:i,text:a,formData:o,json:s}=e;if(n&&r&&i){if(null!=a)return{formMethod:n,formAction:r,formEncType:i,formData:void 0,json:void 0,text:a};if(null!=o)return{formMethod:n,formAction:r,formEncType:i,formData:o,json:void 0,text:void 0};if(void 0!==s)return{formMethod:n,formAction:r,formEncType:i,formData:void 0,json:s,text:void 0}}}function aO(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aD(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function aL(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}Symbol("deferred");/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iT=es("acw62");function aM(){return(aM=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}const aU=iT.createContext(null),aF=iT.createContext(null),aj=iT.createContext(null),aB=iT.createContext(null),aV=iT.createContext({outlet:null,matches:[],isDataRoute:!1}),az=iT.createContext(null);function a$(){return null!=iT.useContext(aB)}function aH(){return a$()||ix(!1),iT.useContext(aB).location}function aq(e){iT.useContext(aj).static||iT.useLayoutEffect(e)}function aW(){let{isDataRoute:e}=iT.useContext(aV);return e?function(){let e;let{router:n}=(aJ.UseNavigateStable,(e=iT.useContext(aU))||ix(!1),e),r=a0(aZ.UseNavigateStable),i=iT.useRef(!1);return aq(()=>{i.current=!0}),iT.useCallback(function(e,a){void 0===a&&(a={}),i.current&&("number"==typeof e?n.navigate(e):n.navigate(e,aM({fromRouteId:r},a)))},[n,r])}():function(){a$()||ix(!1);let e=iT.useContext(aU),{basename:n,future:r,navigator:i}=iT.useContext(aj),{matches:a}=iT.useContext(aV),{pathname:o}=aH(),s=JSON.stringify(iH(a,r.v7_relativeSplatPath)),l=iT.useRef(!1);return aq(()=>{l.current=!0}),iT.useCallback(function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"==typeof r){i.go(r);return}let u=iq(r,JSON.parse(s),o,"path"===a.relative);null==e&&"/"!==n&&(u.pathname="/"===u.pathname?n:iW([n,u.pathname])),(a.replace?i.replace:i.push)(u,a.state,a)},[n,i,s,o,e])}()}const aK=iT.createContext(null);function aQ(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=iT.useContext(aj),{matches:a}=iT.useContext(aV),{pathname:o}=aH(),s=JSON.stringify(iH(a,i.v7_relativeSplatPath));return iT.useMemo(()=>iq(e,JSON.parse(s),o,"path"===r),[e,s,o,r])}const aG=iT.createElement(function(){let e=a1(),n=iY(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null;return iT.createElement(iT.Fragment,null,iT.createElement("h2",null,"Unexpected Application Error!"),iT.createElement("h3",{style:{fontStyle:"italic"}},n),r?iT.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},r):null,null)},null);class aX extends iT.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||"idle"!==n.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return void 0!==this.state.error?iT.createElement(aV.Provider,{value:this.props.routeContext},iT.createElement(az.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aY(e){let{routeContext:n,match:r,children:i}=e,a=iT.useContext(aU);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),iT.createElement(aV.Provider,{value:n},i)}var aJ=((d=aJ||{}).UseBlocker="useBlocker",d.UseRevalidator="useRevalidator",d.UseNavigateStable="useNavigate",d),aZ=((f=aZ||{}).UseBlocker="useBlocker",f.UseLoaderData="useLoaderData",f.UseActionData="useActionData",f.UseRouteError="useRouteError",f.UseNavigation="useNavigation",f.UseRouteLoaderData="useRouteLoaderData",f.UseMatches="useMatches",f.UseRevalidator="useRevalidator",f.UseNavigateStable="useNavigate",f.UseRouteId="useRouteId",f);function a0(e){let n;let r=((n=iT.useContext(aV))||ix(!1),n),i=r.matches[r.matches.length-1];return i.route.id||ix(!1),i.route.id}function a1(){var e;let n;let r=iT.useContext(az),i=(aZ.UseRouteError,(n=iT.useContext(aF))||ix(!1),n),a=a0(aZ.UseRouteError);return void 0!==r?r:null==(e=i.errors)?void 0:e[a]}const a2={};function a4(e){var n;let r;return n=e.context,(r=iT.useContext(aV).outlet)?iT.createElement(aK.Provider,{value:n},r):r}function a3(e){let{basename:n="/",children:r=null,location:i,navigationType:a=P.Pop,navigator:o,static:s=!1,future:l}=e;a$()&&ix(!1);let u=n.replace(/^\/*/,"/"),c=iT.useMemo(()=>({basename:u,navigator:o,static:s,future:aM({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);"string"==typeof i&&(i=iO(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=iT.useMemo(()=>{let e=iV(h,u);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:a}},[u,h,d,f,p,m,a]);return null==g?null:iT.createElement(aj.Provider,{value:c},iT.createElement(aB.Provider,{children:r,value:g}))}iT.startTransition;var a5=((p=a5||{})[p.pending=0]="pending",p[p.success=1]="success",p[p.error=2]="error",p);function a6(){return(a6=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}new Promise(()=>{});const a9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}const a8=iT.createContext({isTransitioning:!1}),a7=iT.createContext(new Map),oe=iT.startTransition,ot=eh.flushSync;function on(e){ot?ot(e):e()}iT.useId;class or{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=n=>{"pending"===this.status&&(this.status="resolved",e(n))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",n(e))}})}}const oi=iT.memo(function(e){let{routes:n,future:r,state:i}=e;return function(e,n,r,i){let a;a$()||ix(!1);let{navigator:o}=iT.useContext(aj),{matches:s}=iT.useContext(aV),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=aH();if(n){var d;let e="string"==typeof n?iO(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||ix(!1),a=e}else a=h;let f=a.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=iM(e,{pathname:p}),g=function(e,n,r,i){var a,o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){if(null==(o=r)||!o.errors)return null;e=r.matches}let s=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&(null==l?void 0:l[e.route.id])!==void 0);e>=0||ix(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,c=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<s.length;e++){let n=s[e];if((n.route.HydrateFallback||n.route.hydrateFallbackElement)&&(c=e),n.route.id){let{loaderData:e,errors:i}=r,a=n.route.loader&&void 0===e[n.route.id]&&(!i||void 0===i[n.route.id]);if(n.route.lazy||a){u=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((e,i,a)=>{var o;let h;let d=!1,f=null,p=null;r&&(h=l&&i.route.id?l[i.route.id]:void 0,f=i.route.errorElement||aG,u&&(c<0&&0===a?(a2[o="route-fallback"]||(a2[o]=!0),d=!0,p=null):c===a&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,a+1)),g=()=>{let n;return n=h?f:d?p:i.route.Component?iT.createElement(i.route.Component,null):i.route.element?i.route.element:e,iT.createElement(aY,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?iT.createElement(aX,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:iW([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:iW([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,i);return n&&g?iT.createElement(aB.Provider,{value:{location:aM({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:P.Pop}},g):g}(n,void 0,i,r)}),oa="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,oo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=iT.forwardRef(function(e,n){let r,{onClick:i,relative:a,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=function(e,n){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,a9),{basename:p}=iT.useContext(aj),m=!1;if("string"==typeof c&&oo.test(c)&&(r=c,oa))try{let e=new URL(window.location.href),n=new URL(c.startsWith("//")?e.protocol+c:c),r=iV(n.pathname,p);n.origin===e.origin&&null!=r?c=r+n.search+n.hash:m=!0}catch(e){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;a$()||ix(!1);let{basename:i,navigator:a}=iT.useContext(aj),{hash:o,pathname:s,search:l}=aQ(e,{relative:r}),u=s;return"/"!==i&&(u="/"===s?i:iW([i,s])),a.createHref({pathname:u,search:l,hash:o})}(c,{relative:a}),y=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=void 0===n?{}:n,u=aW(),c=aH(),h=aQ(e,{relative:s});return iT.useCallback(n=>{0!==n.button||r&&"_self"!==r||n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||(n.preventDefault(),u(e,{replace:void 0!==i?i:iP(c)===iP(h),state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}))},[c,u,h,i,a,r,e,o,s,l])}(c,{replace:s,state:l,target:u,preventScrollReset:h,relative:a,unstable_viewTransition:d});return iT.createElement("a",a6({},f,{href:r||g,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))});(m=D||(D={})).UseScrollRestoration="useScrollRestoration",m.UseSubmit="useSubmit",m.UseSubmitFetcher="useSubmitFetcher",m.UseFetcher="useFetcher",m.useViewTransitionState="useViewTransitionState",(g=L||(L={})).UseFetcher="useFetcher",g.UseFetchers="useFetchers",g.UseScrollRestoration="useScrollRestoration";var iT=es("acw62"),ol={};ol=es("gbH6E"),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ou="default"in iT?iT.default:iT,oc=Symbol.for("react-redux-context"),oh="undefined"!=typeof globalThis?globalThis:{},od=function(){var e;if(!ou.createContext)return{};let n=null!=(e=oh[oc])?e:oh[oc]=new Map,r=n.get(ou.createContext);return r||(r=ou.createContext(null),n.set(ou.createContext,r)),r}();function of(e=od){return function(){return ou.useContext(e)}}var op=of(),om=()=>{throw Error("uSES not initialized!")},og=(e,n)=>e===n,oy=function(e=od){let n=e===od?op:of(e),r=(e,r={})=>{let{equalityFn:i=og,devModeChecks:a={}}="function"==typeof r?{equalityFn:r}:r,{store:o,subscription:s,getServerState:l,stabilityCheck:u,identityFunctionCheck:c}=n();ou.useRef(!0);let h=ou.useCallback({[e.name]:n=>e(n)}[e.name],[e,u,a.stabilityCheck]),d=om(s.addNestedSub,o.getState,l||o.getState,h,i);return ou.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");var ov={notify(){},get:()=>[]},ow=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),ob="undefined"!=typeof navigator&&"ReactNative"===navigator.product,o_=ow||ob?ou.useLayoutEffect:ou.useEffect,oE=function({store:e,context:n,children:r,serverState:i,stabilityCheck:a="once",identityFunctionCheck:o="once"}){let s=ou.useMemo(()=>{let n=function(e,n){let r;let i=ov,a=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function l(){if(a++,!r){let n,a;r=e.subscribe(s),n=null,a=null,i={clear(){n=null,a=null},notify(){(()=>{let e=n;for(;e;)e.callback(),e=e.next})()},get(){let e=[],r=n;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,i=a={callback:e,next:null,prev:a};return i.prev?i.prev.next=i:n=i,function(){r&&null!==n&&(r=!1,i.next?i.next.prev=i.prev:a=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}}function u(){a--,r&&0===a&&(r(),r=void 0,i.clear(),i=ov)}let c={addNestedSub:function(e){l();let n=i.subscribe(e),r=!1;return()=>{r||(r=!0,n(),u())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,l())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>i};return c}(e);return{store:e,subscription:n,getServerState:i?()=>i:void 0,stabilityCheck:a,identityFunctionCheck:o}},[e,i,a,o]),l=ou.useMemo(()=>e.getState(),[e]);return o_(()=>{let{subscription:n}=s;return n.onStateChange=n.notifyNestedSubs,n.trySubscribe(),l!==e.getState()&&n.notifyNestedSubs(),()=>{n.tryUnsubscribe(),n.onStateChange=void 0}},[s,l]),ou.createElement((n||od).Provider,{value:s},r)};function oS(e=od){let n=e===od?op:of(e),r=()=>{let{store:e}=n();return e};return Object.assign(r,{withTypes:()=>r}),r}var ok=oS(),oT=function(e=od){let n=e===od?ok:oS(e),r=()=>n().dispatch;return Object.assign(r,{withTypes:()=>r}),r}();om=ol.useSyncExternalStoreWithSelector,iT.useSyncExternalStore,tR("firebase","10.12.4","app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebasestorage.googleapis.com";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends ez{constructor(e,n,r=0){super(ox(e),`Firebase Storage: ${n} (${ox(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oC.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ox(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function ox(e){return"storage/"+e}function oA(e){return new oC(M.INVALID_ARGUMENT,e)}function oR(){return new oC(M.APP_DELETED,"The Firebase app was deleted.")}(y=M||(M={})).UNKNOWN="unknown",y.OBJECT_NOT_FOUND="object-not-found",y.BUCKET_NOT_FOUND="bucket-not-found",y.PROJECT_NOT_FOUND="project-not-found",y.QUOTA_EXCEEDED="quota-exceeded",y.UNAUTHENTICATED="unauthenticated",y.UNAUTHORIZED="unauthorized",y.UNAUTHORIZED_APP="unauthorized-app",y.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",y.INVALID_CHECKSUM="invalid-checksum",y.CANCELED="canceled",y.INVALID_EVENT_NAME="invalid-event-name",y.INVALID_URL="invalid-url",y.INVALID_DEFAULT_BUCKET="invalid-default-bucket",y.NO_DEFAULT_BUCKET="no-default-bucket",y.CANNOT_SLICE_BLOB="cannot-slice-blob",y.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",y.NO_DOWNLOAD_URL="no-download-url",y.INVALID_ARGUMENT="invalid-argument",y.INVALID_ARGUMENT_COUNT="invalid-argument-count",y.APP_DELETED="app-deleted",y.INVALID_ROOT_OPERATION="invalid-root-operation",y.INVALID_FORMAT="invalid-format",y.INTERNAL_ERROR="internal-error",y.UNSUPPORTED_ENVIRONMENT="unsupported-environment";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oN.makeFromUrl(e,n)}catch(n){return new oN(e,"")}if(""===r.path)return r;throw new oC(M.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)",a=RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}let s=n.replace(/[.]/g,"\\."),l=RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),u=n===oI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,c=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:l,indices:{bucket:1,path:3},postModify:o},{regex:RegExp(`^https?://${u}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let n=0;n<c.length;n++){let i=c[n],a=i.regex.exec(e);if(a){let e=a[i.indices.bucket],n=a[i.indices.path];n||(n=""),r=new oN(e,n),i.postModify(r);break}}if(null==r)throw new oC(M.INVALID_URL,"Invalid URL '"+e+"'.");return r}}class oP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oO(e,n,r,i){if(i<n)throw oA(`Invalid value for '${e}'. Expected ${n} or greater.`);if(i>r)throw oA(`Invalid value for '${e}'. Expected ${r} or less.`)}(v=U||(U={}))[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,a,o,s,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,n)=>{this.resolve_=e,this.reject_=n,this.start_()})}start_(){let e=(e,n)=>{let r=this.resolve_,i=this.reject_,a=n.connection;if(n.wasSuccessCode)try{let e=this.callback_(a,a.getResponse());void 0!==e?r(e):r()}catch(e){i(e)}else if(null!==a){let e=new oC(M.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");e.serverResponse=a.getErrorText(),i(this.errorCallback_?this.errorCallback_(a,e):e)}else i(n.canceled?this.appDelete_?oR():new oC(M.CANCELED,"User canceled the upload/download."):new oC(M.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(!1,new oL(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,n,r){let i=1,a=null,o=null,s=!1,l=0,u=!1;function c(...e){u||(u=!0,n.apply(null,e))}function h(n){a=setTimeout(()=>{a=null,e(f,2===l)},n)}function d(){o&&clearTimeout(o)}function f(e,...n){let r;if(u){d();return}if(e||2===l||s){d(),c.call(null,e,...n);return}i<64&&(i*=2),1===l?(l=2,r=0):r=(i+Math.random())*1e3,h(r)}let p=!1;function m(e){!p&&(p=!0,d(),u||(null!==a?(e||(l=2),clearTimeout(a),h(0)):e||(l=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},r),m}((e,n)=>{if(n){e(!1,new oL(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let i=e=>{let n=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(n,r)};null!==this.progressCallback_&&r.addUploadProgressListener(i),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(i),this.pendingConnection_=null;let n=r.getErrorCode()===U.NO_ERROR,a=r.getStatus();if(!n||/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,n){let r=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==n.indexOf(e);return r||i||a}(a,this.additionalRetryCodes_)&&this.retry){e(!1,new oL(!1,null,r.getErrorCode()===U.ABORT));return}e(!0,new oL(-1!==this.successCodes_.indexOf(a),r))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oL{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this._service=e,n instanceof oN?this._location=n:this._location=oN.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oM(e,n)}get root(){let e=new oN(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(e){let n=e.lastIndexOf("/",e.length-2);return -1===n?e:e.slice(n+1)}(this._location.path)}get storage(){return this._service}get parent(){let e=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(0===e.length)return null;let n=e.lastIndexOf("/");return -1===n?"":e.slice(0,n)}(this._location.path);if(null===e)return null;let n=new oN(this._location.bucket,e);return new oM(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw new oC(M.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function oU(e,n){let r=null==n?void 0:n.storageBucket;return null==r?null:oN.makeFromBucketSpec(r,e)}class oF{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=oN.makeFromBucketSpec(i,this._host):this._bucket=oU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=oN.makeFromBucketSpec(this._url,e):this._bucket=oU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(null!==n)return n.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oM(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new oP(oR());{let o=function(e,n,r,i,a,o,s=!0){let l=function(e){let n=encodeURIComponent,r="?";for(let i in e)e.hasOwnProperty(i)&&(r=r+(n(i)+"=")+n(e[i])+"&");return r.slice(0,-1)}(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return n&&(c["X-Firebase-GMPID"]=n),null!==r&&r.length>0&&(c.Authorization="Firebase "+r),c["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager"),null!==i&&(c["X-Firebase-AppCheck"]=i),new oD(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s)}(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const oj="@firebase/storage",oB="0.12.6",oV="storage";tE(new eZ(oV,function(e,{instanceIdentifier:n}){return new oF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n,tC)},"PUBLIC").setMultipleInstances(!0)),tR(oj,oB,""),tR(oj,oB,"esm2017");var oz="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ei?ei:"undefined"!=typeof self?self:{},o$={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,n,r){r||(r=0);var i=Array(16);if("string"==typeof n)for(var a=0;16>a;++a)i[a]=n.charCodeAt(r++)|n.charCodeAt(r++)<<8|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<24;else for(a=0;16>a;++a)i[a]=n[r++]|n[r++]<<8|n[r++]<<16|n[r++]<<24;n=e.g[0],r=e.g[1],a=e.g[2];var o=e.g[3],s=n+(o^r&(a^o))+i[0]+3614090360&4294967295;s=o+(a^(n=r+(s<<7&4294967295|s>>>25))&(r^a))+i[1]+3905402710&4294967295,s=a+(r^(o=n+(s<<12&4294967295|s>>>20))&(n^r))+i[2]+606105819&4294967295,s=r+(n^(a=o+(s<<17&4294967295|s>>>15))&(o^n))+i[3]+3250441966&4294967295,s=n+(o^(r=a+(s<<22&4294967295|s>>>10))&(a^o))+i[4]+4118548399&4294967295,s=o+(a^(n=r+(s<<7&4294967295|s>>>25))&(r^a))+i[5]+1200080426&4294967295,s=a+(r^(o=n+(s<<12&4294967295|s>>>20))&(n^r))+i[6]+2821735955&4294967295,s=r+(n^(a=o+(s<<17&4294967295|s>>>15))&(o^n))+i[7]+4249261313&4294967295,s=n+(o^(r=a+(s<<22&4294967295|s>>>10))&(a^o))+i[8]+1770035416&4294967295,s=o+(a^(n=r+(s<<7&4294967295|s>>>25))&(r^a))+i[9]+2336552879&4294967295,s=a+(r^(o=n+(s<<12&4294967295|s>>>20))&(n^r))+i[10]+4294925233&4294967295,s=r+(n^(a=o+(s<<17&4294967295|s>>>15))&(o^n))+i[11]+2304563134&4294967295,s=n+(o^(r=a+(s<<22&4294967295|s>>>10))&(a^o))+i[12]+1804603682&4294967295,s=o+(a^(n=r+(s<<7&4294967295|s>>>25))&(r^a))+i[13]+4254626195&4294967295,s=a+(r^(o=n+(s<<12&4294967295|s>>>20))&(n^r))+i[14]+2792965006&4294967295,s=r+(n^(a=o+(s<<17&4294967295|s>>>15))&(o^n))+i[15]+1236535329&4294967295,r=a+(s<<22&4294967295|s>>>10),s=n+(a^o&(r^a))+i[1]+4129170786&4294967295,n=r+(s<<5&4294967295|s>>>27),s=o+(r^a&(n^r))+i[6]+3225465664&4294967295,o=n+(s<<9&4294967295|s>>>23),s=a+(n^r&(o^n))+i[11]+643717713&4294967295,a=o+(s<<14&4294967295|s>>>18),s=r+(o^n&(a^o))+i[0]+3921069994&4294967295,r=a+(s<<20&4294967295|s>>>12),s=n+(a^o&(r^a))+i[5]+3593408605&4294967295,n=r+(s<<5&4294967295|s>>>27),s=o+(r^a&(n^r))+i[10]+38016083&4294967295,o=n+(s<<9&4294967295|s>>>23),s=a+(n^r&(o^n))+i[15]+3634488961&4294967295,a=o+(s<<14&4294967295|s>>>18),s=r+(o^n&(a^o))+i[4]+3889429448&4294967295,r=a+(s<<20&4294967295|s>>>12),s=n+(a^o&(r^a))+i[9]+568446438&4294967295,n=r+(s<<5&4294967295|s>>>27),s=o+(r^a&(n^r))+i[14]+3275163606&4294967295,o=n+(s<<9&4294967295|s>>>23),s=a+(n^r&(o^n))+i[3]+4107603335&4294967295,a=o+(s<<14&4294967295|s>>>18),s=r+(o^n&(a^o))+i[8]+1163531501&4294967295,r=a+(s<<20&4294967295|s>>>12),s=n+(a^o&(r^a))+i[13]+2850285829&4294967295,n=r+(s<<5&4294967295|s>>>27),s=o+(r^a&(n^r))+i[2]+4243563512&4294967295,o=n+(s<<9&4294967295|s>>>23),s=a+(n^r&(o^n))+i[7]+1735328473&4294967295,a=o+(s<<14&4294967295|s>>>18),s=r+(o^n&(a^o))+i[12]+2368359562&4294967295,s=n+((r=a+(s<<20&4294967295|s>>>12))^a^o)+i[5]+4294588738&4294967295,s=o+((n=r+(s<<4&4294967295|s>>>28))^r^a)+i[8]+2272392833&4294967295,s=a+((o=n+(s<<11&4294967295|s>>>21))^n^r)+i[11]+1839030562&4294967295,s=r+((a=o+(s<<16&4294967295|s>>>16))^o^n)+i[14]+4259657740&4294967295,s=n+((r=a+(s<<23&4294967295|s>>>9))^a^o)+i[1]+2763975236&4294967295,s=o+((n=r+(s<<4&4294967295|s>>>28))^r^a)+i[4]+1272893353&4294967295,s=a+((o=n+(s<<11&4294967295|s>>>21))^n^r)+i[7]+4139469664&4294967295,s=r+((a=o+(s<<16&4294967295|s>>>16))^o^n)+i[10]+3200236656&4294967295,s=n+((r=a+(s<<23&4294967295|s>>>9))^a^o)+i[13]+681279174&4294967295,s=o+((n=r+(s<<4&4294967295|s>>>28))^r^a)+i[0]+3936430074&4294967295,s=a+((o=n+(s<<11&4294967295|s>>>21))^n^r)+i[3]+3572445317&4294967295,s=r+((a=o+(s<<16&4294967295|s>>>16))^o^n)+i[6]+76029189&4294967295,s=n+((r=a+(s<<23&4294967295|s>>>9))^a^o)+i[9]+3654602809&4294967295,s=o+((n=r+(s<<4&4294967295|s>>>28))^r^a)+i[12]+3873151461&4294967295,s=a+((o=n+(s<<11&4294967295|s>>>21))^n^r)+i[15]+530742520&4294967295,s=r+((a=o+(s<<16&4294967295|s>>>16))^o^n)+i[2]+3299628645&4294967295,r=a+(s<<23&4294967295|s>>>9),s=n+(a^(r|~o))+i[0]+4096336452&4294967295,n=r+(s<<6&4294967295|s>>>26),s=o+(r^(n|~a))+i[7]+1126891415&4294967295,o=n+(s<<10&4294967295|s>>>22),s=a+(n^(o|~r))+i[14]+2878612391&4294967295,a=o+(s<<15&4294967295|s>>>17),s=r+(o^(a|~n))+i[5]+4237533241&4294967295,r=a+(s<<21&4294967295|s>>>11),s=n+(a^(r|~o))+i[12]+1700485571&4294967295,n=r+(s<<6&4294967295|s>>>26),s=o+(r^(n|~a))+i[3]+2399980690&4294967295,o=n+(s<<10&4294967295|s>>>22),s=a+(n^(o|~r))+i[10]+4293915773&4294967295,a=o+(s<<15&4294967295|s>>>17),s=r+(o^(a|~n))+i[1]+2240044497&4294967295,r=a+(s<<21&4294967295|s>>>11),s=n+(a^(r|~o))+i[8]+1873313359&4294967295,n=r+(s<<6&4294967295|s>>>26),s=o+(r^(n|~a))+i[15]+4264355552&4294967295,o=n+(s<<10&4294967295|s>>>22),s=a+(n^(o|~r))+i[6]+2734768916&4294967295,a=o+(s<<15&4294967295|s>>>17),s=r+(o^(a|~n))+i[13]+1309151649&4294967295,r=a+(s<<21&4294967295|s>>>11),s=n+(a^(r|~o))+i[4]+4149444226&4294967295,n=r+(s<<6&4294967295|s>>>26),s=o+(r^(n|~a))+i[11]+3174756917&4294967295,o=n+(s<<10&4294967295|s>>>22),s=a+(n^(o|~r))+i[2]+718787259&4294967295,a=o+(s<<15&4294967295|s>>>17),s=r+(o^(a|~n))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+n&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,n){this.h=n;for(var r=[],i=!0,a=e.length-1;0<=a;a--){var o=0|e[a];i&&o==n||(r[a]=o,i=!1)}this.g=r}!function(e,n){function r(){}r.prototype=n.prototype,e.D=n.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return n.prototype[r].apply(e,a)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(e,r){void 0===r&&(r=e.length);for(var i=r-this.blockSize,a=this.B,o=this.h,s=0;s<r;){if(0==o)for(;s<=i;)n(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<r;)if(a[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,a),o=0;break}}else for(;s<r;)if(a[o++]=e[s++],o==this.blockSize){n(this,a),o=0;break}}this.h=o,this.o+=r},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var n=1;n<e.length-8;++n)e[n]=0;var r=8*this.o;for(n=e.length-8;n<e.length;++n)e[n]=255&r,r/=256;for(this.u(e),e=Array(16),n=r=0;4>n;++n)for(var i=0;32>i;i+=8)e[r++]=this.g[n]>>>i&255;return e};var i,a={};function o(e){var n;return -128<=e&&128>e?(n=function(e){return new r([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(a,e)?a[e]:a[e]=n(e)):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return f(s(-e));for(var n=[],i=1,a=0;e>=i;a++)n[a]=e/i|0,i*=4294967296;return new r(n,0)}var l=o(0),u=o(1),c=o(16777216);function h(e){if(0!=e.h)return!1;for(var n=0;n<e.g.length;n++)if(0!=e.g[n])return!1;return!0}function d(e){return -1==e.h}function f(e){for(var n=e.g.length,i=[],a=0;a<n;a++)i[a]=~e.g[a];return new r(i,~e.h).add(u)}function p(e,n){return e.add(f(n))}function m(e,n){for(;(65535&e[n])!=e[n];)e[n+1]+=e[n]>>>16,e[n]&=65535,n++}function g(e,n){this.g=e,this.h=n}function y(e,n){if(h(n))throw Error("division by zero");if(h(e))return new g(l,l);if(d(e))return n=y(f(e),n),new g(f(n.g),f(n.h));if(d(n))return n=y(e,f(n)),new g(f(n.g),n.h);if(30<e.g.length){if(d(e)||d(n))throw Error("slowDivide_ only works with positive integers.");for(var r=u,i=n;0>=i.l(e);)r=v(r),i=v(i);var a=w(r,1),o=w(i,1);for(i=w(i,2),r=w(r,2);!h(i);){var c=o.add(i);0>=c.l(e)&&(a=a.add(r),o=c),i=w(i,1),r=w(r,1)}return n=p(e,a.j(n)),new g(a,n)}for(a=l;0<=e.l(n);){for(i=48>=(i=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/n.m())))/Math.LN2))?1:Math.pow(2,i-48),c=(o=s(r)).j(n);d(c)||0<c.l(e);)r-=i,c=(o=s(r)).j(n);h(o)&&(o=u),a=a.add(o),e=p(e,c)}return new g(a,e)}function v(e){for(var n=e.g.length+1,i=[],a=0;a<n;a++)i[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(i,e.h)}function w(e,n){var i=n>>5;n%=32;for(var a=e.g.length-i,o=[],s=0;s<a;s++)o[s]=0<n?e.i(s+i)>>>n|e.i(s+i+1)<<32-n:e.i(s+i);return new r(o,e.h)}(i=r.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,n=1,r=0;r<this.g.length;r++){var i=this.i(r);e+=(0<=i?i:4294967296+i)*n,n*=4294967296}return e},i.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var n=s(Math.pow(e,6)),r=this,i="";;){var a=y(r,n).g,o=((0<(r=p(r,a.j(n))).g.length?r.g[0]:r.h)>>>0).toString(e);if(h(r=a))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},i.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},i.l=function(e){return d(e=p(this,e))?-1:h(e)?0:1},i.abs=function(){return d(this)?f(this):this},i.add=function(e){for(var n=Math.max(this.g.length,e.g.length),i=[],a=0,o=0;o<=n;o++){var s=a+(65535&this.i(o))+(65535&e.i(o)),l=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);a=l>>>16,s&=65535,l&=65535,i[o]=l<<16|s}return new r(i,-2147483648&i[i.length-1]?-1:0)},i.j=function(e){if(h(this)||h(e))return l;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var n=this.g.length+e.g.length,i=[],a=0;a<2*n;a++)i[a]=0;for(a=0;a<this.g.length;a++)for(var o=0;o<e.g.length;o++){var u=this.i(a)>>>16,p=65535&this.i(a),g=e.i(o)>>>16,y=65535&e.i(o);i[2*a+2*o]+=p*y,m(i,2*a+2*o),i[2*a+2*o+1]+=u*y,m(i,2*a+2*o+1),i[2*a+2*o+1]+=p*g,m(i,2*a+2*o+1),i[2*a+2*o+2]+=u*g,m(i,2*a+2*o+2)}for(a=0;a<n;a++)i[a]=i[2*a+1]<<16|i[2*a];for(a=n;a<2*n;a++)i[a]=0;return new r(i,0)},i.A=function(e){return y(this,e).h},i.and=function(e){for(var n=Math.max(this.g.length,e.g.length),i=[],a=0;a<n;a++)i[a]=this.i(a)&e.i(a);return new r(i,this.h&e.h)},i.or=function(e){for(var n=Math.max(this.g.length,e.g.length),i=[],a=0;a<n;a++)i[a]=this.i(a)|e.i(a);return new r(i,this.h|e.h)},i.xor=function(e){for(var n=Math.max(this.g.length,e.g.length),i=[],a=0;a<n;a++)i[a]=this.i(a)^e.i(a);return new r(i,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,j=o$.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(n,r){if(0==n.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==n.charAt(0))return f(e(n.substring(1),r));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=s(Math.pow(r,8)),a=l,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),c=parseInt(n.substring(o,o+u),r);8>u?(u=s(Math.pow(r,u)),a=a.j(u).add(s(c))):a=(a=a.j(i)).add(s(c))}return a},F=o$.Integer=r}).apply(void 0!==oz?oz:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var oH="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ei?ei:"undefined"!=typeof self?self:{},oq={};(function(){var e,n,r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,r){return e==Array.prototype||e==Object.prototype||(e[n]=r.value),e},a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oH&&oH];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var r=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in r))break e;r=r[s]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&i(r,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){var e,n,r,i,a;return e=this,n=function(e,n){return n},e instanceof String&&(e+=""),r=0,i=!1,(a={next:function(){if(!i&&r<e.length){var a=r++;return{value:n(a,e[a]),done:!1}}return i=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return a},a}});var o=o||{},s=this||self;function l(e){var n=typeof e;return"array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length}function u(e){var n=typeof e;return"object"==n&&null!=e||"function"==n}function c(e,n,r){return e.call.apply(e.bind,arguments)}function h(e,n,r){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(n,r)}}return function(){return e.apply(n,arguments)}}function d(e,n,r){return(d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h).apply(null,arguments)}function f(e,n){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function p(e,n){function r(){}r.prototype=n.prototype,e.aa=n.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return n.prototype[r].apply(e,a)}}function m(e){let n=e.length;if(0<n){let r=Array(n);for(let i=0;i<n;i++)r[i]=e[i];return r}return[]}function g(e,n){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(l(r)){let n=e.length||0,i=r.length||0;e.length=n+i;for(let a=0;a<i;a++)e[n+a]=r[a]}else e.push(r)}}function y(e){return/^[\s\xa0]*$/.test(e)}function v(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function w(e){return w[" "](e),e}w[" "]=function(){};var b=-1!=v().indexOf("Gecko")&&!(-1!=v().toLowerCase().indexOf("webkit")&&-1==v().indexOf("Edge"))&&!(-1!=v().indexOf("Trident")||-1!=v().indexOf("MSIE"))&&-1==v().indexOf("Edge");function _(e,n,r){for(let i in e)n.call(r,e[i],i,e)}function E(e){let n={};for(let r in e)n[r]=e[r];return n}let S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,n){let r,i;for(let n=1;n<arguments.length;n++){for(r in i=arguments[n])e[r]=i[r];for(let n=0;n<S.length;n++)r=S[n],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}}var T=new class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new I,e=>e.reset());class I{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,n){let r=T.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},R=()=>{let e=s.Promise.resolve(void 0);C=()=>{e.then(N)}};var N=()=>{let e;for(var n;e=null,A.g&&(e=A.g,A.g=A.g.next,A.g||(A.h=null),e.next=null),n=e;){try{n.h.call(n.g)}catch(e){!function(e){s.setTimeout(()=>{throw e},0)}(e)}T.j(n),100>T.h&&(T.h++,n.next=T.g,T.g=n)}x=!1};function P(){this.s=this.s,this.C=this.C}function O(e,n){this.type=e,this.g=this.target=n,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};s.addEventListener("test",e,n),s.removeEventListener("test",e,n)}catch(e){}return e}();function L(e,n){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=n,n=e.relatedTarget){if(b){e:{try{w(n.nodeName);var a=!0;break e}catch(e){}a=!1}a||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}p(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),F=0;function j(e,n,r,i,a){this.listener=e,this.proxy=null,this.src=n,this.type=r,this.capture=!!i,this.ha=a,this.key=++F,this.da=this.fa=!1}function G(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function X(e){this.src=e,this.g={},this.h=0}function Y(e,n){var r=n.type;if(r in e.g){var i,a=e.g[r],o=Array.prototype.indexOf.call(a,n,void 0);(i=0<=o)&&Array.prototype.splice.call(a,o,1),i&&(G(n),0==e.g[r].length&&(delete e.g[r],e.h--))}}function J(e,n,r,i){for(var a=0;a<e.length;++a){var o=e[a];if(!o.da&&o.listener==n&&!!r==o.capture&&o.ha==i)return a}return -1}X.prototype.add=function(e,n,r,i,a){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=J(e,n,i,a);return -1<s?(n=e[s],r||(n.fa=!1)):((n=new j(n,this.src,o,!!i,a)).fa=r,e.push(n)),n};var Z="closure_lm_"+(1e6*Math.random()|0),ee={};function et(e,n,r,i,a,o){if(!n)throw Error("Invalid event type");var s=u(a)?!!a.capture:!!a,l=ea(e);if(l||(e[Z]=l=new X(e)),(r=l.add(n,r,i,s,o)).proxy)return r;if(i=function e(n){return ei.call(e.src,e.listener,n)},r.proxy=i,i.src=e,i.listener=r,e.addEventListener)D||(a=s),void 0===a&&(a=!1),e.addEventListener(n.toString(),i,a);else if(e.attachEvent)e.attachEvent(er(n.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function en(e){if("number"!=typeof e&&e&&!e.da){var n=e.src;if(n&&n[U])Y(n.i,e);else{var r=e.type,i=e.proxy;n.removeEventListener?n.removeEventListener(r,i,e.capture):n.detachEvent?n.detachEvent(er(r),i):n.addListener&&n.removeListener&&n.removeListener(i),(r=ea(n))?(Y(r,e),0==r.h&&(r.src=null,n[Z]=null)):G(e)}}}function er(e){return e in ee?ee[e]:ee[e]="on"+e}function ei(e,n){if(e.da)e=!0;else{n=new L(n,this);var r=e.listener,i=e.ha||e.src;e.fa&&en(e),e=r.call(i,n)}return e}function ea(e){return(e=e[Z])instanceof X?e:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(e){return"function"==typeof e?e:(e[eo]||(e[eo]=function(n){return e.handleEvent(n)}),e[eo])}function el(){P.call(this),this.i=new X(this),this.M=this,this.F=null}function eu(e,n){var r,i=e.F;if(i)for(r=[];i;i=i.F)r.push(i);if(e=e.M,i=n.type||n,"string"==typeof n)n=new O(n,e);else if(n instanceof O)n.target=n.target||e;else{var a=n;k(n=new O(i,e),a)}if(a=!0,r)for(var o=r.length-1;0<=o;o--){var s=n.g=r[o];a=ec(s,i,!0,n)&&a}if(a=ec(s=n.g=e,i,!0,n)&&a,a=ec(s,i,!1,n)&&a,r)for(o=0;o<r.length;o++)a=ec(s=n.g=r[o],i,!1,n)&&a}function ec(e,n,r,i){if(!(n=e.i.g[String(n)]))return!0;n=n.concat();for(var a=!0,o=0;o<n.length;++o){var s=n[o];if(s&&!s.da&&s.capture==r){var l=s.listener,u=s.ha||s.src;s.fa&&Y(e.i,s),a=!1!==l.call(u,i)&&a}}return a&&!i.defaultPrevented}function eh(e,n,r){if("function"==typeof e)r&&(e=d(e,r));else if(e&&"function"==typeof e.handleEvent)e=d(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:s.setTimeout(e,n||0)}p(el,P),el.prototype[U]=!0,el.prototype.removeEventListener=function(e,n,r,i){!function e(n,r,i,a,o){if(Array.isArray(r))for(var s=0;s<r.length;s++)e(n,r[s],i,a,o);else(a=u(a)?!!a.capture:!!a,i=es(i),n&&n[U])?(n=n.i,(r=String(r).toString())in n.g&&-1<(i=J(s=n.g[r],i,a,o))&&(G(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete n.g[r],n.h--))):n&&(n=ea(n))&&(r=n.g[r.toString()],n=-1,r&&(n=J(r,i,a,o)),(i=-1<n?r[n]:null)&&en(i))}(this,e,n,r,i)},el.prototype.N=function(){if(el.aa.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var r=n.g[e],i=0;i<r.length;i++)G(r[i]);delete n.g[e],n.h--}}this.F=null},el.prototype.K=function(e,n,r,i){return this.i.add(String(e),n,!1,r,i)},el.prototype.L=function(e,n,r,i){return this.i.add(String(e),n,!0,r,i)};class ed extends P{constructor(e,n){super(),this.m=e,this.l=n,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(n){n.g=eh(()=>{n.g=null,n.i&&(n.i=!1,e(n))},n.l);let r=n.h;n.h=null,n.m.apply(null,r)}(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ef(e){P.call(this),this.h=e,this.g={}}p(ef,P);var ep=[];function em(e){_(e.g,function(e,n){this.g.hasOwnProperty(n)&&en(e)},e),e.g={}}ef.prototype.N=function(){ef.aa.N.call(this),em(this)},ef.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eg=s.JSON.stringify,ey=s.JSON.parse,ev=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ew(){}function eb(e){return e.h||(e.h=e.i())}function e_(){}ew.prototype.h=null;var eE={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eS(){O.call(this,"d")}function ek(){O.call(this,"c")}p(eS,O),p(ek,O);var eT={},eI=null;function eC(){return eI=eI||new el}function ex(e){O.call(this,eT.La,e)}function eA(e){let n=eC();eu(n,new ex(n))}function eR(e,n){O.call(this,eT.STAT_EVENT,e),this.stat=n}function eN(e){let n=eC();eu(n,new eR(n,e))}function eP(e,n){O.call(this,eT.Ma,e),this.size=n}function eO(e,n){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},n)}function eD(){this.g=!0}function eL(e,n,r,i){e.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(e,n){if(!e.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var i=r[e];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var o=a[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<a.length;s++)a[s]=""}}}}return eg(r)}catch(e){return n}}(e,r)+(i?" "+i:"")})}eT.La="serverreachability",p(ex,O),eT.STAT_EVENT="statevent",p(eR,O),eT.Ma="timingevent",p(eP,O),eD.prototype.xa=function(){this.g=!1},eD.prototype.info=function(){};var eM={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eU={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eF(){}function ej(e,n,r,i){this.j=e,this.i=n,this.l=r,this.R=i||1,this.U=new ef(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eB}function eB(){this.i=null,this.g="",this.h=!1}p(eF,ew),eF.prototype.g=function(){return new XMLHttpRequest},eF.prototype.i=function(){return{}},n=new eF;var eV={},ez={};function e$(e,n,r){e.L=1,e.v=ti(e7(n)),e.m=r,e.P=!0,eH(e,null)}function eH(e,n){e.F=Date.now(),eW(e),e.A=e7(e.v);var r=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),ty(r.i,"t",i),e.C=0,r=e.j.J,e.h=new eB,e.g=t4(e.j,r?n:null,!e.m),0<e.O&&(e.M=new ed(d(e.Y,e,e.g),e.O)),n=e.U,r=e.g,i=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ep[0]=a.toString()),a=ep);for(var o=0;o<a.length;o++){var s=function e(n,r,i,a,o){if(a&&a.once)return function e(n,r,i,a,o){if(Array.isArray(r)){for(var s=0;s<r.length;s++)e(n,r[s],i,a,o);return null}return i=es(i),n&&n[U]?n.L(r,i,u(a)?!!a.capture:!!a,o):et(n,r,i,!0,a,o)}(n,r,i,a,o);if(Array.isArray(r)){for(var s=0;s<r.length;s++)e(n,r[s],i,a,o);return null}return i=es(i),n&&n[U]?n.K(r,i,u(a)?!!a.capture:!!a,o):et(n,r,i,!1,a,o)}(r,a[o],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}n=e.H?E(e.H):{},e.m?(e.u||(e.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,n)):(e.u="GET",e.g.ea(e.A,e.u,null,n)),eA(),function(e,n,r,i,a,o){e.info(function(){if(e.g){if(o)for(var s="",l=o.split("&"),u=0;u<l.length;u++){var c=l[u].split("=");if(1<c.length){var h=c[0];c=c[1];var d=h.split("_");s=2<=d.length&&"type"==d[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null}else s=o;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+n+"\n"+r+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function eq(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eW(e){e.S=Date.now()+e.I,eK(e,e.I)}function eK(e,n){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eO(d(e.ba,e),n)}function eQ(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function eG(e){0==e.j.G||e.J||tJ(e.j,e)}function eX(e){eQ(e);var n=e.M;n&&"function"==typeof n.ma&&n.ma(),e.M=null,em(e.U),e.g&&(n=e.g,e.g=null,n.abort(),n.ma())}function eY(e,n){try{var r=e.j;if(0!=r.G&&(r.g==e||e2(r.h,e))){if(!e.K&&e2(r.h,e)&&3==r.G){try{var i=r.Da.g.parse(n)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!r.u){if(r.g){if(r.g.F+3e3<e.F)tY(r),tV(r);else break e}tQ(r),eN(18)}}else r.za=a[1],0<r.za-r.T&&37500>a[2]&&r.F&&0==r.v&&!r.C&&(r.C=eO(d(r.Za,r),6e3));if(1>=e1(r.h)&&r.ca){try{r.ca()}catch(e){}r.ca=void 0}}else t0(r,11)}else if((e.K||r.g==e)&&tY(r),!y(n))for(a=r.Da.g.parse(n),n=0;n<a.length;n++){let l=a[n];if(r.T=l[0],l=l[1],2==r.G){if("c"==l[0]){r.K=l[1],r.ia=l[2];let n=l[3];null!=n&&(r.la=n,r.j.info("VER="+r.la));let a=l[4];null!=a&&(r.Aa=a,r.j.info("SVER="+r.Aa));let u=l[5];null!=u&&"number"==typeof u&&0<u&&(i=1.5*u,r.L=i,r.j.info("backChannelRequestTimeoutMs_="+i)),i=r;let c=e.g;if(c){let e=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(e4(o,o.h),o.h=null))}if(i.D){let e=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,tr(i.I,i.D,e))}}if(r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms")),(i=r).qa=t2(i,i.J?i.ia:null,i.W),e.K){e3(i.h,e);var s=i.L;s&&(e.I=s),e.B&&(eQ(e),eW(e)),i.g=e}else tK(i);0<r.i.length&&t$(r)}else"stop"!=l[0]&&"close"!=l[0]||t0(r,7)}else 3==r.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?t0(r,7):tB(r):"noop"!=l[0]&&r.l&&r.l.ta(l),r.v=0)}}eA(4)}catch(e){}}ej.prototype.ca=function(e){e=e.target;let n=this.M;n&&3==tM(e)?n.j():this.Y(e)},ej.prototype.Y=function(e){try{if(e==this.g)e:{let f=tM(this.g);var n=this.g.Ba();let p=this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||tU(this.g)))){this.J||4!=f||7==n||(8==n||0>=p?eA(3):eA(2)),eQ(this);var r=this.g.Z();this.X=r;t:if(eq(this)){var i=tU(this.g);e="";var a=i.length,o=4==tM(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eX(this),eG(this);var l="";break t}this.h.i=new s.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:!(o&&n==a-1)});i.length=0,this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.oa();if(this.o=200==r,function(e,n,r,i,a,o,s){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+n+"\n"+r+"\n"+o+" "+s})}(this.i,this.u,this.A,this.l,this.R,f,r),this.o){if(this.T&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(u)){var h=u;break t}}h=null}if(r=h)eL(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eY(this,r);else{this.o=!1,this.s=3,eN(12),eX(this),eG(this);break e}}if(this.P){let e;for(r=!0;!this.J&&this.C<l.length;)if((e=function(e,n){var r=e.C,i=n.indexOf("\n",r);return -1==i?ez:isNaN(r=Number(n.substring(r,i)))?eV:(i+=1)+r>n.length?ez:(n=n.slice(i,i+r),e.C=i+r,n)}(this,l))==ez){4==f&&(this.s=4,eN(14),r=!1),eL(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eV){this.s=4,eN(15),eL(this.i,this.l,l,"[Invalid Chunk]"),r=!1;break}else eL(this.i,this.l,e,null),eY(this,e);if(eq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=l.length||this.h.h||(this.s=1,eN(16),r=!1),this.o=this.o&&r,r){if(0<l.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+l.length),tG(d),d.M=!0,eN(11))}}else eL(this.i,this.l,l,"[Invalid Chunked Response]"),eX(this),eG(this)}else eL(this.i,this.l,l,null),eY(this,l);4==f&&eX(this),this.o&&!this.J&&(4==f?tJ(this.j,this):(this.o=!1,eW(this)))}else(function(e){let n={};e=(e.g&&2<=tM(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(y(e[i]))continue;var r=function(e){var n=1;e=e.split(":");let r=[];for(;0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(":")),r}(e[i]);let a=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let o=n[a]||[];n[a]=o,o.push(r)}!function(e,n){for(let r in e)n.call(void 0,e[r],r,e)}(n,function(e){return e.join(", ")})})(this.g),400==r&&0<l.indexOf("Unknown SID")?(this.s=3,eN(12)):(this.s=0,eN(13)),eX(this),eG(this)}}}catch(e){}finally{}},ej.prototype.cancel=function(){this.J=!0,eX(this)},ej.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(function(e,n){e.info(function(){return"TIMEOUT: "+n})}(this.i,this.A),2!=this.L&&(eA(),eN(17)),eX(this),this.s=2,eG(this)):eK(this,this.S-e)};var eJ=class{constructor(e,n){this.g=e,this.map=n}};function eZ(e){this.l=e||10,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e0(e){return!!e.h||!!e.g&&e.g.size>=e.j}function e1(e){return e.h?1:e.g?e.g.size:0}function e2(e,n){return e.h?e.h==n:!!e.g&&e.g.has(n)}function e4(e,n){e.g?e.g.add(n):e.h=n}function e3(e,n){e.h&&e.h==n?e.h=null:e.g&&e.g.has(n)&&e.g.delete(n)}function e5(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let n=e.i;for(let r of e.g.values())n=n.concat(r.D);return n}return m(e.i)}function e6(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(l(e)||"string"==typeof e)Array.prototype.forEach.call(e,n,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(l(e)||"string"==typeof e){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}for(let i in n=[],r=0,e)n[r++]=i;return n}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(l(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}for(i in n=[],r=0,e)n[r++]=e[i];return n}(e),a=i.length,o=0;o<a;o++)n.call(void 0,i[o],r&&r[o],e)}eZ.prototype.cancel=function(){if(this.i=e5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e8(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e8){this.h=e.h,te(this,e.j),this.o=e.o,this.g=e.g,tt(this,e.s),this.l=e.l;var n=e.i,r=new tf;r.i=n.i,n.g&&(r.g=new Map(n.g),r.h=n.h),tn(this,r),this.m=e.m}else e&&(n=String(e).match(e9))?(this.h=!1,te(this,n[1]||"",!0),this.o=ta(n[2]||""),this.g=ta(n[3]||"",!0),tt(this,n[4]),this.l=ta(n[5]||"",!0),tn(this,n[6]||"",!0),this.m=ta(n[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}function e7(e){return new e8(e)}function te(e,n,r){e.j=r?ta(n,!0):n,e.j&&(e.j=e.j.replace(/:$/,""))}function tt(e,n){if(n){if(isNaN(n=Number(n))||0>n)throw Error("Bad port number "+n);e.s=n}else e.s=null}function tn(e,n,r){var i,a;n instanceof tf?(e.i=n,i=e.i,(a=e.h)&&!i.j&&(tp(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(tm(this,n),ty(this,r,e))},i)),i.j=a):(r||(n=to(n,th)),e.i=new tf(n,e.h))}function tr(e,n,r){e.i.set(n,r)}function ti(e){return tr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ta(e,n){return e?n?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function to(e,n,r){return"string"==typeof e?(e=encodeURI(e).replace(n,ts),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ts(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e8.prototype.toString=function(){var e=[],n=this.j;n&&e.push(to(n,tl,!0),":");var r=this.g;return(r||"file"==n)&&(e.push("//"),(n=this.o)&&e.push(to(n,tl,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(to(r,"/"==r.charAt(0)?tc:tu,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",to(r,td)),e.join("")};var tl=/[#\/\?@]/g,tu=/[#\?:]/g,tc=/[#\?]/g,th=/[#\?@]/g,td=/#/g;function tf(e,n){this.h=this.g=null,this.i=e||null,this.j=!!n}function tp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,n){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var i=e[r].indexOf("="),a=null;if(0<=i){var o=e[r].substring(0,i);a=e[r].substring(i+1)}else o=e[r];n(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(n,r){e.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function tm(e,n){tp(e),n=tv(e,n),e.g.has(n)&&(e.i=null,e.h-=e.g.get(n).length,e.g.delete(n))}function tg(e,n){return tp(e),n=tv(e,n),e.g.has(n)}function ty(e,n,r){tm(e,n),0<r.length&&(e.i=null,e.g.set(tv(e,n),m(r)),e.h+=r.length)}function tv(e,n){return n=String(n),e.j&&(n=n.toLowerCase()),n}function tw(e,n,r,i,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),i(r)}catch(e){}}function tb(){this.g=new ev}function t_(e){this.l=e.Ub||null,this.j=e.eb||!1}function tE(e,n){el.call(this),this.D=e,this.o=n,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tS(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tk(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tT(e)}function tT(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tI(e){let n="";return _(e,function(e,r){n+=r+":"+e+"\r\n"}),n}function tC(e,n,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=tI(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):tr(e,n,r))}function tx(e){el.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(r=tf.prototype).add=function(e,n){tp(this),this.i=null,e=tv(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(n),this.h+=1,this},r.forEach=function(e,n){tp(this),this.g.forEach(function(r,i){r.forEach(function(r){e.call(n,r,i,this)},this)},this)},r.na=function(){tp(this);let e=Array.from(this.g.values()),n=Array.from(this.g.keys()),r=[];for(let i=0;i<n.length;i++){let a=e[i];for(let e=0;e<a.length;e++)r.push(n[i])}return r},r.V=function(e){tp(this);let n=[];if("string"==typeof e)tg(this,e)&&(n=n.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)n=n.concat(e[r])}return n},r.set=function(e,n){return tp(this),this.i=null,tg(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[n]),this.h+=1,this},r.get=function(e,n){return e&&0<(e=this.V(e)).length?String(e[0]):n},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],n=Array.from(this.g.keys());for(var r=0;r<n.length;r++){var i=n[r];let o=encodeURIComponent(String(i)),s=this.V(i);for(i=0;i<s.length;i++){var a=o;""!==s[i]&&(a+="="+encodeURIComponent(String(s[i]))),e.push(a)}}return this.i=e.join("&")},p(t_,ew),t_.prototype.g=function(){return new tE(this.l,this.j)},t_.prototype.i=(e={},function(){return e}),p(tE,el),(r=tE.prototype).open=function(e,n){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=n,this.readyState=1,tT(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let n={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(n.body=e),(this.D||s).fetch(new Request(this.A,n)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tk(this)),this.readyState=0},r.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tT(this)),this.g&&(this.readyState=3,tT(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tS(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))}},r.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var n=e.value?e.value:new Uint8Array(0);(n=this.v.decode(n,{stream:!e.done}))&&(this.response=this.responseText+=n)}e.done?tk(this):tT(this),3==this.readyState&&tS(this)}},r.Ra=function(e){this.g&&(this.response=this.responseText=e,tk(this))},r.Qa=function(e){this.g&&(this.response=e,tk(this))},r.ga=function(){this.g&&tk(this)},r.setRequestHeader=function(e,n){this.u.append(e,n)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],n=this.h.entries();for(var r=n.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=n.next();return e.join("\r\n")},Object.defineProperty(tE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),p(tx,el);var tA=/^https?$/i,tR=["POST","PUT"];function tN(e,n){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=n,e.m=5,tP(e),tD(e)}function tP(e){e.A||(e.A=!0,eu(e,"complete"),eu(e,"error"))}function tO(e){if(e.h&&void 0!==o&&(!e.v[1]||4!=tM(e)||2!=e.Z())){if(e.u&&4==tM(e))eh(e.Ea,0,e);else if(eu(e,"readystatechange"),4==tM(e)){e.h=!1;try{let o=e.Z();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n,r,i=!0;break;default:i=!1}if(!(n=i)){if(r=0===o){var a=String(e.D).match(e9)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),r=!tA.test(a?a.toLowerCase():"")}n=r}if(n)eu(e,"complete"),eu(e,"success");else{e.m=6;try{var l=2<tM(e)?e.g.statusText:""}catch(e){l=""}e.l=l+" ["+e.Z()+"]",tP(e)}}finally{tD(e)}}}}function tD(e,n){if(e.g){tL(e);let r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,n||eu(e,"ready");try{r.onreadystatechange=i}catch(e){}}}function tL(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function tM(e){return e.g?e.g.readyState:0}function tU(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tF(e,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||n}function tj(e){this.Aa=0,this.i=[],this.j=new eD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tF("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tF("baseRetryDelayMs",5e3,e),this.cb=tF("retryDelaySeedMs",1e4,e),this.Wa=tF("forwardChannelMaxRetries",2,e),this.wa=tF("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eZ(e&&e.concurrentRequestLimit),this.Da=new tb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tB(e){if(tz(e),3==e.G){var n=e.U++,r=e7(e.I);if(tr(r,"SID",e.K),tr(r,"RID",n),tr(r,"TYPE","terminate"),tq(e,r),(n=new ej(e,e.j,n)).L=2,n.v=ti(e7(r)),r=!1,s.navigator&&s.navigator.sendBeacon)try{r=s.navigator.sendBeacon(n.v.toString(),"")}catch(e){}!r&&s.Image&&((new Image).src=n.v,r=!0),r||(n.g=t4(n.j,null),n.g.ea(n.v)),n.F=Date.now(),eW(n)}t1(e)}function tV(e){e.g&&(tG(e),e.g.cancel(),e.g=null)}function tz(e){tV(e),e.u&&(s.clearTimeout(e.u),e.u=null),tY(e),e.h.cancel(),e.s&&("number"==typeof e.s&&s.clearTimeout(e.s),e.s=null)}function t$(e){if(!e0(e.h)&&!e.s){e.s=!0;var n=e.Ga;C||R(),x||(C(),x=!0),A.add(n,e),e.B=0}}function tH(e,n){var r;r=n?n.l:e.U++;let i=e7(e.I);tr(i,"SID",e.K),tr(i,"RID",r),tr(i,"AID",e.T),tq(e,i),e.m&&e.o&&tC(i,e.m,e.o),r=new ej(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),n&&(e.i=n.D.concat(e.i)),n=tW(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e4(e.h,r),e$(r,i,n)}function tq(e,n){e.H&&_(e.H,function(e,r){tr(n,r,e)}),e.l&&e6({},function(e,r){tr(n,r,e)})}function tW(e,n,r){r=Math.min(e.i.length,r);var i=e.l?d(e.l.Na,e.l,e):null;e:{var a=e.i;let n=-1;for(;;){let e=["count="+r];-1==n?0<r?(n=a[0].g,e.push("ofs="+n)):n=0:e.push("ofs="+n);let o=!0;for(let s=0;s<r;s++){let r=a[s].g,l=a[s].map;if(0>(r-=n))n=Math.max(0,a[s].g-100),o=!1;else try{!function(e,n,r){let i=r||"";try{e6(e,function(e,r){let a=e;u(e)&&(a=eg(e)),n.push(i+r+"="+encodeURIComponent(a))})}catch(e){throw n.push(i+"type="+encodeURIComponent("_badmap")),e}}(l,e,"req"+r+"_")}catch(e){i&&i(l)}}if(o){i=e.join("&");break e}}}return e=e.i.splice(0,r),n.D=e,i}function tK(e){if(!e.g&&!e.u){e.Y=1;var n=e.Fa;C||R(),x||(C(),x=!0),A.add(n,e),e.v=0}}function tQ(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eO(d(e.Fa,e),tZ(e,e.v)),e.v++,!0)}function tG(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function tX(e){e.g=new ej(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var n=e7(e.qa);tr(n,"RID","rpc"),tr(n,"SID",e.K),tr(n,"AID",e.T),tr(n,"CI",e.F?"0":"1"),!e.F&&e.ja&&tr(n,"TO",e.ja),tr(n,"TYPE","xmlhttp"),tq(e,n),e.m&&e.o&&tC(n,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=ti(e7(n)),r.m=null,r.P=!0,eH(r,e)}function tY(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function tJ(e,n){var r=null;if(e.g==n){tY(e),tG(e),e.g=null;var i=2}else{if(!e2(e.h,n))return;r=n.D,e3(e.h,n),i=1}if(0!=e.G){if(n.o){if(1==i){r=n.m?n.m.length:0,n=Date.now()-n.F;var a,o=e.B;eu(i=eC(),new eP(i,r)),t$(e)}else tK(e)}else if(3==(o=n.s)||0==o&&0<n.X||!(1==i&&(a=n,!(e1(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=a.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eO(d(e.Ga,e,a),tZ(e,e.B)),e.B++,!0)))||2==i&&tQ(e)))switch(r&&0<r.length&&((n=e.h).i=n.i.concat(r)),o){case 1:t0(e,5);break;case 4:t0(e,10);break;case 3:t0(e,6);break;default:t0(e,2)}}}function tZ(e,n){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*n}function t0(e,n){if(e.j.info("Error code "+n),2==n){var r=d(e.fb,e),i=e.Xa;let n=!i;i=new e8(i||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||te(i,"https"),ti(i),n?function(e,n){let r=new eD;if(s.Image){let i=new Image;i.onload=f(tw,r,"TestLoadImage: loaded",!0,n,i),i.onerror=f(tw,r,"TestLoadImage: error",!1,n,i),i.onabort=f(tw,r,"TestLoadImage: abort",!1,n,i),i.ontimeout=f(tw,r,"TestLoadImage: timeout",!1,n,i),s.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else n(!1)}(i.toString(),r):function(e,n){let r=new eD,i=new AbortController,a=setTimeout(()=>{i.abort(),tw(r,"TestPingServer: timeout",!1,n)},1e4);fetch(e,{signal:i.signal}).then(e=>{clearTimeout(a),e.ok?tw(r,"TestPingServer: ok",!0,n):tw(r,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(a),tw(r,"TestPingServer: error",!1,n)})}(i.toString(),r)}else eN(2);e.G=0,e.l&&e.l.sa(n),t1(e),tz(e)}function t1(e){if(e.G=0,e.ka=[],e.l){let n=e5(e.h);(0!=n.length||0!=e.i.length)&&(g(e.ka,n),g(e.ka,e.i),e.h.i.length=0,m(e.i),e.i.length=0),e.l.ra()}}function t2(e,n,r){var i=r instanceof e8?e7(r):new e8(r);if(""!=i.g)n&&(i.g=n+"."+i.g),tt(i,i.s);else{var a=s.location;i=a.protocol,n=n?n+"."+a.hostname:a.hostname,a=+a.port;var o=new e8(null);i&&te(o,i),n&&(o.g=n),a&&tt(o,a),r&&(o.l=r),i=o}return r=e.D,n=e.ya,r&&n&&tr(i,r,n),tr(i,"VER",e.la),tq(e,i),i}function t4(e,n,r){if(n&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new tx(e.Ca&&!e.pa?new t_({eb:r}):e.pa)).Ha(e.J),n}function t3(){}function t5(){}function t6(e,n){el.call(this),this.g=new tj(n),this.l=e,this.h=n&&n.messageUrlParams||null,e=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(e?e["X-WebChannel-Content-Type"]=n.messageContentType:e={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.va&&(e?e["X-WebChannel-Client-Profile"]=n.va:e={"X-WebChannel-Client-Profile":n.va}),this.g.S=e,(e=n&&n.Sb)&&!y(e)&&(this.g.m=e),this.v=n&&n.supportsCrossDomainXhr||!1,this.u=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!y(n)&&(this.g.D=n,null!==(e=this.h)&&n in e&&n in(e=this.h)&&delete e[n]),this.j=new t7(this)}function t9(e){eS.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var n=e.__sm__;if(n){e:{for(let r in n){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,n=null!==n&&e in n?n[e]:void 0),this.data=n}else this.data=e}function t8(){ek.call(this),this.status=1}function t7(e){this.g=e}(r=tx.prototype).Ha=function(e){this.J=e},r.ea=function(e,r,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);r=r?r.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():n.g(),this.v=this.o?eb(this.o):eb(n),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(r,String(e),!0),this.B=!1}catch(e){tN(this,e);return}if(e=i||"",i=new Map(this.headers),a){if(Object.getPrototypeOf(a)===Object.prototype)for(var o in a)i.set(o,a[o]);else if("function"==typeof a.keys&&"function"==typeof a.get)for(let e of a.keys())i.set(e,a.get(e));else throw Error("Unknown input type for opt_headers: "+String(a))}for(let[n,l]of(a=Array.from(i.keys()).find(e=>"content-type"==e.toLowerCase()),o=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(tR,r,void 0))||a||o||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i))this.g.setRequestHeader(n,l);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tL(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tN(this,e)}},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eu(this,"complete"),eu(this,"abort"),tD(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tD(this,!0)),tx.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tO(this):this.bb())},r.bb=function(){tO(this)},r.isActive=function(){return!!this.g},r.Z=function(){try{return 2<tM(this)?this.g.status:-1}catch(e){return -1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Oa=function(e){if(this.g){var n=this.g.responseText;return e&&0==n.indexOf(e)&&(n=n.substring(e.length)),ey(n)}},r.Ba=function(){return this.m},r.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(r=tj.prototype).la=8,r.G=1,r.connect=function(e,n,r,i){eN(0),this.W=e,this.H=n||{},r&&void 0!==i&&(this.H.OSID=r,this.H.OAID=i),this.F=this.X,this.I=t2(this,null,this.W),t$(this)},r.Ga=function(e){if(this.s){if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let a=new ej(this,this.j,e),o=this.o;if(this.S&&(o?k(o=E(o),this.S):o=this.S),null!==this.m||this.O||(a.H=o,o=null),this.P)e:{for(var n=0,r=0;r<this.i.length;r++){t:{var i=this.i[r];if("__data__"in i.map&&"string"==typeof(i=i.map.__data__)){i=i.length;break t}i=void 0}if(void 0===i)break;if(4096<(n+=i)){n=r;break e}if(4096===n||r===this.i.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=tW(this,a,n),tr(r=e7(this.I),"RID",e),tr(r,"CVER",22),this.D&&tr(r,"X-HTTP-Session-Id",this.D),tq(this,r),o&&(this.O?n="headers="+encodeURIComponent(String(tI(o)))+"&"+n:this.m&&tC(r,this.m,o)),e4(this.h,a),this.Ua&&tr(r,"TYPE","init"),this.P?(tr(r,"$req",n),tr(r,"SID","null"),a.T=!0,e$(a,r,null)):e$(a,r,n),this.G=2}}else 3==this.G&&(e?tH(this,e):0==this.i.length||e0(this.h)||tH(this))}},r.Fa=function(){if(this.u=null,tX(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eO(d(this.ab,this),e)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eN(10),tV(this),tX(this))},r.Za=function(){null!=this.C&&(this.C=null,tV(this),tQ(this),eN(19))},r.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eN(2)):(this.j.info("Failed to ping google.com"),eN(1))},r.isActive=function(){return!!this.l&&this.l.isActive(this)},(r=t3.prototype).ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){},t5.prototype.g=function(e,n){return new t6(e,n)},p(t6,el),t6.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t6.prototype.close=function(){tB(this.g)},t6.prototype.o=function(e){var n=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=eg(e),e=r);n.i.push(new eJ(n.Ya++,e)),3==n.G&&t$(n)},t6.prototype.N=function(){this.g.l=null,delete this.j,tB(this.g),delete this.g,t6.aa.N.call(this)},p(t9,eS),p(t8,ek),p(t7,t3),t7.prototype.ua=function(){eu(this.g,"a")},t7.prototype.ta=function(e){eu(this.g,new t9(e))},t7.prototype.sa=function(e){eu(this.g,new t8)},t7.prototype.ra=function(){eu(this.g,"b")},t5.prototype.createWebChannel=t5.prototype.g,t6.prototype.send=t6.prototype.o,t6.prototype.open=t6.prototype.m,t6.prototype.close=t6.prototype.close,Q=oq.createWebChannelTransport=function(){return new t5},K=oq.getStatEventTarget=function(){return eC()},W=oq.Event=eT,q=oq.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eM.NO_ERROR=0,eM.TIMEOUT=8,eM.HTTP_ERROR=6,H=oq.ErrorCode=eM,eU.COMPLETE="complete",$=oq.EventType=eU,e_.EventType=eE,eE.OPEN="a",eE.CLOSE="b",eE.ERROR="c",eE.MESSAGE="d",el.prototype.listen=el.prototype.K,z=oq.WebChannel=e_,V=oq.FetchXmlHttpFactory=t_,tx.prototype.listenOnce=tx.prototype.L,tx.prototype.getLastError=tx.prototype.Ka,tx.prototype.getLastErrorCode=tx.prototype.Ba,tx.prototype.getStatus=tx.prototype.Z,tx.prototype.getResponseJson=tx.prototype.Oa,tx.prototype.getResponseText=tx.prototype.oa,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Ha,B=oq.XhrIo=tx}).apply(void 0!==oH?oH:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),G=function(e){var n,r,i=function(e){var n=e.length;if(n%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=n);var i=r===n?0:4-r%4;return[r,i]}(e),a=i[0],o=i[1],s=new oQ((a+o)*3/4-o),l=0,u=o>0?a-4:a;for(r=0;r<u;r+=4)n=oK[e.charCodeAt(r)]<<18|oK[e.charCodeAt(r+1)]<<12|oK[e.charCodeAt(r+2)]<<6|oK[e.charCodeAt(r+3)],s[l++]=n>>16&255,s[l++]=n>>8&255,s[l++]=255&n;return 2===o&&(n=oK[e.charCodeAt(r)]<<2|oK[e.charCodeAt(r+1)]>>4,s[l++]=255&n),1===o&&(n=oK[e.charCodeAt(r)]<<10|oK[e.charCodeAt(r+1)]<<4|oK[e.charCodeAt(r+2)]>>2,s[l++]=n>>8&255,s[l++]=255&n),s},X=function(e){for(var n,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(function(e,n,r){for(var i,a=[],o=n;o<r;o+=3)a.push(oW[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+oW[i>>12&63]+oW[i>>6&63]+oW[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(oW[(n=e[r-1])>>2]+oW[n<<4&63]+"=="):2===i&&a.push(oW[(n=(e[r-2]<<8)+e[r-1])>>10]+oW[n>>4&63]+oW[n<<2&63]+"="),a.join("")};for(var oW=[],oK=[],oQ="undefined"!=typeof Uint8Array?Uint8Array:Array,oG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oX=0,oY=oG.length;oX<oY;++oX)oW[oX]=oG[oX],oK[oG.charCodeAt(oX)]=oX;oK["-".charCodeAt(0)]=62,oK["_".charCodeAt(0)]=63,Y=function(e,n,r,i,a){var o,s,l=8*a-i-1,u=(1<<l)-1,c=u>>1,h=-7,d=r?a-1:0,f=r?-1:1,p=e[n+d];for(d+=f,o=p&(1<<-h)-1,p>>=-h,h+=l;h>0;o=256*o+e[n+d],d+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+e[n+d],d+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=c}return(p?-1:1)*s*Math.pow(2,o-i)},J=function(e,n,r,i,a,o){var s,l,u,c=8*o-a-1,h=(1<<c)-1,d=h>>1,f=23===a?5960464477539062e-23:0,p=i?0:o-1,m=i?1:-1,g=n<0||0===n&&1/n<0?1:0;for(isNaN(n=Math.abs(n))||n===1/0?(l=isNaN(n)?1:0,s=h):(s=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+d>=1?n+=f/u:n+=f*Math.pow(2,1-d),n*u>=2&&(s++,u/=2),s+d>=h?(l=0,s=h):s+d>=1?(l=(n*u-1)*Math.pow(2,a),s+=d):(l=n*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;e[r+p]=255&l,p+=m,l/=256,a-=8);for(s=s<<a|l,c+=a;c>0;e[r+p]=255&s,p+=m,s/=256,c-=8);e[r+p-m]|=128*g};const oJ="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function oZ(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let n=new Uint8Array(e);return Object.setPrototypeOf(n,o0.prototype),n}function o0(e,n,r){if("number"==typeof e){if("string"==typeof n)throw TypeError('The "string" argument must be of type string. Received type number');return o4(e)}return o1(e,n,r)}function o1(e,n,r){if("string"==typeof e)return function(e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!o0.isEncoding(n))throw TypeError("Unknown encoding: "+n);let r=0|o9(e,n),i=oZ(r),a=i.write(e,n);return a!==r&&(i=i.slice(0,a)),i}(e,n);if(ArrayBuffer.isView(e))return function(e){if(sb(e,Uint8Array)){let n=new Uint8Array(e);return o5(n.buffer,n.byteOffset,n.byteLength)}return o3(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(sb(e,ArrayBuffer)||e&&sb(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(sb(e,SharedArrayBuffer)||e&&sb(e.buffer,SharedArrayBuffer)))return o5(e,n,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return o0.from(i,n,r);let a=function(e){var n;if(o0.isBuffer(e)){let n=0|o6(e.length),r=oZ(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||(n=e.length)!=n?oZ(0):o3(e):"Buffer"===e.type&&Array.isArray(e.data)?o3(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o0.from(e[Symbol.toPrimitive]("string"),n,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o2(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function o4(e){return o2(e),oZ(e<0?0:0|o6(e))}function o3(e){let n=e.length<0?0:0|o6(e.length),r=oZ(n);for(let i=0;i<n;i+=1)r[i]=255&e[i];return r}function o5(e,n,r){let i;if(n<0||e.byteLength<n)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o0.prototype),i}function o6(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function o9(e,n){if(o0.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||sb(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let a=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return sy(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return sv(e).length;default:if(a)return i?-1:sy(e).length;n=(""+n).toLowerCase(),a=!0}}function o8(e,n,r){let i=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(n>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,n,r){let i=e.length;(!n||n<0)&&(n=0),(!r||r<0||r>i)&&(r=i);let a="";for(let i=n;i<r;++i)a+=s_[e[i]];return a}(this,n,r);case"utf8":case"utf-8":return sn(this,n,r);case"ascii":return function(e,n,r){let i="";r=Math.min(e.length,r);for(let a=n;a<r;++a)i+=String.fromCharCode(127&e[a]);return i}(this,n,r);case"latin1":case"binary":return function(e,n,r){let i="";r=Math.min(e.length,r);for(let a=n;a<r;++a)i+=String.fromCharCode(e[a]);return i}(this,n,r);case"base64":var a,o;return a=n,o=r,0===a&&o===this.length?X(this):X(this.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,n,r){let i=e.slice(n,r),a="";for(let e=0;e<i.length-1;e+=2)a+=String.fromCharCode(i[e]+256*i[e+1]);return a}(this,n,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function o7(e,n,r){let i=e[n];e[n]=e[r],e[r]=i}function se(e,n,r,i,a){var o;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return -1;r=e.length-1}else if(r<0){if(!a)return -1;r=0}if("string"==typeof n&&(n=o0.from(n,i)),o0.isBuffer(n))return 0===n.length?-1:st(e,n,r,i,a);if("number"==typeof n)return(n&=255,"function"==typeof Uint8Array.prototype.indexOf)?a?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):st(e,[n],r,i,a);throw TypeError("val must be string, number or Buffer")}function st(e,n,r,i,a){let o,s=1,l=e.length,u=n.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||n.length<2)return -1;s=2,l/=2,u/=2,r/=2}function c(e,n){return 1===s?e[n]:e.readUInt16BE(n*s)}if(a){let i=-1;for(o=r;o<l;o++)if(c(e,o)===c(n,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===u)return i*s}else -1!==i&&(o-=o-i),i=-1}else for(r+u>l&&(r=l-u),o=r;o>=0;o--){let r=!0;for(let i=0;i<u;i++)if(c(e,o+i)!==c(n,i)){r=!1;break}if(r)return o}return -1}function sn(e,n,r){r=Math.min(e.length,r);let i=[],a=n;for(;a<r;){let n=e[a],o=null,s=n>239?4:n>223?3:n>191?2:1;if(a+s<=r){let r,i,l,u;switch(s){case 1:n<128&&(o=n);break;case 2:(192&(r=e[a+1]))==128&&(u=(31&n)<<6|63&r)>127&&(o=u);break;case 3:r=e[a+1],i=e[a+2],(192&r)==128&&(192&i)==128&&(u=(15&n)<<12|(63&r)<<6|63&i)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[a+1],i=e[a+2],l=e[a+3],(192&r)==128&&(192&i)==128&&(192&l)==128&&(u=(15&n)<<18|(63&r)<<12|(63&i)<<6|63&l)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),a+=s}return function(e){let n=e.length;if(n<=4096)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<n;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}(i)}function sr(e,n,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+n>r)throw RangeError("Trying to access beyond buffer length")}function si(e,n,r,i,a,o){if(!o0.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<o)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function sa(e,n,r,i,a){sf(n,i,a,e,r,7);let o=Number(n&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(n>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function so(e,n,r,i,a){sf(n,i,a,e,r,7);let o=Number(n&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(n>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function ss(e,n,r,i,a,o){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function sl(e,n,r,i,a){return n=+n,r>>>=0,a||ss(e,n,r,4,34028234663852886e22,-34028234663852886e22),J(e,n,r,i,23,4),r+4}function su(e,n,r,i,a){return n=+n,r>>>=0,a||ss(e,n,r,8,17976931348623157e292,-17976931348623157e292),J(e,n,r,i,52,8),r+8}o0.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),42===e.foo()}catch(e){return!1}}(),o0.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o0.prototype,"parent",{enumerable:!0,get:function(){if(o0.isBuffer(this))return this.buffer}}),Object.defineProperty(o0.prototype,"offset",{enumerable:!0,get:function(){if(o0.isBuffer(this))return this.byteOffset}}),o0.poolSize=8192,o0.from=function(e,n,r){return o1(e,n,r)},Object.setPrototypeOf(o0.prototype,Uint8Array.prototype),Object.setPrototypeOf(o0,Uint8Array),o0.alloc=function(e,n,r){return(o2(e),e<=0)?oZ(e):void 0!==n?"string"==typeof r?oZ(e).fill(n,r):oZ(e).fill(n):oZ(e)},o0.allocUnsafe=function(e){return o4(e)},o0.allocUnsafeSlow=function(e){return o4(e)},o0.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o0.prototype},o0.compare=function(e,n){if(sb(e,Uint8Array)&&(e=o0.from(e,e.offset,e.byteLength)),sb(n,Uint8Array)&&(n=o0.from(n,n.offset,n.byteLength)),!o0.isBuffer(e)||!o0.isBuffer(n))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let r=e.length,i=n.length;for(let a=0,o=Math.min(r,i);a<o;++a)if(e[a]!==n[a]){r=e[a],i=n[a];break}return r<i?-1:i<r?1:0},o0.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o0.concat=function(e,n){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o0.alloc(0);if(void 0===n)for(r=0,n=0;r<e.length;++r)n+=e[r].length;let i=o0.allocUnsafe(n),a=0;for(r=0;r<e.length;++r){let n=e[r];if(sb(n,Uint8Array))a+n.length>i.length?(o0.isBuffer(n)||(n=o0.from(n)),n.copy(i,a)):Uint8Array.prototype.set.call(i,n,a);else if(o0.isBuffer(n))n.copy(i,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=n.length}return i},o0.byteLength=o9,o0.prototype._isBuffer=!0,o0.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)o7(this,n,n+1);return this},o0.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)o7(this,n,n+3),o7(this,n+1,n+2);return this},o0.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)o7(this,n,n+7),o7(this,n+1,n+6),o7(this,n+2,n+5),o7(this,n+3,n+4);return this},o0.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?sn(this,0,e):o8.apply(this,arguments)},o0.prototype.toLocaleString=o0.prototype.toString,o0.prototype.equals=function(e){if(!o0.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o0.compare(this,e)},o0.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},oJ&&(o0.prototype[oJ]=o0.prototype.inspect),o0.prototype.compare=function(e,n,r,i,a){if(sb(e,Uint8Array)&&(e=o0.from(e,e.offset,e.byteLength)),!o0.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),n<0||r>e.length||i<0||a>this.length)throw RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return -1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===e)return 0;let o=a-i,s=r-n,l=Math.min(o,s),u=this.slice(i,a),c=e.slice(n,r);for(let e=0;e<l;++e)if(u[e]!==c[e]){o=u[e],s=c[e];break}return o<s?-1:s<o?1:0},o0.prototype.includes=function(e,n,r){return -1!==this.indexOf(e,n,r)},o0.prototype.indexOf=function(e,n,r){return se(this,e,n,r,!0)},o0.prototype.lastIndexOf=function(e,n,r){return se(this,e,n,r,!1)},o0.prototype.write=function(e,n,r,i){var a,o,s,l,u,c,h,d;if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else if(isFinite(n))n>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-n;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||n<0)||n>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let p=!1;for(;;)switch(i){case"hex":return function(e,n,r,i){let a;r=Number(r)||0;let o=e.length-r;i?(i=Number(i))>o&&(i=o):i=o;let s=n.length;for(i>s/2&&(i=s/2),a=0;a<i;++a){let i=parseInt(n.substr(2*a,2),16);if(i!=i)break;e[r+a]=i}return a}(this,e,n,r);case"utf8":case"utf-8":return a=n,o=r,sw(sy(e,this.length-a),this,a,o);case"ascii":case"latin1":case"binary":return s=n,l=r,sw(function(e){let n=[];for(let r=0;r<e.length;++r)n.push(255&e.charCodeAt(r));return n}(e),this,s,l);case"base64":return u=n,c=r,sw(sv(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=n,d=r,sw(function(e,n){let r,i;let a=[];for(let o=0;o<e.length&&!((n-=2)<0);++o)i=(r=e.charCodeAt(o))>>8,a.push(r%256),a.push(i);return a}(e,this.length-h),this,h,d);default:if(p)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}},o0.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o0.prototype.slice=function(e,n){let r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);let i=this.subarray(e,n);return Object.setPrototypeOf(i,o0.prototype),i},o0.prototype.readUintLE=o0.prototype.readUIntLE=function(e,n,r){e>>>=0,n>>>=0,r||sr(e,n,this.length);let i=this[e],a=1,o=0;for(;++o<n&&(a*=256);)i+=this[e+o]*a;return i},o0.prototype.readUintBE=o0.prototype.readUIntBE=function(e,n,r){e>>>=0,n>>>=0,r||sr(e,n,this.length);let i=this[e+--n],a=1;for(;n>0&&(a*=256);)i+=this[e+--n]*a;return i},o0.prototype.readUint8=o0.prototype.readUInt8=function(e,n){return e>>>=0,n||sr(e,1,this.length),this[e]},o0.prototype.readUint16LE=o0.prototype.readUInt16LE=function(e,n){return e>>>=0,n||sr(e,2,this.length),this[e]|this[e+1]<<8},o0.prototype.readUint16BE=o0.prototype.readUInt16BE=function(e,n){return e>>>=0,n||sr(e,2,this.length),this[e]<<8|this[e+1]},o0.prototype.readUint32LE=o0.prototype.readUInt32LE=function(e,n){return e>>>=0,n||sr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o0.prototype.readUint32BE=o0.prototype.readUInt32BE=function(e,n){return e>>>=0,n||sr(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o0.prototype.readBigUInt64LE=sE(function(e){sp(e>>>=0,"offset");let n=this[e],r=this[e+7];(void 0===n||void 0===r)&&sm(e,this.length-8);let i=n+256*this[++e]+65536*this[++e]+16777216*this[++e],a=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(i)+(BigInt(a)<<BigInt(32))}),o0.prototype.readBigUInt64BE=sE(function(e){sp(e>>>=0,"offset");let n=this[e],r=this[e+7];(void 0===n||void 0===r)&&sm(e,this.length-8);let i=16777216*n+65536*this[++e]+256*this[++e]+this[++e],a=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(a)}),o0.prototype.readIntLE=function(e,n,r){e>>>=0,n>>>=0,r||sr(e,n,this.length);let i=this[e],a=1,o=0;for(;++o<n&&(a*=256);)i+=this[e+o]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*n)),i},o0.prototype.readIntBE=function(e,n,r){e>>>=0,n>>>=0,r||sr(e,n,this.length);let i=n,a=1,o=this[e+--i];for(;i>0&&(a*=256);)o+=this[e+--i]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*n)),o},o0.prototype.readInt8=function(e,n){return(e>>>=0,n||sr(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o0.prototype.readInt16LE=function(e,n){e>>>=0,n||sr(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o0.prototype.readInt16BE=function(e,n){e>>>=0,n||sr(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o0.prototype.readInt32LE=function(e,n){return e>>>=0,n||sr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o0.prototype.readInt32BE=function(e,n){return e>>>=0,n||sr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o0.prototype.readBigInt64LE=sE(function(e){sp(e>>>=0,"offset");let n=this[e],r=this[e+7];return(void 0===n||void 0===r)&&sm(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(n+256*this[++e]+65536*this[++e]+16777216*this[++e])}),o0.prototype.readBigInt64BE=sE(function(e){sp(e>>>=0,"offset");let n=this[e],r=this[e+7];return(void 0===n||void 0===r)&&sm(e,this.length-8),(BigInt((n<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),o0.prototype.readFloatLE=function(e,n){return e>>>=0,n||sr(e,4,this.length),Y(this,e,!0,23,4)},o0.prototype.readFloatBE=function(e,n){return e>>>=0,n||sr(e,4,this.length),Y(this,e,!1,23,4)},o0.prototype.readDoubleLE=function(e,n){return e>>>=0,n||sr(e,8,this.length),Y(this,e,!0,52,8)},o0.prototype.readDoubleBE=function(e,n){return e>>>=0,n||sr(e,8,this.length),Y(this,e,!1,52,8)},o0.prototype.writeUintLE=o0.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;si(this,e,n,r,i,0)}let a=1,o=0;for(this[n]=255&e;++o<r&&(a*=256);)this[n+o]=e/a&255;return n+r},o0.prototype.writeUintBE=o0.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;si(this,e,n,r,i,0)}let a=r-1,o=1;for(this[n+a]=255&e;--a>=0&&(o*=256);)this[n+a]=e/o&255;return n+r},o0.prototype.writeUint8=o0.prototype.writeUInt8=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,1,255,0),this[n]=255&e,n+1},o0.prototype.writeUint16LE=o0.prototype.writeUInt16LE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,2,65535,0),this[n]=255&e,this[n+1]=e>>>8,n+2},o0.prototype.writeUint16BE=o0.prototype.writeUInt16BE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=255&e,n+2},o0.prototype.writeUint32LE=o0.prototype.writeUInt32LE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e,n+4},o0.prototype.writeUint32BE=o0.prototype.writeUInt32BE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},o0.prototype.writeBigUInt64LE=sE(function(e,n=0){return sa(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),o0.prototype.writeBigUInt64BE=sE(function(e,n=0){return so(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),o0.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n>>>=0,!i){let i=Math.pow(2,8*r-1);si(this,e,n,r,i-1,-i)}let a=0,o=1,s=0;for(this[n]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[n+a-1]&&(s=1),this[n+a]=(e/o>>0)-s&255;return n+r},o0.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n>>>=0,!i){let i=Math.pow(2,8*r-1);si(this,e,n,r,i-1,-i)}let a=r-1,o=1,s=0;for(this[n+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[n+a+1]&&(s=1),this[n+a]=(e/o>>0)-s&255;return n+r},o0.prototype.writeInt8=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=255&e,n+1},o0.prototype.writeInt16LE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,2,32767,-32768),this[n]=255&e,this[n+1]=e>>>8,n+2},o0.prototype.writeInt16BE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=255&e,n+2},o0.prototype.writeInt32LE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,4,2147483647,-2147483648),this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},o0.prototype.writeInt32BE=function(e,n,r){return e=+e,n>>>=0,r||si(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},o0.prototype.writeBigInt64LE=sE(function(e,n=0){return sa(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o0.prototype.writeBigInt64BE=sE(function(e,n=0){return so(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o0.prototype.writeFloatLE=function(e,n,r){return sl(this,e,n,!0,r)},o0.prototype.writeFloatBE=function(e,n,r){return sl(this,e,n,!1,r)},o0.prototype.writeDoubleLE=function(e,n,r){return su(this,e,n,!0,r)},o0.prototype.writeDoubleBE=function(e,n,r){return su(this,e,n,!1,r)},o0.prototype.copy=function(e,n,r,i){if(!o0.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(n<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);let a=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),n),a},o0.prototype.fill=function(e,n,r,i){let a;if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!o0.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw RangeError("Out of range index");if(r<=n)return this;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{let o=o0.isBuffer(e)?e:o0.from(e,i),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=o[a%s]}return this};const sc={};function sh(e,n,r){sc[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function sd(e){let n="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)n=`_${e.slice(r-3,r)}${n}`;return`${e.slice(0,r)}${n}`}function sf(e,n,r,i,a,o){if(e>r||e<n){let i;let a="bigint"==typeof n?"n":"";throw i=o>3?0===n||n===BigInt(0)?`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:`>= ${n}${a} and <= ${r}${a}`,new sc.ERR_OUT_OF_RANGE("value",i,e)}sp(a,"offset"),(void 0===i[a]||void 0===i[a+o])&&sm(a,i.length-(o+1))}function sp(e,n){if("number"!=typeof e)throw new sc.ERR_INVALID_ARG_TYPE(n,"number",e)}function sm(e,n,r){if(Math.floor(e)!==e)throw sp(e,r),new sc.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(n<0)throw new sc.ERR_BUFFER_OUT_OF_BOUNDS;throw new sc.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,e)}sh("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),sh("ERR_INVALID_ARG_TYPE",function(e,n){return`The "${e}" argument must be of type number. Received type ${typeof n}`},TypeError),sh("ERR_OUT_OF_RANGE",function(e,n,r){let i=`The value of "${e}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?a=sd(String(r)):"bigint"==typeof r&&(a=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(a=sd(a)),a+="n"),i+=` It must be ${n}. Received ${a}`},RangeError);const sg=/[^+/0-9A-Za-z-_]/g;function sy(e,n){let r;n=n||1/0;let i=e.length,a=null,o=[];for(let s=0;s<i;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!a){if(r>56319||s+1===i){(n-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(n-=3)>-1&&o.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(n-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((n-=1)<0)break;o.push(r)}else if(r<2048){if((n-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((n-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function sv(e){return G(function(e){if((e=(e=e.split("=")[0]).trim().replace(sg,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function sw(e,n,r,i){let a;for(a=0;a<i&&!(a+r>=n.length)&&!(a>=e.length);++a)n[a+r]=e[a];return a}function sb(e,n){return e instanceof n||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===n.name}const s_=function(){let e="0123456789abcdef",n=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let a=0;a<16;++a)n[i+a]=e[r]+e[a]}return n}();function sE(e){return"undefined"==typeof BigInt?sS:e}function sS(){throw Error("BigInt not supported")}const sk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sT.UNAUTHENTICATED=new sT(null),sT.GOOGLE_CREDENTIALS=new sT("google-credentials-uid"),sT.FIRST_PARTY=new sT("first-party-uid"),sT.MOCK_USER=new sT("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sI="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new e8("@firebase/firestore");function sx(){return sC.logLevel}function sA(e,...n){if(sC.logLevel<=N.DEBUG){let r=n.map(sP);sC.debug(`Firestore (${sI}): ${e}`,...r)}}function sR(e,...n){if(sC.logLevel<=N.ERROR){let r=n.map(sP);sC.error(`Firestore (${sI}): ${e}`,...r)}}function sN(e,...n){if(sC.logLevel<=N.WARN){let r=n.map(sP);sC.warn(`Firestore (${sI}): ${e}`,...r)}}function sP(e){if("string"==typeof e)return e;try{/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return JSON.stringify(e)}catch(n){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e="Unexpected state"){let n=`FIRESTORE (${sI}) INTERNAL ASSERTION FAILED: `+e;throw sR(n),Error(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sL extends ez{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sT.UNAUTHENTICATED))}shutdown(){}}class sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sB{constructor(e){this.t=e,this.currentUser=sT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=e=>this.i!==r?(r=this.i,n(e)):Promise.resolve(),a=new sM;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new sM,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let n=a;e.enqueueRetryable(async()=>{await n.promise,await i(this.currentUser)})},s=e=>{sA("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(sA("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sM)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(n=>this.i!==e?(sA("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?("string"==typeof n.accessToken||sO(),new sU(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||sO(),new sT(e)}}class sV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sT.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sT.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=e=>{null!=e.error&&sA("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.R;return this.R=e.token,sA("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?n(e.token):Promise.resolve()};this.o=n=>{e.enqueueRetryable(()=>r(n))};let i=e=>{sA("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?i(e):sA("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||sO(),this.R=e.token,new s$(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(40);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let e=0;e<40;e++)r[e]=Math.floor(256*Math.random());return r}(0);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function sW(e,n){return e<n?-1:e>n?1:0}function sK(e,n,r){return e.length===n.length&&e.every((e,i)=>r(e,n[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0||n>=1e9)throw new sL(sD.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800||e>=253402300800)throw new sL(sD.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sQ.fromMillis(Date.now())}static fromDate(e){return sQ.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new sQ(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sW(this.nanoseconds,e.nanoseconds):sW(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sG(e)}static min(){return new sG(new sQ(0,0))}static max(){return new sG(new sQ(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,n,r){void 0===n?n=0:n>e.length&&sO(),void 0===r?r=e.length-n:r>e.length-n&&sO(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===sX.comparator(this,e)}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof sX?e.forEach(e=>{n.push(e)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let r=e.get(i),a=n.get(i);if(r<a)return -1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sY extends sX{construct(e,n,r){return new sY(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new sL(sD.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(e=>e.length>0))}return new sY(n)}static emptyPath(){return new sY([])}}const sJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sZ extends sX{construct(e,n,r){return new sZ(e,n,r)}static isValidIdentifier(e){return sJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sZ.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sZ(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,a=()=>{if(0===r.length)throw new sL(sD.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let n=e[i];if("\\"===n){if(i+1===e.length)throw new sL(sD.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let n=e[i+1];if("\\"!==n&&"."!==n&&"`"!==n)throw new sL(sD.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=n,i+=2}else"`"===n?o=!o:"."!==n||o?r+=n:a(),i++}if(a(),o)throw new sL(sD.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sZ(n)}static emptyPath(){return new sZ([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.path=e}static fromPath(e){return new s0(sY.fromString(e))}static fromName(e){return new s0(sY.fromString(e).popFirst(5))}static empty(){return new s0(sY.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sY.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return sY.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s0(new sY(e.slice()))}}class s1{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new s1(sG.min(),s0.empty(),-1)}static max(){return new s1(sG.max(),s0.empty(),-1)}}class s2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(e){if(e.code!==sD.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;sA("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&sO(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new s3((r,i)=>{this.nextCallback=n=>{this.wrapSuccess(e,n).next(r,i)},this.catchCallback=e=>{this.wrapFailure(n,e).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof s3?n:s3.resolve(n)}catch(e){return s3.reject(e)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):s3.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):s3.reject(n)}static resolve(e){return new s3((n,r)=>{n(e)})}static reject(e){return new s3((n,r)=>{r(e)})}static waitFor(e){return new s3((n,r)=>{let i=0,a=0,o=!1;e.forEach(e=>{++i,e.next(()=>{++a,o&&a===i&&n()},e=>r(e))}),o=!0,a===i&&n()})}static or(e){let n=s3.resolve(!1);for(let r of e)n=n.next(e=>e?s3.resolve(e):r());return n}static forEach(e,n){let r=[];return e.forEach((e,i)=>{r.push(n.call(this,e,i))}),this.waitFor(r)}static mapArray(e,n){return new s3((r,i)=>{let a=e.length,o=Array(a),s=0;for(let l=0;l<a;l++){let u=l;n(e[u]).next(e=>{o[u]=e,++s===a&&r(o)},e=>i(e))}})}static doWhile(e,n){return new s3((r,i)=>{let a=()=>{!0===e()?n().next(()=>{a()},i):r()};a()})}}function s5(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=e=>this.ie(e),this.se=e=>n.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}function s9(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(e){let n=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&n++;return n}function s7(e,n){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&n(r,e[r])}function le(e){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}s6.oe=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ln(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ln(this.root,e,this.comparator,!1)}getReverseIterator(){return new ln(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ln(this.root,e,this.comparator,!0)}}class ln{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=null!=r?r:lr.RED,this.left=null!=i?i:lr.EMPTY,this.right=null!=a?a:lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new lr(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,a=r(e,i.key);return(i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===a?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,n){let r,i=this;if(0>n(e,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sO();let e=this.left.check();if(e!==this.right.check())throw sO();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw sO()}get value(){throw sO()}get color(){throw sO()}get left(){throw sO()}get right(){throw sO()}copy(e,n,r,i,a){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new la(this.data.getIterator())}getIteratorFrom(e){return new la(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(e=>{n=n.add(e)}),n}isEqual(e){if(!(e instanceof li)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new li(this.comparator);return n.data=e,n}}class la{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.fields=e,e.sort(sZ.comparator)}static empty(){return new lo([])}unionWith(e){let n=new li(sZ.comparator);for(let e of this.fields)n=n.add(e);for(let r of e)n=n.add(r);return new lo(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sK(this.fields,e.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.binaryString=e}static fromBase64String(e){return new ll(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ls("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new ll(function(e){let n="";for(let r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return n}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sW(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const lu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(e){if(e||sO(),"string"==typeof e){let n=0,r=lu.exec(e);if(r||sO(),r[1]){let e=r[1];n=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:n}}return{seconds:lh(e.seconds),nanos:lh(e.nanos)}}function lh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ld(e){return"string"==typeof e?ll.fromBase64String(e):ll.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(e){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==e?void 0:e.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function lp(e){let n=e.mapValue.fields.__previous_value__;return lf(n)?lp(n):n}function lm(e){let n=lc(e.mapValue.fields.__local_write_time__.timestampValue);return new sQ(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class ly{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ly("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ly&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lf(e)?4:lN(e)?9007199254740991:10:sO()}function lb(e,n){if(e===n)return!0;let r=lw(e);if(r!==lw(n))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===n.booleanValue;case 4:return lm(e).isEqual(lm(n));case 3:return function(e,n){if("string"==typeof e.timestampValue&&"string"==typeof n.timestampValue&&e.timestampValue.length===n.timestampValue.length)return e.timestampValue===n.timestampValue;let r=lc(e.timestampValue),i=lc(n.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos}(e,n);case 5:return e.stringValue===n.stringValue;case 6:return ld(e.bytesValue).isEqual(ld(n.bytesValue));case 7:return e.referenceValue===n.referenceValue;case 8:return lh(e.geoPointValue.latitude)===lh(n.geoPointValue.latitude)&&lh(e.geoPointValue.longitude)===lh(n.geoPointValue.longitude);case 2:return function(e,n){if("integerValue"in e&&"integerValue"in n)return lh(e.integerValue)===lh(n.integerValue);if("doubleValue"in e&&"doubleValue"in n){let r=lh(e.doubleValue),i=lh(n.doubleValue);return r===i?s9(r)===s9(i):isNaN(r)&&isNaN(i)}return!1}(e,n);case 9:return sK(e.arrayValue.values||[],n.arrayValue.values||[],lb);case 10:return function(e,n){let r=e.mapValue.fields||{},i=n.mapValue.fields||{};if(s8(r)!==s8(i))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===i[e]||!lb(r[e],i[e])))return!1;return!0}(e,n);default:return sO()}}function l_(e,n){return void 0!==(e.values||[]).find(e=>lb(e,n))}function lE(e,n){if(e===n)return 0;let r=lw(e),i=lw(n);if(r!==i)return sW(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return sW(e.booleanValue,n.booleanValue);case 2:return function(e,n){let r=lh(e.integerValue||e.doubleValue),i=lh(n.integerValue||n.doubleValue);return r<i?-1:r>i?1:r===i?0:isNaN(r)?isNaN(i)?0:-1:1}(e,n);case 3:return lS(e.timestampValue,n.timestampValue);case 4:return lS(lm(e),lm(n));case 5:return sW(e.stringValue,n.stringValue);case 6:return function(e,n){let r=ld(e),i=ld(n);return r.compareTo(i)}(e.bytesValue,n.bytesValue);case 7:return function(e,n){let r=e.split("/"),i=n.split("/");for(let e=0;e<r.length&&e<i.length;e++){let n=sW(r[e],i[e]);if(0!==n)return n}return sW(r.length,i.length)}(e.referenceValue,n.referenceValue);case 8:return function(e,n){let r=sW(lh(e.latitude),lh(n.latitude));return 0!==r?r:sW(lh(e.longitude),lh(n.longitude))}(e.geoPointValue,n.geoPointValue);case 9:return function(e,n){let r=e.values||[],i=n.values||[];for(let e=0;e<r.length&&e<i.length;++e){let n=lE(r[e],i[e]);if(n)return n}return sW(r.length,i.length)}(e.arrayValue,n.arrayValue);case 10:return function(e,n){if(e===lv.mapValue&&n===lv.mapValue)return 0;if(e===lv.mapValue)return 1;if(n===lv.mapValue)return -1;let r=e.fields||{},i=Object.keys(r),a=n.fields||{},o=Object.keys(a);i.sort(),o.sort();for(let e=0;e<i.length&&e<o.length;++e){let n=sW(i[e],o[e]);if(0!==n)return n;let s=lE(r[i[e]],a[o[e]]);if(0!==s)return s}return sW(i.length,o.length)}(e.mapValue,n.mapValue);default:throw sO()}}function lS(e,n){if("string"==typeof e&&"string"==typeof n&&e.length===n.length)return sW(e,n);let r=lc(e),i=lc(n),a=sW(r.seconds,i.seconds);return 0!==a?a:sW(r.nanos,i.nanos)}function lk(e){var n,r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let n=lc(e);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ld(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,s0.fromName(n).toString()):"geoPointValue"in e?(r=e.geoPointValue,`geo(${r.latitude},${r.longitude})`):"arrayValue"in e?function(e){let n="[",r=!0;for(let i of e.values||[])r?r=!1:n+=",",n+=lk(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){let n=Object.keys(e.fields||{}).sort(),r="{",i=!0;for(let a of n)i?i=!1:r+=",",r+=`${a}:${lk(e.fields[a])}`;return r+"}"}(e.mapValue):sO()}function lT(e){return!!e&&"integerValue"in e}function lI(e){return!!e&&"arrayValue"in e}function lC(e){return!!e&&"nullValue"in e}function lx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lA(e){return!!e&&"mapValue"in e}function lR(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let n={mapValue:{fields:{}}};return s7(e.mapValue.fields,(e,r)=>n.mapValue.fields[e]=lR(r)),n}if(e.arrayValue){let n={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lR(e.arrayValue.values[r]);return n}return Object.assign({},e)}function lN(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.value=e}static empty(){return new lP({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(!lA(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lR(n)}setAll(e){let n=sZ.emptyPath(),r={},i=[];e.forEach((e,a)=>{if(!n.isImmediateParentOf(a)){let e=this.getFieldsMap(n);this.applyChanges(e,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=lR(e):i.push(a.lastSegment())});let a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){let n=this.field(e.popLast());lA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lb(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){for(let i of(s7(n,(n,r)=>e[n]=r),r))delete e[i]}clone(){return new lP(lR(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new lO(e,0,sG.min(),sG.min(),sG.min(),lP.empty(),0)}static newFoundDocument(e,n,r,i){return new lO(e,1,n,sG.min(),r,i,0)}static newNoDocument(e,n){return new lO(e,2,n,sG.min(),sG.min(),lP.empty(),0)}static newUnknownDocument(e,n){return new lO(e,3,n,sG.min(),sG.min(),lP.empty(),2)}convertToFoundDocument(e,n){return this.createTime.isEqual(sG.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lP.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lP.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sG.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lO&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lO(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.position=e,this.inclusive=n}}function lL(e,n,r){let i=0;for(let a=0;a<e.position.length;a++){let o=n[a],s=e.position[a];if(i=o.field.isKeyField()?s0.comparator(s0.fromName(s.referenceValue),r.key):lE(s,r.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function lM(e,n){if(null===e)return null===n;if(null===n||e.inclusive!==n.inclusive||e.position.length!==n.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!lb(e.position[r],n.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n="asc"){this.field=e,this.dir=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{}class lj extends lF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new l$(e,n,r):"array-contains"===n?new lK(e,r):"in"===n?new lQ(e,r):"not-in"===n?new lG(e,r):"array-contains-any"===n?new lX(e,r):new lj(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lH(e,r):new lq(e,r)}matches(e){let n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lE(n,this.value)):null!==n&&lw(this.value)===lw(n)&&this.matchesComparison(lE(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sO()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lB extends lF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new lB(e,n)}matches(e){return lV(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lV(e){return"and"===e.op}function lz(e){for(let n of e.filters)if(n instanceof lB)return!1;return!0}class l$ extends lj{constructor(e,n,r){super(e,n,r),this.key=s0.fromName(r.referenceValue)}matches(e){let n=s0.comparator(e.key,this.key);return this.matchesComparison(n)}}class lH extends lj{constructor(e,n){super(e,"in",n),this.keys=lW("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lq extends lj{constructor(e,n){super(e,"not-in",n),this.keys=lW("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lW(e,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>s0.fromName(e.referenceValue))}class lK extends lj{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lI(n)&&l_(n.arrayValue,this.value)}}class lQ extends lj{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return null!==n&&l_(this.value.arrayValue,n)}}class lG extends lj{constructor(e,n){super(e,"not-in",n)}matches(e){if(l_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return null!==n&&!l_(this.value.arrayValue,n)}}class lX extends lj{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(e=>l_(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function lJ(e,n=null,r=[],i=[],a=null,o=null,s=null){return new lY(e,n,r,i,a,o,s)}function lZ(e){if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:"+e.filters.map(e=>(function e(n){if(n instanceof lj)return n.field.canonicalString()+n.op.toString()+lk(n.value);if(lz(n)&&lV(n))return n.filters.map(n=>e(n)).join(",");{let r=n.filters.map(n=>e(n)).join(",");return`${n.op}(${r})`}})(e)).join(",")+"|ob:"+e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(n+="|l:"+e.limit),e.startAt&&(n+="|lb:"+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>lk(e)).join(",")),e.endAt&&(n+="|ub:"+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>lk(e)).join(",")),e.ue=n}return e.ue}function l0(e,n){if(e.limit!==n.limit||e.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<e.orderBy.length;a++){var r,i;if(r=e.orderBy[a],i=n.orderBy[a],!(r.dir===i.dir&&r.field.isEqual(i.field)))return!1}if(e.filters.length!==n.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!function e(n,r){return n instanceof lj?r instanceof lj&&n.op===r.op&&n.field.isEqual(r.field)&&lb(n.value,r.value):n instanceof lB?r instanceof lB&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((n,i,a)=>n&&e(i,r.filters[a]),!0):void sO()}(e.filters[r],n.filters[r]))return!1;return e.collectionGroup===n.collectionGroup&&!!e.path.isEqual(n.path)&&!!lM(e.startAt,n.startAt)&&lM(e.endAt,n.endAt)}function l1(e){return s0.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function l4(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function l3(e){if(null===e.ce){let n;e.ce=[];let r=new Set;for(let n of e.explicitOrderBy)e.ce.push(n),r.add(n.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(n=new li(sZ.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(n=n.add(e.field))})}),n).forEach(n=>{r.has(n.canonicalString())||n.isKeyField()||e.ce.push(new lU(n,i))}),r.has(sZ.keyField().canonicalString())||e.ce.push(new lU(sZ.keyField(),i))}return e.ce}function l5(e){return e.le||(e.le=function(e,n){if("F"===e.limitType)return lJ(e.path,e.collectionGroup,n,e.filters,e.limit,e.startAt,e.endAt);{n=n.map(e=>{let n="desc"===e.dir?"asc":"desc";return new lU(e.field,n)});let r=e.endAt?new lD(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lD(e.startAt.position,e.startAt.inclusive):null;return lJ(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}}(e,l3(e))),e.le}function l6(e,n,r){return new l2(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),n,r,e.startAt,e.endAt)}function l9(e,n){return l0(l5(e),l5(n))&&e.limitType===n.limitType}function l8(e){return`${lZ(l5(e))}|lt:${e.limitType}`}function l7(e){var n;let r;return`Query(target=${r=(n=l5(e)).path.canonicalString(),null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(e=>(function e(n){return n instanceof lj?`${n.field.canonicalString()} ${n.op} ${lk(n.value)}`:n instanceof lB?n.op.toString()+" {"+n.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==n.limit||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),n.startAt&&(r+=", startAt: "+(n.startAt.inclusive?"b:":"a:")+n.startAt.position.map(e=>lk(e)).join(",")),n.endAt&&(r+=", endAt: "+(n.endAt.inclusive?"a:":"b:")+n.endAt.position.map(e=>lk(e)).join(",")),`Target(${r})`}; limitType=${e.limitType})`}function ue(e,n){return n.isFoundDocument()&&function(e,n){let r=n.key.path;return null!==e.collectionGroup?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):s0.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,n)&&function(e,n){for(let r of l3(e))if(!r.field.isKeyField()&&null===n.data.field(r.field))return!1;return!0}(e,n)&&function(e,n){for(let r of e.filters)if(!r.matches(n))return!1;return!0}(e,n)&&(!e.startAt||!!function(e,n,r){let i=lL(e,n,r);return e.inclusive?i<=0:i<0}(e.startAt,l3(e),n))&&(!e.endAt||!!function(e,n,r){let i=lL(e,n,r);return e.inclusive?i>=0:i>0}(e.endAt,l3(e),n))}function ut(e){return(n,r)=>{let i=!1;for(let a of l3(e)){let e=function(e,n,r){let i=e.field.isKeyField()?s0.comparator(n.key,r.key):function(e,n,r){let i=n.data.field(e),a=r.data.field(e);return null!==i&&null!==a?lE(i,a):sO()}(e.field,n,r);switch(e.dir){case"asc":return i;case"desc":return -1*i;default:return sO()}}(a,n,r);if(0!==e)return e;i=i||a.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let[n,i]of r)if(this.equalsFn(n,e))return i}}has(e){return void 0!==this.get(e)}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){s7(this.inner,(n,r)=>{for(let[n,i]of r)e(n,i)})}isEmpty(){return le(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new lt(s0.comparator),ui=new lt(s0.comparator);function ua(...e){let n=ui;for(let r of e)n=n.insert(r.key,r);return n}function uo(e){let n=ui;return e.forEach((e,r)=>n=n.insert(e,r.overlayedDocument)),n}function us(){return new un(e=>e.toString(),(e,n)=>e.isEqual(n))}const ul=new lt(s0.comparator),uu=new li(s0.comparator);function uc(...e){let n=uu;for(let r of e)n=n.add(r);return n}const uh=new li(sW);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e,n){if(e.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s9(n)?"-0":n}}function uf(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function um(e,n){return e instanceof u_?lT(n)||n&&"doubleValue"in n?n:{integerValue:0}:null}class ug extends up{}class uy extends up{constructor(e){super(),this.elements=e}}function uv(e,n){let r=uS(n);for(let n of e.elements)r.some(e=>lb(e,n))||r.push(n);return{arrayValue:{values:r}}}class uw extends up{constructor(e){super(),this.elements=e}}function ub(e,n){let r=uS(n);for(let n of e.elements)r=r.filter(e=>!lb(e,n));return{arrayValue:{values:r}}}class u_ extends up{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uE(e){return lh(e.integerValue||e.doubleValue)}function uS(e){return lI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class uk{constructor(e,n){this.version=e,this.transformResults=n}}class uT{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new uT}static exists(e){return new uT(void 0,e)}static updateTime(e){return new uT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uI(e,n){return void 0!==e.updateTime?n.isFoundDocument()&&n.version.isEqual(e.updateTime):void 0===e.exists||e.exists===n.isFoundDocument()}class uC{}function ux(e,n){if(!e.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return e.isNoDocument()?new uM(e.key,uT.none()):new uN(e.key,e.data,uT.none());{let r=e.data,i=lP.empty(),a=new li(sZ.comparator);for(let e of n.fields)if(!a.has(e)){let n=r.field(e);null===n&&e.length>1&&(e=e.popLast(),n=r.field(e)),null===n?i.delete(e):i.set(e,n),a=a.add(e)}return new uP(e.key,i,new lo(a.toArray()),uT.none())}}function uA(e,n,r,i){return e instanceof uN?function(e,n,r,i){if(!uI(e.precondition,n))return r;let a=e.value.clone(),o=uL(e.fieldTransforms,i,n);return a.setAll(o),n.convertToFoundDocument(n.version,a).setHasLocalMutations(),null}(e,n,r,i):e instanceof uP?function(e,n,r,i){if(!uI(e.precondition,n))return r;let a=uL(e.fieldTransforms,i,n),o=n.data;return(o.setAll(uO(e)),o.setAll(a),n.convertToFoundDocument(n.version,o).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,n,r,i):uI(e.precondition,n)?(n.convertToNoDocument(n.version).setHasLocalMutations(),null):r}function uR(e,n){var r,i;return e.type===n.type&&!!e.key.isEqual(n.key)&&!!e.precondition.isEqual(n.precondition)&&(r=e.fieldTransforms,i=n.fieldTransforms,!!(void 0===r&&void 0===i||!(!r||!i)&&sK(r,i,(e,n)=>{var r,i;return e.field.isEqual(n.field)&&(r=e.transform,i=n.transform,r instanceof uy&&i instanceof uy||r instanceof uw&&i instanceof uw?sK(r.elements,i.elements,lb):r instanceof u_&&i instanceof u_?lb(r.Pe,i.Pe):r instanceof ug&&i instanceof ug)})))&&(0===e.type?e.value.isEqual(n.value):1!==e.type||e.data.isEqual(n.data)&&e.fieldMask.isEqual(n.fieldMask))}class uN extends uC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uP extends uC{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uO(e){let n=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let i=e.data.field(r);n.set(r,i)}}),n}function uD(e,n,r){var i;let a=new Map;e.length===r.length||sO();for(let o=0;o<r.length;o++){let s=e[o],l=s.transform,u=n.data.field(s.field);a.set(s.field,(i=r[o],l instanceof uy?uv(l,u):l instanceof uw?ub(l,u):i))}return a}function uL(e,n,r){let i=new Map;for(let a of e){let e=a.transform,o=r.data.field(a.field);i.set(a.field,e instanceof ug?function(e,n){let r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return n&&lf(n)&&(n=lp(n)),n&&(r.fields.__previous_value__=n),{mapValue:r}}(n,o):e instanceof uy?uv(e,o):e instanceof uw?ub(e,o):function(e,n){let r=um(e,n),i=uE(r)+uE(e.Pe);return lT(r)&&lT(e.Pe)?uf(i):ud(e.serializer,i)}(e,o))}return i}class uM extends uC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uU extends uC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let n=0;n<this.mutations.length;n++){let a=this.mutations[n];if(a.key.isEqual(e.key)){var i;i=r[n],a instanceof uN?function(e,n,r){let i=e.value.clone(),a=uD(e.fieldTransforms,n,r.transformResults);i.setAll(a),n.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(a,e,i):a instanceof uP?function(e,n,r){if(!uI(e.precondition,n))return void n.convertToUnknownDocument(r.version);let i=uD(e.fieldTransforms,n,r.transformResults),a=n.data;a.setAll(uO(e)),a.setAll(i),n.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(a,e,i):function(e,n,r){n.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,i)}}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=uA(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=uA(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=us();return this.mutations.forEach(i=>{let a=e.get(i.key),o=a.overlayedDocument,s=this.applyToLocalView(o,a.mutatedFields),l=ux(o,s=n.has(i.key)?null:s);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(sG.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),uc())}isEqual(e){return this.batchId===e.batchId&&sK(this.mutations,e.mutations,(e,n)=>uR(e,n))&&sK(this.baseMutations,e.baseMutations,(e,n)=>uR(e,n))}}class uj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){e.mutations.length===r.length||sO();let i=ul,a=e.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new uj(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.count=e,this.unchangedNames=n}}function uz(e){if(void 0===e)return sR("GRPC error has no .code"),sD.UNKNOWN;switch(e){case Z.OK:return sD.OK;case Z.CANCELLED:return sD.CANCELLED;case Z.UNKNOWN:return sD.UNKNOWN;case Z.DEADLINE_EXCEEDED:return sD.DEADLINE_EXCEEDED;case Z.RESOURCE_EXHAUSTED:return sD.RESOURCE_EXHAUSTED;case Z.INTERNAL:return sD.INTERNAL;case Z.UNAVAILABLE:return sD.UNAVAILABLE;case Z.UNAUTHENTICATED:return sD.UNAUTHENTICATED;case Z.INVALID_ARGUMENT:return sD.INVALID_ARGUMENT;case Z.NOT_FOUND:return sD.NOT_FOUND;case Z.ALREADY_EXISTS:return sD.ALREADY_EXISTS;case Z.PERMISSION_DENIED:return sD.PERMISSION_DENIED;case Z.FAILED_PRECONDITION:return sD.FAILED_PRECONDITION;case Z.ABORTED:return sD.ABORTED;case Z.OUT_OF_RANGE:return sD.OUT_OF_RANGE;case Z.UNIMPLEMENTED:return sD.UNIMPLEMENTED;case Z.DATA_LOSS:return sD.DATA_LOSS;default:return sO()}}(ee=Z||(Z={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=new F([4294967295,4294967295],0);function uH(e){let n=(new TextEncoder).encode(e),r=new j;return r.update(n),new Uint8Array(r.digest())}function uq(e){let n=new DataView(e.buffer),r=n.getUint32(0,!0),i=n.getUint32(4,!0),a=n.getUint32(8,!0),o=n.getUint32(12,!0);return[new F([r,i],0),new F([a,o],0)]}class uW{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uK(`Invalid padding: ${n}`);if(r<0||e.length>0&&0===this.hashCount)throw new uK(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new uK(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=F.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(F.fromNumber(r)));return 1===i.compare(u$)&&(i=new F([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;let[n,r]=uq(uH(e));for(let e=0;e<this.hashCount;e++){let i=this.Ee(n,r,e);if(!this.de(i))return!1}return!0}static create(e,n,r){let i=new uW(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,n);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.Ie)return;let[n,r]=uq(uH(e));for(let e=0;e<this.hashCount;e++){let i=this.Ee(n,r,e);this.Ae(i)}}Ae(e){let n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class uK extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,uG.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uQ(sG.min(),i,new lt(sW),ur,uc())}}class uG{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uG(r,n,uc(),uc(),uc())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class uY{constructor(e,n){this.targetId=e,this.me=n}}class uJ{constructor(e,n,r=ll.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uZ{constructor(){this.fe=0,this.ge=u2(),this.pe=ll.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=uc(),n=uc(),r=uc();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:sO()}}),new uG(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=u2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,this.fe>=0||sO()}Ne(){this.we=!0,this.ye=!0}}class u0{constructor(e){this.Le=e,this.Be=new Map,this.ke=ur,this.qe=u1(),this.Qe=new lt(sW)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:sO()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((e,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let a=i.target;if(l1(a)){if(0===r){let e=new s0(a.path);this.Ue(n,e,lO.newNoDocument(e,sG.min()))}else 1===r||sO()}else{let i=this.Ye(n);if(i!==r){let r=this.Ze(e),a=r?this.Xe(r,e,i):1;0!==a&&(this.je(n),this.Qe=this.Qe.insert(n,2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){let n,r;let i=e.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:a="",padding:o=0},hashCount:s=0}=i;try{n=ld(a).toUint8Array()}catch(e){if(e instanceof ls)return sN("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new uW(n,o,s)}catch(e){return sN(e instanceof uK?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ie?null:r}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(r=>{let a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,r,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((r,i)=>{let a=this.Je(i);if(a){if(r.current&&l1(a.target)){let n=new s0(a.target.path);null!==this.ke.get(n)||this.it(i,n)||this.Ue(i,n,lO.newNoDocument(n,e))}r.be&&(n.set(i,r.Ce()),r.ve())}});let r=uc();this.qe.forEach((e,n)=>{let i=!0;n.forEachWhile(e=>{let n=this.Je(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.ke.forEach((n,r)=>r.setReadTime(e));let i=new uQ(e,n,this.Qe,this.ke,r);return this.ke=ur,this.qe=u1(),this.Qe=new lt(sW),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new uZ,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new li(sW),this.qe=this.qe.insert(e,n)),n}ze(e){let n=null!==this.Je(e);return n||sA("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uZ),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function u1(){return new lt(s0.comparator)}function u2(){return new lt(s0.comparator)}const u4={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u5={and:"AND",or:"OR"};class u6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u9(e,n){return e.useProto3Json||null==n?n:{value:n}}function u8(e,n){return e.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function u7(e,n){return e.useProto3Json?n.toBase64():n.toUint8Array()}function ce(e){return e||sO(),sG.fromTimestamp(function(e){let n=lc(e);return new sQ(n.seconds,n.nanos)}(e))}function ct(e,n){return cn(e,n).canonicalString()}function cn(e,n){let r=new sY(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===n?r:r.child(n)}function cr(e){let n=sY.fromString(e);return cd(n)||sO(),n}function ci(e,n){return ct(e.databaseId,n.path)}function ca(e,n){let r=cr(n);if(r.get(1)!==e.databaseId.projectId)throw new sL(sD.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new sL(sD.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new s0(cl(r))}function co(e,n){return ct(e.databaseId,n)}function cs(e){return new sY(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cl(e){return e.length>4&&"documents"===e.get(4)||sO(),e.popFirst(5)}function cu(e,n,r){return{name:ci(e,n),fields:r.value.mapValue.fields}}function cc(e){return{fieldPath:e.canonicalString()}}function ch(e){return sZ.fromServerFormat(e.fieldPath)}function cd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,i,a=sG.min(),o=sG.min(),s=ll.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new cf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.ct=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(lh(e.integerValue));else if("doubleValue"in e){let r=lh(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),s9(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),"string"==typeof r&&(r=lc(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ld(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?lN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):sO()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};for(let e of(this.Et(n,55),Object.keys(r)))this.Rt(e,n),this.It(r[e],n)}wt(e,n){let r=e.values||[];for(let e of(this.Et(n,50),r))this.It(e,n)}gt(e,n){this.Et(n,37),s0.fromName(e).path.forEach(e=>{this.Et(n,60),this.St(e,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}cm.bt=new cm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._n=new cy}addToCollectionParentIndex(e,n){return this._n.add(n),s3.resolve()}getCollectionParents(e,n){return s3.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return s3.resolve()}deleteFieldIndex(e,n){return s3.resolve()}deleteAllFieldIndexes(e){return s3.resolve()}createTargetIndexes(e,n){return s3.resolve()}getDocumentsMatchingTarget(e,n){return s3.resolve(null)}getIndexType(e,n){return s3.resolve(0)}getFieldIndexes(e,n){return s3.resolve([])}getNextCollectionGroupToUpdate(e){return s3.resolve(null)}getMinOffset(e,n){return s3.resolve(s1.min())}getMinOffsetFromCollectionGroup(e,n){return s3.resolve(s1.min())}updateCollectionGroup(e,n,r){return s3.resolve()}updateIndexEntries(e,n){return s3.resolve()}}class cy{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new li(sY.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new li(sY.comparator)).toArray()}}new Uint8Array(0);class cv{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cv(e,cv.DEFAULT_COLLECTION_PERCENTILE,cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cv.DEFAULT_COLLECTION_PERCENTILE=10,cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cv.DEFAULT=new cv(41943040,cv.DEFAULT_COLLECTION_PERCENTILE,cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cv.DISABLED=new cv(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new cw(0)}static Ln(){return new cw(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.changes=new un(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lO.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return void 0!==r?s3.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(e=>(null!==r&&uA(r.mutation,e,lo.empty(),sQ.now()),e))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(n=>this.getLocalViewOfDocuments(e,n,uc()).next(()=>n))}getLocalViewOfDocuments(e,n,r=uc()){let i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(e=>{let n=ua();return e.forEach((e,r)=>{n=n.insert(e,r.overlayedDocument)}),n}))}getOverlayedDocuments(e,n){let r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,uc()))}populateOverlays(e,n,r){let i=[];return r.forEach(e=>{n.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,r)=>{n.set(e,r)})})}computeViews(e,n,r,i){let a=ur,o=us(),s=us();return n.forEach((e,n)=>{let s=r.get(n.key);i.has(n.key)&&(void 0===s||s.mutation instanceof uP)?a=a.insert(n.key,n):void 0!==s?(o.set(n.key,s.mutation.getFieldMask()),uA(s.mutation,n,s.mutation.getFieldMask(),sQ.now())):o.set(n.key,lo.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,n)=>o.set(e,n)),n.forEach((e,n)=>{var r;return s.set(e,new c_(n,null!==(r=o.get(e))&&void 0!==r?r:null))}),s))}recalculateAndSaveOverlays(e,n){let r=us(),i=new lt((e,n)=>e-n),a=uc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(e=>{for(let a of e)a.keys().forEach(e=>{let o=n.get(e);if(null===o)return;let s=r.get(e)||lo.empty();s=a.applyToLocalView(o,s),r.set(e,s);let l=(i.get(a.batchId)||uc()).add(e);i=i.insert(a.batchId,l)})}).next(()=>{let o=[],s=i.getReverseIterator();for(;s.hasNext();){let i=s.getNext(),l=i.key,u=i.value,c=us();u.forEach(e=>{if(!a.has(e)){let i=ux(n.get(e),r.get(e));null!==i&&c.set(e,i),a=a.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,c))}return s3.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,n,r,i){return s0.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):null!==n.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{let o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):s3.resolve(us()),s=-1,l=a;return o.next(n=>s3.forEach(n,(n,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),a.get(n)?s3.resolve():this.remoteDocumentCache.getEntry(e,n).next(e=>{l=l.insert(n,e)}))).next(()=>this.populateOverlays(e,n,a)).next(()=>this.computeViews(e,l,n,uc())).next(e=>({batchId:s,changes:uo(e)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new s0(n)).next(e=>{let n=ua();return e.isFoundDocument()&&(n=n.insert(e.key,e)),n})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let a=n.collectionGroup,o=ua();return this.indexManager.getCollectionParents(e,a).next(s=>s3.forEach(s,s=>{let l=new l2(s.child(a),null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt);return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(e=>{e.forEach((e,n)=>{o=o.insert(e,n)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(e=>{a.forEach((n,r)=>{let i=r.getKey();null===e.get(i)&&(e=e.insert(i,lO.newInvalidDocument(i)))});let r=ua();return e.forEach((e,i)=>{let o=a.get(e);void 0!==o&&uA(o.mutation,i,lo.empty(),sQ.now()),ue(n,i)&&(r=r.insert(e,i))}),r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return s3.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:n.id,version:n.version,createTime:ce(n.createTime)}),s3.resolve()}getNamedQuery(e,n){return s3.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:n.name,query:function(e){let n=function(e){var n;let r,i=function(e){let n=cr(e);return 4===n.length?sY.emptyPath():cl(n)}(e.parent),a=e.structuredQuery,o=a.from?a.from.length:0,s=null;if(o>0){1===o||sO();let e=a.from[0];e.allDescendants?s=e.collectionId:i=i.child(e.collectionId)}let l=[];a.where&&(l=function(e){var n;let r=function e(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let n=ch(e.unaryFilter.field);return lj.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=ch(e.unaryFilter.field);return lj.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=ch(e.unaryFilter.field);return lj.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=ch(e.unaryFilter.field);return lj.create(a,"!=",{nullValue:"NULL_VALUE"});default:return sO()}}(n):void 0!==n.fieldFilter?lj.create(ch(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sO()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==n.compositeFilter?lB.create(n.compositeFilter.filters.map(n=>e(n)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sO()}}(n.compositeFilter.op)):sO()}(e);return r instanceof lB&&lz(n=r)&&lV(n)?r.getFilters():[r]}(a.where));let u=[];a.orderBy&&(u=a.orderBy.map(e=>new lU(ch(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let c=null;a.limit&&(c=null==(r="object"==typeof(n=a.limit)?n.value:n)?null:r);let h=null;a.startAt&&(h=function(e){let n=!!e.before;return new lD(e.values||[],n)}(a.startAt));let d=null;return a.endAt&&(d=function(e){let n=!e.before;return new lD(e.values||[],n)}(a.endAt)),new l2(i,s,u,l,c,"F",h,d)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?l6(n,n.limit,"L"):n}(n.bundledQuery),readTime:ce(n.readTime)}),s3.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.overlays=new lt(s0.comparator),this.hr=new Map}getOverlay(e,n){return s3.resolve(this.overlays.get(n))}getOverlays(e,n){let r=us();return s3.forEach(n,n=>this.getOverlay(e,n).next(e=>{null!==e&&r.set(n,e)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((r,i)=>{this.ht(e,n,i)}),s3.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.hr.delete(r)),s3.resolve()}getOverlaysForCollection(e,n,r){let i=us(),a=n.length+1,o=new s0(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let e=s.getNext().value,o=e.getKey();if(!n.isPrefixOf(o.path))break;o.path.length===a&&e.largestBatchId>r&&i.set(e.getKey(),e)}return s3.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new lt((e,n)=>e-n),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===n&&e.largestBatchId>r){let n=a.get(e.largestBatchId);null===n&&(n=us(),a=a.insert(e.largestBatchId,n)),n.set(e.getKey(),e)}}let s=us(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((e,n)=>s.set(e,n)),!(s.size()>=i)););return s3.resolve(s)}ht(e,n,r){let i=this.overlays.get(r.key);if(null!==i){let e=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new uB(n,r));let a=this.hr.get(n);void 0===a&&(a=uc(),this.hr.set(n,a)),this.hr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Pr=new li(cI.Ir),this.Tr=new li(cI.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new cI(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(e=>this.addReference(e,n))}removeReference(e,n){this.Ar(new cI(e,n))}Rr(e,n){e.forEach(e=>this.removeReference(e,n))}Vr(e){let n=new s0(new sY([])),r=new cI(n,e),i=new cI(n,e+1),a=[];return this.Tr.forEachInRange([r,i],e=>{this.Ar(e),a.push(e.key)}),a}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new s0(new sY([])),r=new cI(n,e),i=new cI(n,e+1),a=uc();return this.Tr.forEachInRange([r,i],e=>{a=a.add(e.key)}),a}containsKey(e){let n=new cI(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class cI{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return s0.comparator(e.key,n.key)||sW(e.pr,n.pr)}static Er(e,n){return sW(e.pr,n.pr)||s0.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new li(cI.Ir)}checkEmpty(e){return s3.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){let a=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new uF(a,n,r,i);for(let n of(this.mutationQueue.push(o),i))this.wr=this.wr.add(new cI(n.key,a)),this.indexManager.addToCollectionParentIndex(e,n.key.path.popLast());return s3.resolve(o)}lookupMutationBatch(e,n){return s3.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=this.br(n+1),i=r<0?0:r;return s3.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return s3.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return s3.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new cI(n,0),i=new cI(n,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],e=>{let n=this.Sr(e.pr);a.push(n)}),s3.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new li(sW);return n.forEach(e=>{let n=new cI(e,0),i=new cI(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([n,i],e=>{r=r.add(e.pr)})}),s3.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,a=r;s0.isDocumentKey(a)||(a=a.child(""));let o=new cI(new s0(a),0),s=new li(sW);return this.wr.forEachWhile(e=>{let n=e.key.path;return!!r.isPrefixOf(n)&&(n.length===i&&(s=s.add(e.pr)),!0)},o),s3.resolve(this.Dr(s))}Dr(e){let n=[];return e.forEach(e=>{let r=this.Sr(e);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){0===this.Cr(n.batchId,"removed")||sO(),this.mutationQueue.shift();let r=this.wr;return s3.forEach(n.mutations,i=>{let a=new cI(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new cI(n,0),i=this.wr.firstAfterOrEqual(r);return s3.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,s3.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.vr=e,this.docs=new lt(s0.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return s3.resolve(r?r.document.mutableCopy():lO.newInvalidDocument(n))}getEntries(e,n){let r=ur;return n.forEach(e=>{let n=this.docs.get(e);r=r.insert(e,n?n.document.mutableCopy():lO.newInvalidDocument(e))}),s3.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ur,o=n.path,s=new s0(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){let{key:e,value:{document:s}}=l.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||0>=function(e,n){let r=e.readTime.compareTo(n.readTime);return 0!==r?r:0!==(r=s0.comparator(e.documentKey,n.documentKey))?r:sW(e.largestBatchId,n.largestBatchId)}(new s1(s.readTime,s.key,-1),r)||(i.has(s.key)||ue(n,s))&&(a=a.insert(s.key,s.mutableCopy()))}return s3.resolve(a)}getAllFromCollectionGroup(e,n,r,i){sO()}Fr(e,n){return s3.forEach(this.docs,e=>n(e))}newChangeBuffer(e){return new cA(this)}getSize(e){return s3.resolve(this.size)}}class cA extends cb{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),s3.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.persistence=e,this.Mr=new un(e=>lZ(e),l0),this.lastRemoteSnapshotVersion=sG.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cT,this.targetCount=0,this.Lr=cw.Nn()}forEachTarget(e,n){return this.Mr.forEach((e,r)=>n(r)),s3.resolve()}getLastRemoteSnapshotVersion(e){return s3.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return s3.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),s3.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),s3.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new cw(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,s3.resolve()}updateTargetData(e,n){return this.qn(n),s3.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,s3.resolve()}removeTargets(e,n,r){let i=0,a=[];return this.Mr.forEach((o,s)=>{s.sequenceNumber<=n&&null===r.get(s.targetId)&&(this.Mr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),s3.waitFor(a).next(()=>i)}getTargetCount(e){return s3.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return s3.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),s3.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(n=>{a.push(i.markPotentiallyOrphaned(e,n))}),s3.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),s3.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return s3.resolve(r)}containsKey(e,n){return s3.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.Br={},this.overlays={},this.kr=new s6(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cR(this),this.indexManager=new cg,this.remoteDocumentCache=new cx(e=>this.referenceDelegate.Kr(e)),this.serializer=new cp(n),this.$r=new cS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ck,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new cC(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){sA("MemoryPersistence","Starting transaction:",e);let i=new cP(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(e=>this.referenceDelegate.Wr(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}Gr(e,n){return s3.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class cP extends s2{constructor(e){super(),this.currentSequenceNumber=e}}class cO{constructor(e){this.persistence=e,this.zr=new cT,this.jr=null}static Hr(e){return new cO(e)}get Jr(){if(this.jr)return this.jr;throw sO()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),s3.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),s3.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),s3.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(e=>this.Jr.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(e=>{e.forEach(e=>this.Jr.add(e.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return s3.forEach(this.Jr,r=>{let i=s0.fromPath(r);return this.Yr(e,i).next(e=>{e||n.removeEntry(i,sG.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(e=>{e?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return s3.or([()=>s3.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=uc(),i=uc();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new cD(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=!function(){var e;let n=null===(e=eD())||void 0===e?void 0:e.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(ei.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){let n=e.match(/Android ([\d.]+)/i);return Number(n?n[1].split(".").slice(0,2).join("."):"-1")}(eV())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let a={result:null};return this.ji(e,n).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.Hi(e,n,i,r).next(e=>{a.result=e})}).next(()=>{if(a.result)return;let r=new cL;return this.Ji(e,n,r).next(i=>{if(a.result=i,this.Ui)return this.Yi(e,n,r,i.size)})}).next(()=>a.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(sx()<=N.DEBUG&&sA("QueryEngine","SDK will not create cache indexes for query:",l7(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),s3.resolve()):(sx()<=N.DEBUG&&sA("QueryEngine","Query:",l7(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sx()<=N.DEBUG&&sA("QueryEngine","The SDK decides to create cache indexes for query:",l7(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,l5(n))):s3.resolve())}ji(e,n){if(l4(n))return s3.resolve(null);let r=l5(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(r=l5(n=l6(n,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let a=uc(...i);return this.zi.getDocuments(e,a).next(i=>this.indexManager.getMinOffset(e,r).next(r=>{let o=this.Zi(n,i);return this.Xi(n,o,a,r.readTime)?this.ji(e,l6(n,null,"F")):this.es(e,o,n,r)}))})))}Hi(e,n,r,i){return l4(n)||i.isEqual(sG.min())?s3.resolve(null):this.zi.getDocuments(e,r).next(a=>{let o=this.Zi(n,a);return this.Xi(n,o,r,i)?s3.resolve(null):(sx()<=N.DEBUG&&sA("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),l7(n)),this.es(e,o,n,function(e,n){let r=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1;return new s1(sG.fromTimestamp(1e9===i?new sQ(r+1,0):new sQ(r,i)),s0.empty(),-1)}(i,0)).next(e=>e))})}Zi(e,n){let r=new li(ut(e));return n.forEach((n,i)=>{ue(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;let a="F"===e.limitType?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ji(e,n,r){return sx()<=N.DEBUG&&sA("QueryEngine","Using full collection scan to execute query:",l7(n)),this.zi.getDocumentsMatchingQuery(e,n,s1.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(e=>(n.forEach(n=>{e=e.insert(n.key,n)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lt(sW),this.rs=new un(e=>lZ(e),l0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}async function cF(e,n){return await e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,e._s(n),e.mutationQueue.getAllMutationBatches(r))).next(n=>{let a=[],o=[],s=uc();for(let e of i)for(let n of(a.push(e.batchId),e.mutations))s=s.add(n.key);for(let e of n)for(let n of(o.push(e.batchId),e.mutations))s=s.add(n.key);return e.localDocuments.getDocuments(r,s).next(e=>({us:e,removedBatchIds:a,addedBatchIds:o}))})})}function cj(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}async function cB(e,n,r){let i=e.ns.get(n);try{r||await e.persistence.runTransaction("Release target",r?"readwrite":"readwrite-primary",n=>e.persistence.referenceDelegate.removeTarget(n,i))}catch(e){if(!s5(e))throw e;sA("LocalStore",`Failed to update sequence numbers for target ${n}: ${e}`)}e.ns=e.ns.remove(n),e.rs.delete(i.target)}function cV(e,n,r){let i=sG.min(),a=uc();return e.persistence.runTransaction("Execute query","readwrite",o=>(function(e,n,r){let i=e.rs.get(r);return void 0!==i?s3.resolve(e.ns.get(i)):e.Qr.getTargetData(n,r)})(e,o,l5(n)).next(n=>{if(n)return i=n.lastLimboFreeSnapshotVersion,e.Qr.getMatchingKeysForTargetId(o,n.targetId).next(e=>{a=e})}).next(()=>e.ts.getDocumentsMatchingQuery(o,n,r?i:sG.min(),r?a:uc())).next(r=>{var i;let o;return i=n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2)),o=e.ss.get(i)||sG.min(),r.forEach((e,n)=>{n.readTime.compareTo(o)>0&&(o=n.readTime)}),e.ss.set(i,o),{documents:r,hs:a}}))}class cz{constructor(){this.activeTargetIds=uh}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class c${constructor(){this.no=new cz,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cz,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){for(let e of(sA("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.uo))e(0)}ao(){for(let e of(sA("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.uo))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cW=null;function cK(){return null===cW?cW=268435456+Math.round(2147483648*Math.random()):cW++,"0x"+cW.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="WebChannelConnection";class cY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+e.host,this.So=`projects/${r}/databases/${i}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get Do(){return!1}Co(e,n,r,i,a){let o=cK(),s=this.vo(e,n.toUriEncodedString());sA("RestConnection",`Sending RPC '${e}' ${o}:`,s,r);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,i,a),this.Mo(e,s,l,r).then(n=>(sA("RestConnection",`Received RPC '${e}' ${o}: `,n),n),n=>{throw sN("RestConnection",`RPC '${e}' ${o} failed with error: `,n,"url: ",s,"request:",r),n})}xo(e,n,r,i,a,o){return this.Co(e,n,r,i,a)}Fo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sI}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((n,r)=>e[r]=n),r&&r.headers.forEach((n,r)=>e[r]=n)}vo(e,n){let r=cQ[e];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let a=cK();return new Promise((o,s)=>{let l=new B;l.setWithCredentials(!0),l.listenOnce($.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case H.NO_ERROR:let n=l.getResponseJson();sA(cX,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(n)),o(n);break;case H.TIMEOUT:sA(cX,`RPC '${e}' ${a} timed out`),s(new sL(sD.DEADLINE_EXCEEDED,"Request time out"));break;case H.HTTP_ERROR:let r=l.getStatus();if(sA(cX,`RPC '${e}' ${a} failed with status:`,r,"response text:",l.getResponseText()),r>0){let e=l.getResponseJson();Array.isArray(e)&&(e=e[0]);let n=null==e?void 0:e.error;if(n&&n.status&&n.message){let e=function(e){let n=e.toLowerCase().replace(/_/g,"-");return Object.values(sD).indexOf(n)>=0?n:sD.UNKNOWN}(n.status);s(new sL(e,n.message))}else s(new sL(sD.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new sL(sD.UNAVAILABLE,"Connection failed."));break;default:sO()}}finally{sA(cX,`RPC '${e}' ${a} completed.`)}});let u=JSON.stringify(i);sA(cX,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){let i=cK(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q(),s=K(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new V({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let c=a.join("");sA(cX,`Creating RPC '${e}' stream ${i}: ${c}`,l);let h=o.createWebChannel(c,l),d=!1,f=!1,p=new cG({lo:n=>{f?sA(cX,`Not sending because RPC '${e}' stream ${i} is closed:`,n):(d||(sA(cX,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),sA(cX,`RPC '${e}' stream ${i} sending:`,n),h.send(n))},ho:()=>h.close()}),m=(e,n,r)=>{e.listen(n,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(h,z.EventType.OPEN,()=>{f||(sA(cX,`RPC '${e}' stream ${i} transport opened.`),p.mo())}),m(h,z.EventType.CLOSE,()=>{f||(f=!0,sA(cX,`RPC '${e}' stream ${i} transport closed`),p.po())}),m(h,z.EventType.ERROR,n=>{f||(f=!0,sN(cX,`RPC '${e}' stream ${i} transport errored:`,n),p.po(new sL(sD.UNAVAILABLE,"The operation could not be completed")))}),m(h,z.EventType.MESSAGE,n=>{var r;if(!f){let a=n.data[0];a||sO();let o=a.error||(null===(r=a[0])||void 0===r?void 0:r.error);if(o){sA(cX,`RPC '${e}' stream ${i} received error:`,o);let n=o.status,r=function(e){let n=Z[e];if(void 0!==n)return uz(n)}(n),a=o.message;void 0===r&&(r=sD.INTERNAL,a="Unknown error status: "+n+" with message "+o.message),f=!0,p.po(new sL(r,a)),h.close()}else sA(cX,`RPC '${e}' stream ${i} received:`,a),p.yo(a)}}),m(s,W.STAT_EVENT,n=>{n.stat===q.PROXY?sA(cX,`RPC '${e}' stream ${i} detected buffering proxy`):n.stat===q.NOPROXY&&sA(cX,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function cJ(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(e){return new u6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r=1e3,i=1.5,a=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=a,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&sA("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,a,o,s,l){this.oi=e,this.Go=r,this.zo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new c0(e,n)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():n&&n.code===sD.RESOURCE_EXHAUSTED?(sR(n.toString()),sR("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===sD.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.jo===n&&this.u_(e,r)},n=>{e(()=>{let e=new sL(sD.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(e)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(e=>{r(()=>this.c_(e))}),this.stream.onMessage(e=>{r(()=>this.onMessage(e))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return sA("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(sA("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c2 extends c1{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=function(e,n){let r;if("targetChange"in n){var i,a;n.targetChange;let o="NO_CHANGE"===(i=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:sO(),s=n.targetChange.targetIds||[],l=(a=n.targetChange.resumeToken,e.useProto3Json?(void 0===a||"string"==typeof a||sO(),ll.fromBase64String(a||"")):(void 0===a||a instanceof o0||a instanceof Uint8Array||sO(),ll.fromUint8Array(a||new Uint8Array))),u=n.targetChange.cause;r=new uJ(o,s,l,u&&new sL(void 0===u.code?sD.UNKNOWN:uz(u.code),u.message||"")||null)}else if("documentChange"in n){n.documentChange;let i=n.documentChange;i.document,i.document.name,i.document.updateTime;let a=ca(e,i.document.name),o=ce(i.document.updateTime),s=i.document.createTime?ce(i.document.createTime):sG.min(),l=new lP({mapValue:{fields:i.document.fields}}),u=lO.newFoundDocument(a,o,s,l);r=new uX(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in n){n.documentDelete;let i=n.documentDelete;i.document;let a=ca(e,i.document),o=i.readTime?ce(i.readTime):sG.min(),s=lO.newNoDocument(a,o);r=new uX([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in n){n.documentRemove;let i=n.documentRemove;i.document;let a=ca(e,i.document);r=new uX([],i.removedTargetIds||[],a,null)}else{if(!("filter"in n))return sO();{n.filter;let e=n.filter;e.targetId;let{count:i=0,unchangedNames:a}=e,o=new uV(i,a);r=new uY(e.targetId,o)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return sG.min();let n=e.targetChange;return n.targetIds&&n.targetIds.length?sG.min():n.readTime?ce(n.readTime):sG.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=cs(this.serializer),n.addTarget=function(e,n){let r;let i=n.target;if((r=l1(i)?{documents:{documents:[co(e,i.path)]}}:{query:function(e,n){var r,i;let a;let o={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(a=s,o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(a=s.popLast(),o.structuredQuery.from=[{collectionId:s.lastSegment()}]),o.parent=co(e,a);let l=function(e){if(0!==e.length)return function e(n){return n instanceof lj?function(e){if("=="===e.op){if(lx(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NAN"}};if(lC(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lx(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NAN"}};if(lC(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(e.field),op:u3[e.op],value:e.value}}}(n):n instanceof lB?function(n){let r=n.getFilters().map(n=>e(n));return 1===r.length?r[0]:{compositeFilter:{op:u5[n.op],filters:r}}}(n):sO()}(lB.create(e,"and"))}(n.filters);l&&(o.structuredQuery.where=l);let u=function(e){if(0!==e.length)return e.map(e=>({field:cc(e.field),direction:u4[e.dir]}))}(n.orderBy);u&&(o.structuredQuery.orderBy=u);let c=u9(e,n.limit);return null!==c&&(o.structuredQuery.limit=c),n.startAt&&(o.structuredQuery.startAt={before:(r=n.startAt).inclusive,values:r.position}),n.endAt&&(o.structuredQuery.endAt={before:!(i=n.endAt).inclusive,values:i.position}),{_t:o,parent:a}}(e,i)._t}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0){r.resumeToken=u7(e,n.resumeToken);let i=u9(e,n.expectedCount);null!==i&&(r.expectedCount=i)}else if(n.snapshotVersion.compareTo(sG.min())>0){r.readTime=u8(e,n.snapshotVersion.toTimestamp());let i=u9(e,n.expectedCount);null!==i&&(r.expectedCount=i)}return r}(this.serializer,e);let r=function(e,n){let r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sO()}}(n.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=cs(this.serializer),n.removeTarget=e,this.i_(n)}}class c4 extends c1{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){var n,r;if(e.streamToken||sO(),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let i=(n=e.writeResults,r=e.commitTime,n&&n.length>0?(void 0!==r||sO(),n.map(e=>{let n;return(n=e.updateTime?ce(e.updateTime):ce(r)).isEqual(sG.min())&&(n=ce(r)),new uk(n,e.transformResults||[])})):[]),a=ce(e.commitTime);return this.listener.A_(a,i)}return e.writeResults&&0!==e.writeResults.length&&sO(),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=cs(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,n){var r;let i;if(n instanceof uN)i={update:cu(e,n.key,n.value)};else if(n instanceof uM)i={delete:ci(e,n.key)};else if(n instanceof uP)i={update:cu(e,n.key,n.data),updateMask:function(e){let n=[];return e.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n}}(n.fieldMask)};else{if(!(n instanceof uU))return sO();i={verify:ci(e,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(e=>(function(e,n){let r=n.transform;if(r instanceof ug)return{fieldPath:n.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof uy)return{fieldPath:n.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof uw)return{fieldPath:n.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof u_)return{fieldPath:n.field.canonicalString(),increment:r.Pe};throw sO()})(0,e))),n.precondition.isNone||(i.currentDocument=void 0!==(r=n.precondition).updateTime?{updateTime:u8(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:sO()),i})(this.serializer,e))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new sL(sD.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Co(e,cn(n,r),i,a,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sD.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sL(sD.UNKNOWN,e.toString())})}xo(e,n,r,i,a){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.xo(e,cn(n,r),i,o,s,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sD.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sL(sD.UNKNOWN,e.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class c5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(sR(n),this.y_=!1):sA("OnlineStateTracker",n)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=a,this.O_.io(e=>{r.enqueueAndForget(async()=>{ha(this)&&(sA("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.M_.add(4),await c8(e),e.N_.set("Unknown"),e.M_.delete(4),await c9(e)}(this))})}),this.N_=new c5(r,i)}}async function c9(e){if(ha(e))for(let n of e.x_)await n(!0)}async function c8(e){for(let n of e.x_)await n(!1)}function c7(e,n){e.F_.has(n.targetId)||(e.F_.set(n.targetId,n),hi(e)?hr(e):h_(e).Xo()&&ht(e,n))}function he(e,n){let r=h_(e);e.F_.delete(n),r.Xo()&&hn(e,n),0===e.F_.size&&(r.Xo()?r.n_():ha(e)&&e.N_.set("Unknown"))}function ht(e,n){if(e.L_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(sG.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(r)}h_(e).P_(n)}function hn(e,n){e.L_.xe(n),h_(e).I_(n)}function hr(e){e.L_=new u0({getRemoteKeysForTarget:n=>e.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>e.F_.get(n)||null,tt:()=>e.datastore.serializer.databaseId}),h_(e).start(),e.N_.w_()}function hi(e){return ha(e)&&!h_(e).Zo()&&e.F_.size>0}function ha(e){return 0===e.M_.size}async function ho(e){e.N_.set("Online")}async function hs(e){e.F_.forEach((n,r)=>{ht(e,n)})}async function hl(e,n){e.L_=void 0,hi(e)?(e.N_.D_(n),hr(e)):e.N_.set("Unknown")}async function hu(e,n,r){if(e.N_.set("Online"),n instanceof uJ&&2===n.state&&n.cause)try{await async function(e,n){let r=n.cause;for(let i of n.targetIds)e.F_.has(i)&&(await e.remoteSyncer.rejectListen(i,r),e.F_.delete(i),e.L_.removeTarget(i))}(e,n)}catch(r){sA("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),r),await hc(e,r)}else if(n instanceof uX?e.L_.Ke(n):n instanceof uY?e.L_.He(n):e.L_.We(n),!r.isEqual(sG.min()))try{let n=await cj(e.localStore);r.compareTo(n)>=0&&await function(e,n){let r=e.L_.rt(n);return r.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let a=e.F_.get(i);a&&e.F_.set(i,a.withResumeToken(r.resumeToken,n))}}),r.targetMismatches.forEach((n,r)=>{let i=e.F_.get(n);if(!i)return;e.F_.set(n,i.withResumeToken(ll.EMPTY_BYTE_STRING,i.snapshotVersion)),hn(e,n);let a=new cf(i.target,n,r,i.sequenceNumber);ht(e,a)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(n){sA("RemoteStore","Failed to raise snapshot:",n),await hc(e,n)}}async function hc(e,n,r){if(!s5(n))throw n;e.M_.add(1),await c8(e),e.N_.set("Offline"),r||(r=()=>cj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sA("RemoteStore","Retrying IndexedDB access"),await r(),e.M_.delete(1),await c9(e)})}function hh(e,n){return n().catch(r=>hc(e,r,n))}async function hd(e){let n=hE(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;ha(e)&&e.v_.length<10;)try{let i=await function(e,n){return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===n&&(n=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,n)))}(e.localStore,r);if(null===i){0===e.v_.length&&n.n_();break}r=i.batchId,function(e,n){e.v_.push(n);let r=hE(e);r.Xo()&&r.E_&&r.d_(n.mutations)}(e,i)}catch(n){await hc(e,n)}hf(e)&&hp(e)}function hf(e){return ha(e)&&!hE(e).Zo()&&e.v_.length>0}function hp(e){hE(e).start()}async function hm(e){hE(e).V_()}async function hg(e){let n=hE(e);for(let r of e.v_)n.d_(r.mutations)}async function hy(e,n,r){let i=e.v_.shift(),a=uj.from(i,n,r);await hh(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await hd(e)}async function hv(e,n){n&&hE(e).E_&&await async function(e,n){var r;if(function(e){switch(e){default:return sO();case sD.CANCELLED:case sD.UNKNOWN:case sD.DEADLINE_EXCEEDED:case sD.RESOURCE_EXHAUSTED:case sD.INTERNAL:case sD.UNAVAILABLE:case sD.UNAUTHENTICATED:return!1;case sD.INVALID_ARGUMENT:case sD.NOT_FOUND:case sD.ALREADY_EXISTS:case sD.PERMISSION_DENIED:case sD.FAILED_PRECONDITION:case sD.ABORTED:case sD.OUT_OF_RANGE:case sD.UNIMPLEMENTED:case sD.DATA_LOSS:return!0}}(r=n.code)&&r!==sD.ABORTED){let r=e.v_.shift();hE(e).t_(),await hh(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,n)),await hd(e)}}(e,n),hf(e)&&hp(e)}async function hw(e,n){e.asyncQueue.verifyOperationInProgress(),sA("RemoteStore","RemoteStore received new credentials");let r=ha(e);e.M_.add(3),await c8(e),r&&e.N_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(n),e.M_.delete(3),await c9(e)}async function hb(e,n){n?(e.M_.delete(2),await c9(e)):n||(e.M_.add(2),await c8(e),e.N_.set("Unknown"))}function h_(e){var n,r,i;return e.B_||(e.B_=(n=e.datastore,r=e.asyncQueue,i={Po:ho.bind(null,e),To:hs.bind(null,e),Ao:hl.bind(null,e),h_:hu.bind(null,e)},n.f_(),new c2(r,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,i)),e.x_.push(async n=>{n?(e.B_.t_(),hi(e)?hr(e):e.N_.set("Unknown")):(await e.B_.stop(),e.L_=void 0)})),e.B_}function hE(e){var n,r,i;return e.k_||(e.k_=(n=e.datastore,r=e.asyncQueue,i={Po:()=>Promise.resolve(),To:hm.bind(null,e),Ao:hv.bind(null,e),R_:hg.bind(null,e),A_:hy.bind(null,e)},n.f_(),new c4(r,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,i)),e.x_.push(async n=>{n?(e.k_.t_(),await hd(e)):(await e.k_.stop(),e.v_.length>0&&(sA("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sM,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){let o=new hS(e,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sL(sD.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hk(e,n){if(sR("AsyncQueue",`${n}: ${e}`),s5(e))return new sL(sD.UNAVAILABLE,`${n}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.comparator=e?(n,r)=>e(n,r)||s0.comparator(n.key,r.key):(e,n)=>s0.comparator(e.key,n.key),this.keyedMap=ua(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new hT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hT)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,i=r.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){let r=new hT;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.q_=new lt(s0.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(n,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(n):1===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):sO():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hC{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){let o=[];return n.forEach(e=>{o.push({type:0,doc:e})}),new hC(e,n,hT.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l9(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++)if(n[e].type!==r[e].type||!n[e].doc.isEqual(r[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class hA{constructor(){this.queries=new un(e=>l8(e),l9),this.onlineState="Unknown",this.z_=new Set}}async function hR(e,n){let r=3,i=n.query,a=e.queries.get(i);a?!a.W_()&&n.G_()&&(r=2):(a=new hx,r=n.G_()?0:1);try{switch(r){case 0:a.K_=await e.onListen(i,!0);break;case 1:a.K_=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(r){let e=hk(r,`Initialization of query '${l7(n.query)}' failed`);return void n.onError(e)}e.queries.set(i,a),a.U_.push(n),n.j_(e.onlineState),a.K_&&n.H_(a.K_)&&hD(e)}async function hN(e,n){let r=n.query,i=3,a=e.queries.get(r);if(a){let e=a.U_.indexOf(n);e>=0&&(a.U_.splice(e,1),0===a.U_.length?i=n.G_()?0:1:!a.W_()&&n.G_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function hP(e,n){let r=!1;for(let i of n){let n=i.query,a=e.queries.get(n);if(a){for(let e of a.U_)e.H_(i)&&(r=!0);a.K_=i}}r&&hD(e)}function hO(e,n,r){let i=e.queries.get(n);if(i)for(let e of i.U_)e.onError(r);e.queries.delete(n)}function hD(e){e.z_.forEach(e=>{e.next()})}(en=et||(et={})).J_="default",en.Cache="cache";class hL{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let n=[];for(let r of e.docChanges)3!==r.type&&n.push(r);e=new hC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){return!(e.fromCache&&this.G_())||(!this.options.ra||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&!0===this.options.includeMetadataChanges}na(e){e=hC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==et.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.key=e}}class hU{constructor(e){this.key=e}}class hF{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=uc(),this.mutatedKeys=uc(),this.Ia=ut(e),this.Ta=new hT(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new hI,i=n?n.Ta:this.Ta,a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1,l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,n)=>{let c=i.get(e),h=ue(this.query,n)?n:null,d=!!c&&this.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):this.Ra(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&this.Ia(h,l)>0||u&&0>this.Ia(h,u))&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(s=!0)),p&&(h?(o=o.add(h),a=f?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),a=a.delete(e.key),r.track({type:1,doc:e})}return{Ta:o,Aa:r,Xi:s,mutatedKeys:a}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let a=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((e,n)=>(function(e,n){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sO()}};return r(e)-r(n)})(e.type,n.type)||this.Ia(e.doc,n.doc)),this.Va(r),i=null!=i&&i;let s=n&&!i?this.ma():[],l=0===this.Pa.size&&this.current&&!i?1:0,u=l!==this.ha;return(this.ha=l,0!==o.length||u)?{snapshot:new hC(this.query,e.Ta,a,o,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new hI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(e=>this.la=this.la.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=uc(),this.Ta.forEach(e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))});let n=[];return e.forEach(e=>{this.Pa.has(e)||n.push(new hU(e))}),this.Pa.forEach(r=>{e.has(r)||n.push(new hM(r))}),n}pa(e){this.la=e.hs,this.Pa=uc();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return hC.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class hj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hB{constructor(e){this.key=e,this.wa=!1}}class hV{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new un(e=>l8(e),l9),this.Da=new Map,this.Ca=new Set,this.va=new lt(s0.comparator),this.Fa=new Map,this.Ma=new cT,this.xa={},this.Oa=new Map,this.Na=cw.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function hz(e,n,r=!0){let i;let a=h7(e),o=a.ba.get(n);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await hH(a,n,r,!0),i}async function h$(e,n){let r=h7(e);await hH(r,n,!0,!1)}async function hH(e,n,r,i){var a,o;let s;let l=await (a=e.localStore,o=l5(n),a.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return a.Qr.getTargetData(e,o).next(r=>r?(n=r,s3.resolve(n)):a.Qr.allocateTargetId(e).next(r=>(n=new cf(o,r,"TargetPurposeListen",e.currentSequenceNumber),a.Qr.addTargetData(e,n).next(()=>n))))}).then(e=>{let n=a.ns.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(a.ns=a.ns.insert(e.targetId,e),a.rs.set(o,e.targetId)),e})),u=l.targetId,c=r?e.sharedClientState.addLocalQueryTarget(u):"not-current";return i&&(s=await hq(e,n,u,"current"===c,l.resumeToken)),e.isPrimaryClient&&r&&c7(e.remoteStore,l),s}async function hq(e,n,r,i,a){e.Ba=(n,r,i)=>(async function(e,n,r,i){let a=n.view.da(r);a.Xi&&(a=await cV(e.localStore,n.query,!1).then(({documents:e})=>n.view.da(e,a)));let o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),l=n.view.applyChanges(a,e.isPrimaryClient,o,s);return h3(e,n.targetId,l.fa),l.snapshot})(e,n,r,i);let o=await cV(e.localStore,n,!0),s=new hF(n,o.hs),l=s.da(o.documents),u=uG.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==e.onlineState,a),c=s.applyChanges(l,e.isPrimaryClient,u);h3(e,r,c.fa);let h=new hj(n,r,s);return e.ba.set(n,h),e.Da.has(r)?e.Da.get(r).push(n):e.Da.set(r,[n]),c.snapshot}async function hW(e,n,r){let i=e.ba.get(n),a=e.Da.get(i.targetId);if(a.length>1)return e.Da.set(i.targetId,a.filter(e=>!l9(e,n))),void e.ba.delete(n);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||await cB(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),r&&he(e.remoteStore,i.targetId),h2(e,i.targetId)}).catch(s4)):(h2(e,i.targetId),await cB(e.localStore,i.targetId,!0))}async function hK(e,n){let r=e.ba.get(n),i=e.Da.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),he(e.remoteStore,r.targetId))}async function hQ(e,n,r){var i;let a=(e.remoteStore.remoteSyncer.applySuccessfulWrite=hJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hZ.bind(null,e),e);try{let e;let o=await function(e,n){let r,i;let a=sQ.now(),o=n.reduce((e,n)=>e.add(n.key),uc());return e.persistence.runTransaction("Locally write mutations","readwrite",s=>{let l=ur,u=uc();return e.os.getEntries(s,o).next(e=>{(l=e).forEach((e,n)=>{n.isValidDocument()||(u=u.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(s,l)).next(i=>{r=i;let o=[];for(let e of n){let n=function(e,n){let r=null;for(let i of e.fieldTransforms){let e=n.data.field(i.field),a=um(i.transform,e||null);null!=a&&(null===r&&(r=lP.empty()),r.set(i.field,a))}return r||null}(e,r.get(e.key).overlayedDocument);null!=n&&o.push(new uP(e.key,n,function e(n){let r=[];return s7(n.fields,(n,i)=>{let a=new sZ([n]);if(lA(i)){let n=e(i.mapValue).fields;if(0===n.length)r.push(a);else for(let e of n)r.push(a.child(e))}else r.push(a)}),new lo(r)}(n.value.mapValue),uT.exists(!0)))}return e.mutationQueue.addMutationBatch(s,a,o,n)}).next(n=>{i=n;let a=n.applyToLocalDocumentSet(r,u);return e.documentOverlayCache.saveOverlays(s,n.batchId,a)})}).then(()=>({batchId:i.batchId,changes:uo(r)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(o.batchId),i=o.batchId,(e=a.xa[a.currentUser.toKey()])||(e=new lt(sW)),e=e.insert(i,r),a.xa[a.currentUser.toKey()]=e,await h6(a,o.changes),await hd(a.remoteStore)}catch(n){let e=hk(n,"Failed to persist write");r.reject(e)}}async function hG(e,n){try{let r=await function(e,n){let r=n.snapshotVersion,i=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{var o;let s,l;let u=e.os.newChangeBuffer({trackRemovals:!0});i=e.ns;let c=[];n.targetChanges.forEach((o,s)=>{var l;let u=i.get(s);if(!u)return;c.push(e.Qr.removeMatchingKeys(a,o.removedDocuments,s).next(()=>e.Qr.addMatchingKeys(a,o.addedDocuments,s)));let h=u.withSequenceNumber(a.currentSequenceNumber);null!==n.targetMismatches.get(s)?h=h.withResumeToken(ll.EMPTY_BYTE_STRING,sG.min()).withLastLimboFreeSnapshotVersion(sG.min()):o.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(o.resumeToken,r)),i=i.insert(s,h),l=h,(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size>0)&&c.push(e.Qr.updateTargetData(a,h))});let h=ur,d=uc();if(n.documentUpdates.forEach(r=>{n.resolvedLimboDocuments.has(r)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,r))}),c.push((o=n.documentUpdates,s=uc(),l=uc(),o.forEach(e=>s=s.add(e)),u.getEntries(a,s).next(e=>{let n=ur;return o.forEach((r,i)=>{let a=e.get(r);i.isFoundDocument()!==a.isFoundDocument()&&(l=l.add(r)),i.isNoDocument()&&i.version.isEqual(sG.min())?(u.removeEntry(r,i.readTime),n=n.insert(r,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(u.addEntry(i),n=n.insert(r,i)):sA("LocalStore","Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",i.version)}),{cs:n,ls:l}})).next(e=>{h=e.cs,d=e.ls})),!r.isEqual(sG.min())){let n=e.Qr.getLastRemoteSnapshotVersion(a).next(n=>e.Qr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(n)}return s3.waitFor(c).next(()=>u.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(n=>(e.ns=i,n))}(e.localStore,n);n.targetChanges.forEach((n,r)=>{let i=e.Fa.get(r);i&&(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1||sO(),n.addedDocuments.size>0?i.wa=!0:n.modifiedDocuments.size>0?i.wa||sO():n.removedDocuments.size>0&&(i.wa||sO(),i.wa=!1))}),await h6(e,r,n)}catch(e){await s4(e)}}function hX(e,n,r){var i;if(e.isPrimaryClient&&0===r||!e.isPrimaryClient&&1===r){let r;let a=[];e.ba.forEach((e,r)=>{let i=r.view.j_(n);i.snapshot&&a.push(i.snapshot)}),(i=e.eventManager).onlineState=n,r=!1,i.queries.forEach((e,i)=>{for(let e of i.U_)e.j_(n)&&(r=!0)}),r&&hD(i),a.length&&e.Sa.h_(a),e.onlineState=n,e.isPrimaryClient&&e.sharedClientState.setOnlineState(n)}}async function hY(e,n,r){e.sharedClientState.updateQueryState(n,"rejected",r);let i=e.Fa.get(n),a=i&&i.key;if(a){let r=new lt(s0.comparator);r=r.insert(a,lO.newNoDocument(a,sG.min()));let i=uc().add(a),o=new uQ(sG.min(),new Map,new lt(sW),r,i);await hG(e,o),e.va=e.va.remove(a),e.Fa.delete(n),h5(e)}else await cB(e.localStore,n,!1).then(()=>h2(e,n,r)).catch(s4)}async function hJ(e,n){var r;let i=n.batch.batchId;try{let a=await (r=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let i=n.batch.keys(),a=r.os.newChangeBuffer({trackRemovals:!0});return(function(e,n,r,i){let a=r.batch,o=a.keys(),s=s3.resolve();return o.forEach(e=>{s=s.next(()=>i.getEntry(n,e)).next(n=>{let o=r.docVersions.get(e);null!==o||sO(),0>n.version.compareTo(o)&&(a.applyToRemoteDocument(n,r),n.isValidDocument()&&(n.setReadTime(r.commitVersion),i.addEntry(n)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(n,a))})(r,e,n,a).next(()=>a.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,i,n.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let n=uc();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(n=n.add(e.batch.mutations[r].key));return n}(n))).next(()=>r.localDocuments.getDocuments(e,i))});h1(e,i,null),h0(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await h6(e,a)}catch(e){await s4(e)}}async function hZ(e,n,r){var i;try{let a=await (i=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return i.mutationQueue.lookupMutationBatch(e,n).next(n=>(null!==n||sO(),r=n.keys(),i.mutationQueue.removeMutationBatch(e,n))).next(()=>i.mutationQueue.performConsistencyCheck(e)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(e,r,n)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>i.localDocuments.getDocuments(e,r))});h1(e,n,r),h0(e,n),e.sharedClientState.updateMutationState(n,"rejected",r),await h6(e,a)}catch(e){await s4(e)}}function h0(e,n){(e.Oa.get(n)||[]).forEach(e=>{e.resolve()}),e.Oa.delete(n)}function h1(e,n,r){let i=e.xa[e.currentUser.toKey()];if(i){let a=i.get(n);a&&(r?a.reject(r):a.resolve(),i=i.remove(n)),e.xa[e.currentUser.toKey()]=i}}function h2(e,n,r=null){for(let i of(e.sharedClientState.removeLocalQueryTarget(n),e.Da.get(n)))e.ba.delete(i),r&&e.Sa.ka(i,r);e.Da.delete(n),e.isPrimaryClient&&e.Ma.Vr(n).forEach(n=>{e.Ma.containsKey(n)||h4(e,n)})}function h4(e,n){e.Ca.delete(n.path.canonicalString());let r=e.va.get(n);null!==r&&(he(e.remoteStore,r),e.va=e.va.remove(n),e.Fa.delete(r),h5(e))}function h3(e,n,r){for(let i of r)i instanceof hM?(e.Ma.addReference(i.key,n),function(e,n){let r=n.key,i=r.path.canonicalString();e.va.get(r)||e.Ca.has(i)||(sA("SyncEngine","New document in limbo: "+r),e.Ca.add(i),h5(e))}(e,i)):i instanceof hU?(sA("SyncEngine","Document no longer in limbo: "+i.key),e.Ma.removeReference(i.key,n),e.Ma.containsKey(i.key)||h4(e,i.key)):sO()}function h5(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let n=e.Ca.values().next().value;e.Ca.delete(n);let r=new s0(sY.fromString(n)),i=e.Na.next();e.Fa.set(i,new hB(r)),e.va=e.va.insert(r,i),c7(e.remoteStore,new cf(l5(new l2(r.path)),i,"TargetPurposeLimboResolution",s6.oe))}}async function h6(e,n,r){let i=[],a=[],o=[];e.ba.isEmpty()||(e.ba.forEach((s,l)=>{o.push(e.Ba(l,n,r).then(n=>{var o;if((n||r)&&e.isPrimaryClient){let i=n?!n.fromCache:null===(o=null==r?void 0:r.targetChanges.get(l.targetId))||void 0===o?void 0:o.current;e.sharedClientState.updateQueryState(l.targetId,i?"current":"not-current")}if(n){i.push(n);let e=cD.Ki(l.targetId,n);a.push(e)}}))}),await Promise.all(o),e.Sa.h_(i),await async function(e,n){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>s3.forEach(n,n=>s3.forEach(n.qi,i=>e.persistence.referenceDelegate.addReference(r,n.targetId,i)).next(()=>s3.forEach(n.Qi,i=>e.persistence.referenceDelegate.removeReference(r,n.targetId,i)))))}catch(e){if(!s5(e))throw e;sA("LocalStore","Failed to update sequence numbers: "+e)}for(let r of n){let n=r.targetId;if(!r.fromCache){let r=e.ns.get(n),i=r.snapshotVersion,a=r.withLastLimboFreeSnapshotVersion(i);e.ns=e.ns.insert(n,a)}}}(e.localStore,a))}async function h9(e,n){var r;if(!e.currentUser.isEqual(n)){sA("SyncEngine","User change. New user:",n.toKey());let i=await cF(e.localStore,n);e.currentUser=n,r="'waitForPendingWrites' promise is rejected due to a user change.",e.Oa.forEach(e=>{e.forEach(e=>{e.reject(new sL(sD.CANCELLED,r))})}),e.Oa.clear(),e.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),await h6(e,i.us)}}function h8(e,n){let r=e.Fa.get(n);if(r&&r.wa)return uc().add(r.key);{let r=uc(),i=e.Da.get(n);if(!i)return r;for(let n of i){let i=e.ba.get(n);r=r.unionWith(i.view.Ea)}return r}}function h7(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=hG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hY.bind(null,e),e.Sa.h_=hP.bind(null,e.eventManager),e.Sa.ka=hO.bind(null,e.eventManager),e}class de{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cZ(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){var n;return n=this.persistence,new cU(n,new cM,e.initialUser,this.serializer)}createPersistence(e){return new cN(cO.Hr,this.serializer)}createSharedClientState(e){return new c$}async terminate(){var e,n;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dt{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hX(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=h9.bind(null,this.syncEngine),await hb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hA}createDatastore(e){let n=cZ(e.databaseInfo.databaseId),r=new cY(e.databaseInfo);return new c3(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){var n;return n=this.localStore,new c6(n,this.datastore,e.asyncQueue,e=>hX(this.syncEngine,e,0),cq.D()?new cq:new cH)}createSyncEngine(e,n){return function(e,n,r,i,a,o,s){let l=new hV(e,n,r,i,a,o);return s&&(l.La=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(e){sA("RemoteStore","RemoteStore shutting down."),e.M_.add(5),await c8(e),e.O_.shutdown(),e.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):sR("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sT.UNAUTHENTICATED,this.clientId=sq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async e=>{sA("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(sA("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sL(sD.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sM;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let n=hk(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function di(e,n){e.asyncQueue.verifyOperationInProgress(),sA("FirestoreClient","Initializing OfflineComponentProvider");let r=e.configuration;await n.initialize(r);let i=r.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await cF(n.localStore,e),i=e)}),n.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=n}async function da(e,n){e.asyncQueue.verifyOperationInProgress();let r=await ds(e);sA("FirestoreClient","Initializing OnlineComponentProvider"),await n.initialize(r,e.configuration),e.setCredentialChangeListener(e=>hw(n.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>hw(n.remoteStore,r)),e._onlineComponents=n}async function ds(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){sA("FirestoreClient","Using user provided OfflineComponentProvider");try{await di(e,e._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===n.name?n.code===sD.FAILED_PRECONDITION||n.code===sD.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw n;sN("Error using user provided cache. Falling back to memory cache: "+n),await di(e,new de)}}else sA("FirestoreClient","Using default OfflineComponentProvider"),await di(e,new de)}return e._offlineComponents}async function dl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sA("FirestoreClient","Using user provided OnlineComponentProvider"),await da(e,e._uninitializedComponentsProvider._online)):(sA("FirestoreClient","Using default OnlineComponentProvider"),await da(e,new dt))),e._onlineComponents}async function du(e){let n=await dl(e),r=n.eventManager;return r.onListen=hz.bind(null,n.syncEngine),r.onUnlisten=hW.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=h$.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=hK.bind(null,n.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e){let n={};return void 0!==e.timeoutSeconds&&(n.timeoutSeconds=e.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e,n,r){if(!r)throw new sL(sD.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${n}.`)}function df(e){if(!s0.isDocumentKey(e))throw new sL(sD.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dp(e){if(s0.isDocumentKey(e))throw new sL(sD.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var n;let r=(n=e).constructor?n.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":sO()}function dg(e,n){if("_delegate"in e&&(e=e._delegate),!(e instanceof n)){if(n.name===e.constructor.name)throw new sL(sD.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=dm(e);throw new sL(sD.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new sL(sD.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sL(sD.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,n,r,i){if(!0===n&&!0===i)throw new sL(sD.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dc(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sL(sD.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new sL(sD.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new sL(sD.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var n,r;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sL(sD.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sL(sD.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sF;switch(e.type){case"firstParty":return new sz(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sL(sD.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let n=dh.get(e);n&&(sA("ComponentProvider","Removing Datastore"),dh.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dw(this.firestore,e,this._query)}}class db{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new d_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new db(this.firestore,e,this._key)}}class d_ extends dw{constructor(e,n,r){super(e,n,new l2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new db(this.firestore,null,new s0(e))}withConverter(e){return new d_(this.firestore,e,this._path)}}function dE(e,n,...r){if(e=eJ(e),dd("collection","path",n),e instanceof dv){let i=sY.fromString(n,...r);return dp(i),new d_(e,null,i)}{if(!(e instanceof db||e instanceof d_))throw new sL(sD.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=e._path.child(sY.fromString(n,...r));return dp(i),new d_(e.firestore,null,i)}}function dS(e,n,...r){if(e=eJ(e),1==arguments.length&&(n=sq.newId()),dd("doc","path",n),e instanceof dv){let i=sY.fromString(n,...r);return df(i),new db(e,null,new s0(i))}{if(!(e instanceof db||e instanceof d_))throw new sL(sD.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=e._path.child(sY.fromString(n,...r));return df(i),new db(e.firestore,e instanceof d_?e.converter:null,new s0(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new c0(this,"async_queue_retry"),this.hu=()=>{let e=cJ();e&&sA("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};let e=cJ();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=cJ();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new sM;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!s5(e))throw e;sA("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(e=>{let n;throw this.au=e,this.uu=!1,sR("INTERNAL UNHANDLED ERROR: ",(n=e.message||"",e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n)),e}).then(e=>(this.uu=!1,e))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=hS.createAndSchedule(this,e,n,r,e=>this.Eu(e));return this._u.push(i),i}Pu(){this.au&&sO()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{for(let n of(this._u.sort((e,n)=>e.targetTimeMs-n.targetTimeMs),this._u))if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}}class dT extends dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dk,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dC(this),this._firestoreClient.terminate()}}function dI(e){return e._firestoreClient||dC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dC(e){var n,r,i,a;let o=e._freezeSettings(),s=(a=e._databaseId,new lg(a,(null===(n=e._app)||void 0===n?void 0:n.options.appId)||"",e._persistenceKey,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dc(o.experimentalLongPollingOptions),o.useFetchStreams));e._firestoreClient=new dr(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(r=o.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(i=o.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dx(ll.fromBase64String(e))}catch(e){throw new sL(sD.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dx(ll.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new sL(sD.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sZ(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new sL(sD.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new sL(sD.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sW(this._lat,e._lat)||sW(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^__.*__$/;class dO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new uP(e,this.data,this.fieldMask,n,this.fieldTransforms):new uN(e,this.data,n,this.fieldTransforms)}}function dD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sO()}}class dL{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.mu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new dL(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return d$(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(dD(this.fu)&&dP.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class dM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cZ(e)}Fu(e,n,r,i=!1){return new dL({fu:e,methodName:n,vu:r,path:sZ.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dU(e){let n=e._freezeSettings(),r=cZ(e._databaseId);return new dM(e._databaseId,!!n.ignoreUndefinedProperties,r)}function dF(e,n,r,i,a,o={}){let s,l;let u=e.Fu(o.merge||o.mergeFields?2:0,n,r,a);dB("Data must be an object, but it was:",u,i);let c=function e(n,r){let i={};return le(n)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):s7(n,(n,a)=>{let o=function n(r,i){if(dj(r=eJ(r)))return dB("Unsupported field value:",i,r),e(r,i);if(r instanceof dR)return function(e,n){if(!dD(n.fu))throw n.Du(`${e._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Du(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.yu&&4!==i.fu)throw i.Du("Nested arrays are not supported");return function(e,r){let i=[],a=0;for(let o of e){let e=n(o,r.bu(a));null==e&&(e={nullValue:"NULL_VALUE"}),i.push(e),a++}return{arrayValue:{values:i}}}(r,i)}return function(e,n){if(null===(e=eJ(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e){var r,i,a;return r=n.serializer,"number"==typeof(a=i=e)&&Number.isInteger(a)&&!s9(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER?uf(i):ud(r,i)}if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=sQ.fromDate(e);return{timestampValue:u8(n.serializer,r)}}if(e instanceof sQ){let r=new sQ(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:u8(n.serializer,r)}}if(e instanceof dN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dx)return{bytesValue:u7(n.serializer,e._byteString)};if(e instanceof db){let r=n.databaseId,i=e.firestore._databaseId;if(!i.isEqual(r))throw n.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ct(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n.Du(`Unsupported field value: ${dm(e)}`)}(r,i)}(a,r.pu(n));null!=o&&(i[n]=o)}),{mapValue:{fields:i}}}(i,u);if(o.merge)s=new lo(u.fieldMask),l=u.fieldTransforms;else if(o.mergeFields){let e=[];for(let i of o.mergeFields){let a=function(e,n,r){if((n=eJ(n))instanceof dA)return n._internalPath;if("string"==typeof n)return dz(e,n);throw d$("Field path arguments must be of type string or ",e,!1,void 0,r)}(n,i,r);if(!u.contains(a))throw new sL(sD.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);(function(e,n){return e.some(e=>e.isEqual(n))})(e,a)||e.push(a)}s=new lo(e),l=u.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,l=u.fieldTransforms;return new dO(new lP(c),s,l)}function dj(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sQ||e instanceof dN||e instanceof dx||e instanceof db||e instanceof dR)}function dB(e,n,r){if(!dj(r)||!("object"==typeof r&&null!==r&&(Object.getPrototypeOf(r)===Object.prototype||null===Object.getPrototypeOf(r)))){let i=dm(r);throw"an object"===i?n.Du(e+" a custom object"):n.Du(e+" "+i)}}const dV=RegExp("[~\\*/\\[\\]]");function dz(e,n,r){if(n.search(dV)>=0)throw d$(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new dA(...n.split("."))._internalPath}catch(i){throw d$(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function d$(e,n,r,i,a){let o=i&&!i.isEmpty(),s=void 0!==a,l=`Function ${n}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new sL(sD.INVALID_ARGUMENT,l+e+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new db(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new dq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(dW("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class dq extends dH{data(){return super.data()}}function dW(e,n){return"string"==typeof n?dz(e,n):n instanceof dA?n._internalPath:n._delegate._internalPath}class dK{convertValue(e,n="none"){switch(lw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw sO()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return s7(e,(e,i)=>{r[e]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new dN(lh(e.latitude),lh(e.longitude))}convertArray(e,n){return(e.values||[]).map(e=>this.convertValue(e,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=lp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lm(e));default:return null}}convertTimestamp(e){let n=lc(e);return new sQ(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=sY.fromString(e);cd(r)||sO();let i=new ly(r.get(1),r.get(3)),a=new s0(r.popFirst(5));return i.isEqual(n)||sR(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(e,n,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(n,r):e.toFirestore(n):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dX extends dH{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new dY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(dW("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dY extends dX{data(e={}){return super.data(e)}}class dJ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dG(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dY(this._firestore,this._userDataWriter,r.key,r,new dG(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new sL(sD.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(e,n){if(e._snapshot.oldDocs.isEmpty()){let n=0;return e._snapshot.docChanges.map(r=>{let i=new dY(e._firestore,e._userDataWriter,r.doc.key,r.doc,new dG(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>n||3!==e.type).map(n=>{let i=new dY(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dG(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,o=-1;return 0!==n.type&&(a=r.indexOf(n.doc.key),r=r.delete(n.doc.key)),1!==n.type&&(o=(r=r.add(n.doc)).indexOf(n.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sO()}}(n.type),doc:i,oldIndex:a,newIndex:o}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}class dZ extends dK{constructor(e){super(),this.firestore=e}convertBytes(e){return new dx(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new db(this.firestore,null,n)}}function d0(e){e=dg(e,dw);let n=dg(e.firestore,dT),r=dI(n),i=new dZ(n);return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sL(sD.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,n,r={}){let i=new sM;return e.asyncQueue.enqueueAndForget(async()=>(function(e,n,r,i,a){let o=new hL(r,new dn({next:r=>{n.enqueueAndForget(()=>hN(e,o)),r.fromCache&&"server"===i.source?a.reject(new sL(sD.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(r)},error:e=>a.reject(e)}),{includeMetadataChanges:!0,ra:!0});return hR(e,o)})(await du(e),e.asyncQueue,n,r,i)),i.promise})(r,e._query).then(r=>new dJ(n,i,e,r)))}function d1(e,n){return function(e,n){let r=new sM;return e.asyncQueue.enqueueAndForget(async()=>hQ(await dl(e).then(e=>e.syncEngine),n,r)),r.promise}(dI(e),n)}new WeakMap,function(e=!0){sI=tC,tE(new eZ("firestore",(n,{instanceIdentifier:r,options:i})=>{let a=n.getProvider("app").getImmediate(),o=new dT(new sB(n.getProvider("auth-internal")),new sH(n.getProvider("app-check-internal")),function(e,n){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sL(sD.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ly(e.options.projectId,n)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tR(sk,"4.6.4",void 0),tR(sk,"4.6.4","esm2017")}();const d2=tx({apiKey:"AIzaSyAZdkwgTDC8VxK12zBORcpZTB3vT1v5yI8",authDomain:"food-villa-d1cb0.firebaseapp.com",databaseURL:"https://food-villa-d1cb0-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"food-villa-d1cb0",storageBucket:"food-villa-d1cb0.appspot.com",messagingSenderId:"998330843147",appId:"1:998330843147:web:473738293e698bfc0fc70e"}),d4=function(e,n){let r=tS("object"==typeof e?e:tA(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!r._initialized){let e=eM("firestore");e&&function(e,n,r,i={}){var a;let o=(e=dg(e,dv))._getSettings(),s=`${n}:${r}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&sN("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let n,r;if("string"==typeof i.mockUserToken)n=i.mockUserToken,r=sT.MOCK_USER;else{n=eB(i.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);let o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new sL(sD.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new sT(o)}e._authCredentials=new sj(new sU(n,r))}}(r,...e)}return r}(d2);!function(e=tA(),n){let r=tS(e=eJ(e),oV).getImmediate({identifier:void 0}),i=eM("storage");i&&function(e,n,r,i={}){!function(e,n,r,i={}){e.host=`${n}:${r}`,e._protocol="http";let{mockUserToken:a}=i;a&&(e._overrideAuthToken="string"==typeof a?a:eB(a,e.app.options.projectId))}(e,n,r,i)}(r,...i)}(d2);const d3=ik();function d5(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var d6="function"==typeof Symbol&&Symbol.observable||"@@observable",d9=()=>Math.random().toString(36).substring(7).split("").join("."),d8={INIT:`@@redux/INIT${d9()}`,REPLACE:`@@redux/REPLACE${d9()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d9()}`};function d7(e){if("object"!=typeof e||null===e)return!1;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||null===Object.getPrototypeOf(e)}function fe(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,n)=>(...r)=>e(n(...r)))}var ft=Object.defineProperty,fn=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,fi=Object.prototype.propertyIsEnumerable,fa=(e,n,r)=>n in e?ft(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,fo=(e,n)=>{for(var r in n||(n={}))fr.call(n,r)&&fa(e,r,n[r]);if(fn)for(var r of fn(n))fi.call(n,r)&&fa(e,r,n[r]);return e},fs=Symbol.for("immer-nothing"),fl=Symbol.for("immer-draftable"),fu=Symbol.for("immer-state");function fc(e,...n){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fh=Object.getPrototypeOf;function fd(e){return!!e&&!!e[fu]}function ff(e){var n;return!!e&&(fm(e)||Array.isArray(e)||!!e[fl]||!!(null==(n=e.constructor)?void 0:n[fl])||fb(e)||f_(e))}var fp=Object.prototype.constructor.toString();function fm(e){if(!e||"object"!=typeof e)return!1;let n=fh(e);if(null===n)return!0;let r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===fp}function fg(e,n){0===fy(e)?Reflect.ownKeys(e).forEach(r=>{n(r,e[r],e)}):e.forEach((r,i)=>n(i,r,e))}function fy(e){let n=e[fu];return n?n.type_:Array.isArray(e)?1:fb(e)?2:f_(e)?3:0}function fv(e,n){return 2===fy(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function fw(e,n,r){let i=fy(e);2===i?e.set(n,r):3===i?e.add(r):e[n]=r}function fb(e){return e instanceof Map}function f_(e){return e instanceof Set}function fE(e){return e.copy_||e.base_}function fS(e,n){if(fb(e))return new Map(e);if(f_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=fm(e);if(!0!==n&&("class_only"!==n||r)){let n=fh(e);return null!==n&&r?fo({},e):Object.assign(Object.create(n),e)}{let n=Object.getOwnPropertyDescriptors(e);delete n[fu];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){let a=r[i],o=n[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(fh(e),n)}}function fk(e,n=!1){return fI(e)||fd(e)||!ff(e)||(fy(e)>1&&(e.set=e.add=e.clear=e.delete=fT),Object.freeze(e),n&&Object.entries(e).forEach(([e,n])=>fk(n,!0))),e}function fT(){fc(2)}function fI(e){return Object.isFrozen(e)}var fC={};function fx(e){let n=fC[e];return n||fc(0,e),n}function fA(e,n){n&&(fx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function fR(e){fN(e),e.drafts_.forEach(fO),e.drafts_=null}function fN(e){e===er&&(er=e.parent_)}function fP(e){return er={drafts_:[],parent_:er,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fO(e){let n=e[fu];0===n.type_||1===n.type_?n.revoke_():n.revoked_=!0}function fD(e,n){n.unfinalizedDrafts_=n.drafts_.length;let r=n.drafts_[0];return void 0!==e&&e!==r?(r[fu].modified_&&(fR(n),fc(4)),ff(e)&&(e=fL(n,e),n.parent_||fU(n,e)),n.patches_&&fx("Patches").generateReplacementPatches_(r[fu].base_,e,n.patches_,n.inversePatches_)):e=fL(n,r,[]),fR(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==fs?e:void 0}function fL(e,n,r){if(fI(n))return n;let i=n[fu];if(!i)return fg(n,(a,o)=>fM(e,i,n,a,o,r)),n;if(i.scope_!==e)return n;if(!i.modified_)return fU(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let n=i.copy_,a=n,o=!1;3===i.type_&&(a=new Set(n),n.clear(),o=!0),fg(a,(a,s)=>fM(e,i,n,a,s,r,o)),fU(e,n,!1),r&&e.patches_&&fx("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function fM(e,n,r,i,a,o,s){if(fd(a)){let s=fL(e,a,o&&n&&3!==n.type_&&!fv(n.assigned_,i)?o.concat(i):void 0);if(fw(r,i,s),!fd(s))return;e.canAutoFreeze_=!1}else s&&r.add(a);if(ff(a)&&!fI(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fL(e,a),(!n||!n.scope_.parent_)&&"symbol"!=typeof i&&Object.prototype.propertyIsEnumerable.call(r,i)&&fU(e,a)}}function fU(e,n,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fk(n,r)}var fF={get(e,n){if(n===fu)return e;let r=fE(e);if(!fv(r,n))return function(e,n,r){var i;let a=fV(n,r);return a?"value"in a?a.value:null==(i=a.get)?void 0:i.call(e.draft_):void 0}(e,r,n);let i=r[n];return e.finalized_||!ff(i)?i:i===fB(e.base_,n)?(f$(e),e.copy_[n]=fH(i,e)):i},has:(e,n)=>n in fE(e),ownKeys:e=>Reflect.ownKeys(fE(e)),set(e,n,r){let i=fV(fE(e),n);if(null==i?void 0:i.set)return i.set.call(e.draft_,r),!0;if(!e.modified_){let i=fB(fE(e),n),a=null==i?void 0:i[fu];if(a&&a.base_===r)return e.copy_[n]=r,e.assigned_[n]=!1,!0;if((r===i?0!==r||1/r==1/i:r!=r&&i!=i)&&(void 0!==r||fv(e.base_,n)))return!0;f$(e),fz(e)}return!!(e.copy_[n]===r&&(void 0!==r||n in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[n]))||(e.copy_[n]=r,e.assigned_[n]=!0,!0)},deleteProperty:(e,n)=>(void 0!==fB(e.base_,n)||n in e.base_?(e.assigned_[n]=!1,f$(e),fz(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0),getOwnPropertyDescriptor(e,n){let r=fE(e),i=Reflect.getOwnPropertyDescriptor(r,n);return i?{writable:!0,configurable:1!==e.type_||"length"!==n,enumerable:i.enumerable,value:r[n]}:i},defineProperty(){fc(11)},getPrototypeOf:e=>fh(e.base_),setPrototypeOf(){fc(12)}},fj={};function fB(e,n){let r=e[fu];return(r?fE(r):e)[n]}function fV(e,n){if(!(n in e))return;let r=fh(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=fh(r)}}function fz(e){!e.modified_&&(e.modified_=!0,e.parent_&&fz(e.parent_))}function f$(e){e.copy_||(e.copy_=fS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function fH(e,n){let r=fb(e)?fx("MapSet").proxyMap_(e,n):f_(e)?fx("MapSet").proxySet_(e,n):function(e,n){let r=Array.isArray(e),i={type_:r?1:0,scope_:n?n.scope_:er,modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=i,o=fF;r&&(a=[i],o=fj);let{revoke:s,proxy:l}=Proxy.revocable(a,o);return i.draft_=l,i.revoke_=s,l}(e,n);return(n?n.scope_:er).drafts_.push(r),r}function fq(e){return fd(e)||fc(10,e),function e(n){let r;if(!ff(n)||fI(n))return n;let i=n[fu];if(i){if(!i.modified_)return i.base_;i.finalized_=!0,r=fS(n,i.scope_.immer_.useStrictShallowCopy_)}else r=fS(n,!0);return fg(r,(n,i)=>{fw(r,n,e(i))}),i&&(i.finalized_=!1),r}(e)}fg(fF,(e,n)=>{fj[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),fj.deleteProperty=function(e,n){return fj.set.call(this,e,n,void 0)},fj.set=function(e,n,r){return fF.set.call(this,e[0],n,r,e[0])};var fW=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{let i;if("function"==typeof e&&"function"!=typeof n){let r=n;n=e;let i=this;return function(e=r,...a){return i.produce(e,e=>n.call(this,e,...a))}}if("function"!=typeof n&&fc(6),void 0!==r&&"function"!=typeof r&&fc(7),ff(e)){let a=fP(this),o=fH(e,void 0),s=!0;try{i=n(o),s=!1}finally{s?fR(a):fN(a)}return fA(a,r),fD(i,a)}if(e&&"object"==typeof e)fc(1,e);else{if(void 0===(i=n(e))&&(i=e),i===fs&&(i=void 0),this.autoFreeze_&&fk(i,!0),r){let n=[],a=[];fx("Patches").generateReplacementPatches_(e,i,n,a),r(n,a)}return i}},this.produceWithPatches=(e,n)=>{let r,i;return"function"==typeof e?(n,...r)=>this.produceWithPatches(n,n=>e(n,...r)):[this.produce(e,n,(e,n)=>{r=e,i=n}),r,i]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ff(e)||fc(8),fd(e)&&(e=fq(e));let n=fP(this),r=fH(e,void 0);return r[fu].isManual_=!0,fN(n),r}finishDraft(e,n){let r=e&&e[fu];r&&r.isManual_||fc(9);let{scope_:i}=r;return fA(i,n),fD(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){let i=n[r];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}r>-1&&(n=n.slice(r+1));let i=fx("Patches").applyPatches_;return fd(e)?i(e,n):this.produce(e,e=>i(e,n))}},fK=fW.produce;fW.produceWithPatches.bind(fW),fW.setAutoFreeze.bind(fW),fW.setUseStrictShallowCopy.bind(fW),fW.applyPatches.bind(fW),fW.createDraft.bind(fW),fW.finishDraft.bind(fW);var fQ=Object.defineProperty,fG=Object.getOwnPropertySymbols,fX=Object.prototype.hasOwnProperty,fY=Object.prototype.propertyIsEnumerable,fJ=(e,n,r)=>n in e?fQ(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,fZ=(e,n)=>{for(var r in n||(n={}))fX.call(n,r)&&fJ(e,r,n[r]);if(fG)for(var r of fG(n))fY.call(n,r)&&fJ(e,r,n[r]);return e},f0=(e,n,r)=>(fJ(e,"symbol"!=typeof n?n+"":n,r),r),f1=e=>Array.isArray(e)?e:[e],f2=0,f4=class{constructor(e,n=f3){f0(this,"revision",f2),f0(this,"_value"),f0(this,"_lastValue"),f0(this,"_isEqual",f3),this._value=this._lastValue=e,this._isEqual=n}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++f2)}};function f3(e,n){return e===n}function f5(e){return e instanceof f4||console.warn("Not a valid cell! ",e),e.value}var f6=(e,n)=>!1;function f9(){return function(e,n=f3){return new f4(null,n)}(0,f6)}var f8=e=>{let n=e.collectionTag;null===n&&(n=e.collectionTag=f9()),f5(n)};Symbol();var f7=0,pe=Object.getPrototypeOf({}),pt=class{constructor(e){this.value=e,f0(this,"proxy",new Proxy(this,pn)),f0(this,"tag",f9()),f0(this,"tags",{}),f0(this,"children",{}),f0(this,"collectionTag",null),f0(this,"id",f7++),this.value=e,this.tag.value=e}},pn={get:(e,n)=>(function(){let{value:r}=e,i=Reflect.get(r,n);if("symbol"==typeof n||n in pe)return i;if("object"==typeof i&&null!==i){let r=e.children[n];return void 0===r&&(r=e.children[n]=Array.isArray(i)?new pr(i):new pt(i)),r.tag&&f5(r.tag),r.proxy}{let r=e.tags[n];return void 0===r&&((r=e.tags[n]=f9()).value=i),f5(r),i}})(),ownKeys:e=>(f8(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,n)=>Reflect.getOwnPropertyDescriptor(e.value,n),has:(e,n)=>Reflect.has(e.value,n)},pr=class{constructor(e){this.value=e,f0(this,"proxy",new Proxy([this],pi)),f0(this,"tag",f9()),f0(this,"tags",{}),f0(this,"children",{}),f0(this,"collectionTag",null),f0(this,"id",f7++),this.value=e,this.tag.value=e}},pi={get:([e],n)=>("length"===n&&f8(e),pn.get(e,n)),ownKeys:([e])=>pn.ownKeys(e),getOwnPropertyDescriptor:([e],n)=>pn.getOwnPropertyDescriptor(e,n),has:([e],n)=>pn.has(e,n)},pa="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function po(){return{s:0,v:void 0,o:null,p:null}}function ps(e,n={}){let r,i=po(),{resultEqualityCheck:a}=n,o=0;function s(){var n,s;let l;let u=i,{length:c}=arguments;for(let e=0;e<c;e++){let n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=u.o;null===e&&(u.o=e=new WeakMap);let r=e.get(n);void 0===r?(u=po(),e.set(n,u)):u=r}else{let e=u.p;null===e&&(u.p=e=new Map);let r=e.get(n);void 0===r?(u=po(),e.set(n,u)):u=r}}let h=u;if(1===u.s)l=u.v;else if(l=e.apply(null,arguments),o++,a){let e=null!=(s=null==(n=null==r?void 0:r.deref)?void 0:n.call(r))?s:r;null!=e&&a(e,l)&&(l=e,0!==o&&o--),r="object"==typeof l&&null!==l||"function"==typeof l?new pa(l):l}return h.s=1,h.v=l,l}return s.clearCache=()=>{i=po(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function pl(e,...n){let r="function"==typeof e?{memoize:e,memoizeOptions:n}:e,i=(...e)=>{let n,i=0,a=0,o={},s=e.pop();"object"==typeof s&&(o=s,s=e.pop()),function(e,n=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(n)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);let{memoize:l,memoizeOptions:u=[],argsMemoize:c=ps,argsMemoizeOptions:h=[],devModeChecks:d={}}=fZ(fZ({},r),o),f=f1(u),p=f1(h),m=function(e){let n=Array.isArray(e[0])?e[0]:e;return!function(e,n="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${n}[${r}]`)}}(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}(e),g=l(function(){return i++,s.apply(null,arguments)},...f);return Object.assign(c(function(){a++;let e=function(e,n){let r=[],{length:i}=e;for(let a=0;a<i;a++)r.push(e[a].apply(null,n));return r}(m,arguments);return n=g.apply(null,e)},...p),{resultFunc:s,memoizedResultFunc:g,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:c})};return Object.assign(i,{withTypes:()=>i}),i}var pu=pl(ps),pc=Object.assign((e,n=pu)=>{!function(e,n=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(n)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return n(r.map(n=>e[n]),(...e)=>e.reduce((e,n,i)=>(e[r[i]]=n,e),{}))},{withTypes:()=>pc});function ph(e){return({dispatch:n,getState:r})=>i=>a=>"function"==typeof a?a(n,r,e):i(a)}var pd=ph(),pf=Object.defineProperty,pp=Object.defineProperties,pm=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,py=Object.prototype.hasOwnProperty,pv=Object.prototype.propertyIsEnumerable,pw=(e,n,r)=>n in e?pf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,pb=(e,n)=>{for(var r in n||(n={}))py.call(n,r)&&pw(e,r,n[r]);if(pg)for(var r of pg(n))pv.call(n,r)&&pw(e,r,n[r]);return e},p_=(e,n)=>pp(e,pm(n)),pE=(e,n)=>{var r={};for(var i in e)py.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&pg)for(var i of pg(e))0>n.indexOf(i)&&pv.call(e,i)&&(r[i]=e[i]);return r};((...e)=>{let n=pl(...e),r=Object.assign((...e)=>{let r=n(...e),i=(e,...n)=>r(fd(e)?fq(e):e,...n);return Object.assign(i,r),i},{withTypes:()=>r})})(ps);var pS="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?fe:fe.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function pk(e,n){function r(...i){if(n){let r=n(...i);if(!r)throw Error(pW(0));return pb(pb({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:i[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>d7(n)&&"type"in n&&"string"==typeof n.type&&n.type===e,r}var pT=class e extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...n){return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function pI(e){return ff(e)?fK(e,()=>{}):e}function pC(e,n,r){if(e.has(n)){let i=e.get(n);return r.update&&(i=r.update(i,n,e),e.set(n,i)),i}if(!r.insert)throw Error(pW(10));let i=r.insert(n,e);return e.set(n,i),i}var px=()=>function(e){let{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=null!=e?e:{},o=new pT;return n&&("boolean"==typeof n?o.push(pd):o.push(ph(n.extraArgument))),o},pA=e=>n=>{setTimeout(n,e)},pR="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:pA(10),pN=(e={type:"raf"})=>n=>(...r)=>{let i=n(...r),a=!0,o=!1,s=!1,l=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?pR:"callback"===e.type?e.queueNotification:pA(e.timeout),c=()=>{s=!1,o&&(o=!1,l.forEach(e=>e()))};return Object.assign({},i,{subscribe(e){let n=i.subscribe(()=>a&&e());return l.add(e),()=>{n(),l.delete(e)}},dispatch(e){var n;try{return(o=!(a=!(null==(n=null==e?void 0:e.meta)?void 0:n.RTK_autoBatch)))&&!s&&(s=!0,u(c)),i.dispatch(e)}finally{a=!0}}})},pP=e=>function(n){let{autoBatch:r=!0}=null!=n?n:{},i=new pT(e);return r&&i.push(pN("object"==typeof r?r:void 0)),i};function pO(e){let n;let r={},i=[],a={addCase(e,n){let i="string"==typeof e?e:e.type;if(!i)throw Error(pW(28));if(i in r)throw Error(pW(29));return r[i]=n,a},addMatcher:(e,n)=>(i.push({matcher:e,reducer:n}),a),addDefaultCase:e=>(n=e,a)};return e(a),[r,i,n]}var pD=(e=21)=>{let n="",r=e;for(;r--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return n},pL=Symbol.for("rtk-slice-createasyncthunk"),pM=((w=pM||{}).reducer="reducer",w.reducerWithPrepare="reducerWithPrepare",w.asyncThunk="asyncThunk",w),pU=function({creators:e}={}){var n;let r=null==(n=null==e?void 0:e.asyncThunk)?void 0:n[pL];return function(e){let n;let{name:i,reducerPath:a=i}=e;if(!i)throw Error(pW(11));let o=("function"==typeof e.reducers?e.reducers(function(){function e(e,n){return pb({_reducerDefinitionType:"asyncThunk",payloadCreator:e},n)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...n)=>e(...n)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,n)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(o),l={},u={},c={},h=[],d={addCase(e,n){let r="string"==typeof e?e:e.type;if(!r)throw Error(pW(12));if(r in u)throw Error(pW(13));return u[r]=n,d},addMatcher:(e,n)=>(h.push({matcher:e,reducer:n}),d),exposeAction:(e,n)=>(c[e]=n,d),exposeCaseReducer:(e,n)=>(l[e]=n,d)};function f(){let[n={},r=[],i]="function"==typeof e.extraReducers?pO(e.extraReducers):[e.extraReducers],a=pb(pb({},n),u);return function(e,n){let r,[i,a,o]=pO(n);if("function"==typeof e)r=()=>pI(e());else{let n=pI(e);r=()=>n}function s(e=r(),n){let l=[i[n.type],...a.filter(({matcher:e})=>e(n)).map(({reducer:e})=>e)];return 0===l.filter(e=>!!e).length&&(l=[o]),l.reduce((e,r)=>{if(r){if(fd(e)){let i=r(e,n);return void 0===i?e:i}if(ff(e))return fK(e,e=>r(e,n));{let i=r(e,n);if(void 0===i){if(null===e)return e;throw Error(pW(9))}return i}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let n in a)e.addCase(n,a[n]);for(let n of h)e.addMatcher(n.matcher,n.reducer);for(let n of r)e.addMatcher(n.matcher,n.reducer);i&&e.addDefaultCase(i)})}s.forEach(n=>{let a=o[n],s={reducerName:n,type:`${i}/${n}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===a._reducerDefinitionType?function({type:e,reducerName:n},r,i,a){if(!a)throw Error(pW(18));let{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:c,options:h}=r,d=a(e,o,h);i.exposeAction(n,d),s&&i.addCase(d.fulfilled,s),l&&i.addCase(d.pending,l),u&&i.addCase(d.rejected,u),c&&i.addMatcher(d.settled,c),i.exposeCaseReducer(n,{fulfilled:s||pF,pending:l||pF,rejected:u||pF,settled:c||pF})}(s,a,d,r):function({type:e,reducerName:n,createNotation:r},i,a){let o,s;if("reducer"in i){if(r&&"reducerWithPrepare"!==i._reducerDefinitionType)throw Error(pW(17));o=i.reducer,s=i.prepare}else o=i;a.addCase(e,o).exposeCaseReducer(n,o).exposeAction(n,s?pk(e,s):pk(e))}(s,a,d)});let p=e=>e,m=new Map;function g(e,r){return n||(n=f()),n(e,r)}function y(){return n||(n=f()),n.getInitialState()}function v(n,r=!1){function i(e){let i=e[n];return void 0===i&&r&&(i=y()),i}function a(n=p){let i=pC(m,r,{insert:()=>new WeakMap});return pC(i,n,{insert:()=>{var i;let a={};for(let[o,s]of Object.entries(null!=(i=e.selectors)?i:{}))a[o]=function(e,n,r,i){function a(o,...s){let l=n(o);return void 0===l&&i&&(l=r()),e(l,...s)}return a.unwrapped=e,a}(s,n,y,r);return a}})}return{reducerPath:n,getSelectors:a,get selectors(){return a(i)},selectSlice:i}}let w=p_(pb({name:i,reducer:g,actions:c,caseReducers:l,getInitialState:y},v(a)),{injectInto(e,n={}){var{reducerPath:r}=n,i=pE(n,["reducerPath"]);let o=null!=r?r:a;return e.inject({reducerPath:o,reducer:g},i),pb(pb({},w),v(o,!0))}});return w}}();function pF(){}var pj=(e,n)=>{if("function"!=typeof e)throw Error(pW(32))},{assign:pB}=Object,pV="listenerMiddleware",pz=e=>{let{type:n,actionCreator:r,matcher:i,predicate:a,effect:o}=e;if(n)a=pk(n).match;else if(r)n=r.type,a=r.match;else if(i)a=i;else if(a);else throw Error(pW(21));return pj(o,"options.listener"),{predicate:a,type:n,effect:o}},p$=Object.assign(e=>{let{type:n,predicate:r,effect:i}=pz(e);return{id:pD(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(pW(22))}}},{withTypes:()=>p$}),pH=Object.assign(pk(`${pV}/add`),{withTypes:()=>pH});pk(`${pV}/removeAll`);var pq=Object.assign(pk(`${pV}/remove`),{withTypes:()=>pq});function pW(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");const pK=async(e,n)=>{await function(e,n,r){e=dg(e,db);let i=dg(e.firestore,dT),a=dQ(e.converter,n,void 0);return d1(i,[dF(dU(i),"setDoc",e._key,a,null!==e.converter,void 0).toMutation(e._key,uT.none())])}(dS(d4,"users",e,"savedItems",n.id),n)},pQ=async(e,n)=>{var r;await d1(dg((r=dS(d4,"users",e,"savedItems",n)).firestore,dT),[new uM(r._key,uT.none())])},pG=async e=>(await d0(dE(d4,"users",e,"savedItems"))).docs.map(e=>e.data()),pX=pU({name:"fav",initialState:{items:[],userId:null},reducers:{setUserId:(e,n)=>{e.userId=n.payload},setItems:(e,n)=>{e.items=n.payload},addItem:(e,n)=>{e.items.some(e=>e.id===n.payload.id)||(e.items.push(n.payload),pK(e.userId,n.payload))},removeItem:(e,n)=>{e.items=e.items.filter(e=>e.id!==n.payload),pQ(e.userId,n.payload)}}}),{setUserId:pY,setItems:pJ,addItem:pZ,removeItem:p0}=pX.actions;var p1=pX.reducer;const p2=()=>(0,eu.jsx)("img",{className:"h-24 md:h-28 p-2",alt:"logo",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSRq_LmiEG7PEV3p9MGjSYDxsn1BzvEy5fEdg&s"});var p4=()=>{let[e,n]=(0,iT.useState)(!1),r=oT(),i=aW();(0,iT.useEffect)(()=>{var e;let a=(e=e=>{if(e){n(!0);let a=e.uid;r(pY(a)),pG(a).then(e=>{r(pJ(e))}),i("/")}else n(!1),i("/login")},eJ(d3).onAuthStateChanged(e,void 0,void 0));return()=>a()},[r,i]);let a=oy(e=>e.fav.items);return(console.log(a),e)?(0,eu.jsx)("header",{className:"bg-yellow-100 shadow-lg p-4",children:(0,eu.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:[(0,eu.jsx)(p2,{}),(0,eu.jsx)("nav",{className:"mt-4 md:mt-0",children:(0,eu.jsxs)("ul",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4",children:[(0,eu.jsx)("li",{children:(0,eu.jsx)(os,{to:"/",className:"text-lg hover:text-gray-400",children:"Home"})}),(0,eu.jsx)("li",{children:(0,eu.jsx)(os,{to:"/about",className:"text-lg hover:text-gray-400",children:"About us"})}),(0,eu.jsx)("li",{children:(0,eu.jsx)(os,{to:"/contact",className:"text-lg hover:text-gray-400",children:"Contact"})}),(0,eu.jsx)("li",{children:(0,eu.jsxs)(os,{to:"/cart",className:"text-lg hover:text-gray-400",children:["Saved - ",a.length," items"]})})]})}),(0,eu.jsx)("button",{onClick:()=>{eJ(d3).signOut().then(()=>{}).catch(e=>{console.error("Sign-out error:",e)})},className:"mt-4 md:mt-0 bg-red-500 hover:bg-red-700 text-white p-2 rounded-md",children:"Sign Out"})]})}):null},iT=es("acw62"),p3=()=>(0,eu.jsx)("div",{className:"restaurant-list flex flex-wrap justify-center gap-x-10 gap-y-6 mt-[105px]",children:Array(20).fill("").map((e,n)=>(0,eu.jsx)("div",{className:"shimmer-card h-[200px] w-[200px]   bg-gray-300"},n))});const p5=({name:e,category:n,imgUrl:r,instructions:i})=>(0,eu.jsxs)("div",{className:"card w-52 transition-transform transform hover:scale-110 p-2 m-5 shadow-lg bg-pink-50 border-2 rounded-xl flex flex-col",children:[(0,eu.jsx)("img",{className:"w-full h-48  object-cover mb-2",src:r||"https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cmVjaXBlfGVufDB8fDB8fHww",alt:e}),(0,eu.jsx)("h2",{className:"font-bold text-xl",children:e}),(0,eu.jsx)("h3",{className:"whitespace-normal break-words",children:n})]});es("acw62");var p6=()=>(0,eu.jsx)("footer",{className:"bg-black text-white py-8",children:(0,eu.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,eu.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eu.jsxs)("div",{className:"flex items-center",children:[(0,eu.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSRq_LmiEG7PEV3p9MGjSYDxsn1BzvEy5fEdg&s",alt:"Logo",className:"h-12 mr-3"}),(0,eu.jsx)("span",{className:"text-2xl font-bold",children:"Food Villa"})]}),(0,eu.jsxs)("div",{className:"flex space-x-8",children:[(0,eu.jsx)(os,{className:"text-white hover:text-gray-400",children:"Home"}),(0,eu.jsx)(os,{className:"text-white hover:text-gray-400",children:"About Us"}),(0,eu.jsx)(os,{className:"text-white hover:text-gray-400",children:"Contact"}),(0,eu.jsx)(os,{className:"text-white hover:text-gray-400",children:"Privacy Policy"})]})]}),(0,eu.jsxs)("div",{className:"mt-6 flex justify-center space-x-6",children:[(0,eu.jsxs)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-400",children:[(0,eu.jsx)("i",{className:"fab fa-facebook-f"})," "]}),(0,eu.jsxs)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-400",children:[(0,eu.jsx)("i",{className:"fab fa-twitter"})," "]}),(0,eu.jsxs)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-400",children:[(0,eu.jsx)("i",{className:"fab fa-instagram"})," "]}),(0,eu.jsxs)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-400",children:[(0,eu.jsx)("i",{className:"fab fa-linkedin-in"})," "]})]}),(0,eu.jsxs)("div",{className:"text-center text-gray-400 text-sm mt-6",children:[" ",new Date().getFullYear()," Food Villa. All rights reserved."]})]})});es("acw62"),es("acw62");const p9=e=>{try{let n=JSON.stringify(e);localStorage.setItem("favItems",n)}catch(e){}},p8=function(e){let n,r;let i=px(),{reducer:a,middleware:o,devTools:s=!0,preloadedState:l,enhancers:u}=e||{};if("function"==typeof a)n=a;else if(d7(a))n=function(e){let n;let r=Object.keys(e),i={};for(let n=0;n<r.length;n++){let a=r[n];"function"==typeof e[a]&&(i[a]=e[a])}let a=Object.keys(i);try{!function(e){Object.keys(e).forEach(n=>{let r=e[n];if(void 0===r(void 0,{type:d8.INIT}))throw Error(d5(12));if(void 0===r(void 0,{type:d8.PROBE_UNKNOWN_ACTION()}))throw Error(d5(13))})}(i)}catch(e){n=e}return function(e={},r){if(n)throw n;let o=!1,s={};for(let n=0;n<a.length;n++){let l=a[n],u=i[l],c=e[l],h=u(c,r);if(void 0===h)throw r&&r.type,Error(d5(14));s[l]=h,o=o||h!==c}return(o=o||a.length!==Object.keys(e).length)?s:e}}(a);else throw Error(pW(1));r="function"==typeof o?o(i):i();let c=fe;s&&(c=pS(pb({trace:!1},"object"==typeof s&&s)));let h=pP(function(...e){return n=>(r,i)=>{let a=n(r,i),o=()=>{throw Error(d5(15))},s={getState:a.getState,dispatch:(e,...n)=>o(e,...n)};return o=fe(...e.map(e=>e(s)))(a.dispatch),{...a,dispatch:o}}}(...r));return function e(n,r,i){if("function"!=typeof n)throw Error(d5(2));if("function"==typeof r&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw Error(d5(0));if("function"==typeof r&&void 0===i&&(i=r,r=void 0),void 0!==i){if("function"!=typeof i)throw Error(d5(1));return i(e)(n,r)}let a=n,o=r,s=new Map,l=s,u=0,c=!1;function h(){l===s&&(l=new Map,s.forEach((e,n)=>{l.set(n,e)}))}function d(){if(c)throw Error(d5(3));return o}function f(e){if("function"!=typeof e)throw Error(d5(4));if(c)throw Error(d5(5));let n=!0;h();let r=u++;return l.set(r,e),function(){if(n){if(c)throw Error(d5(6));n=!1,h(),l.delete(r),s=null}}}function p(e){if(!d7(e))throw Error(d5(7));if(void 0===e.type)throw Error(d5(8));if("string"!=typeof e.type)throw Error(d5(17));if(c)throw Error(d5(9));try{c=!0,o=a(o,e)}finally{c=!1}return(s=l).forEach(e=>{e()}),e}return p({type:d8.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw Error(d5(10));a=e,p({type:d8.REPLACE})},[d6]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(d5(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:f(n)}},[d6](){return this}}}}}(n,l,c(..."function"==typeof u?u(h):h()))}({reducer:{fav:p1},preloadedState:(()=>{try{let e=localStorage.getItem("favItems");if(null===e)return;return JSON.parse(e)}catch(e){return}})()});p8.subscribe(()=>{p9({fav:p8.getState().fav})});var iT=es("acw62");const p7=(e,n)=>{let r=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/.test(e),i=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(n);return r?i?null:"Password is not valid":"Email ID is not valid"};var iT=es("acw62");const me=async e=>{let n=new FormData;n.append("file",e),n.append("upload_preset","yekdqhpc"),n.append("cloud_name","dtkn9lef8");let r=await fetch("https://api.cloudinary.com/v1_1/dtkn9lef8/image/upload",{method:"post",body:n});return await r.json()};function mt(e,n){return new Promise(function(r,i){let a;return mn(e).then(function(e){try{return a=e,r(new Blob([n.slice(0,2),a,n.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}const mn=e=>new Promise((n,r)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),a=0;if(65496!==i.getUint16(a))return r("not a valid JPEG");for(a+=2;;){let o=i.getUint16(a);if(65498===o)break;let s=i.getUint16(a+2);if(65505===o&&1165519206===i.getUint32(a+4)){let o;let l=a+10;switch(i.getUint16(l)){case 18761:o=!0;break;case 19789:o=!1;break;default:return r("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,o))return r("TIFF header contains invalid version");let u=i.getUint32(l+4,o),c=l+u+2+12*i.getUint16(l+u,o);for(let e=l+u+2;e<c;e+=12)if(274==i.getUint16(e,o)){if(3!==i.getUint16(e+2,o))return r("Orientation data type is invalid");if(1!==i.getUint32(e+4,o))return r("Orientation data count is invalid");i.setUint16(e+8,1,o);break}return n(e.slice(a,a+2+s))}a+=2+s}return n(new Blob)}),i.readAsArrayBuffer(e)});var mr={};E={},({get exports(){return mr},set exports(t){mr=t}}).exports=E,E.parse=function(e,n){for(var r=E.bin.readUshort,i=E.bin.readUint,a=0,o={},s=new Uint8Array(e),l=s.length-4;101010256!=i(s,l);)l--;var u=r(s,a=l+4+4);r(s,a+=2);var c=i(s,a+=2),h=i(s,a+=4);a+=4,a=h;for(var d=0;d<u;d++){i(s,a),i(s,a+=16),c=i(s,a+=4);var f=i(s,a+=4),p=r(s,a+=4),m=r(s,a+2),g=r(s,a+4),y=i(s,a+=14);a+=4+(p+m+g),E._readLocal(s,y,o,c,f,n)}return o},E._readLocal=function(e,n,r,i,a,o){var s=E.bin.readUshort,l=E.bin.readUint;l(e,n),s(e,n+=4),s(e,n+=2);var u=s(e,n+=2);l(e,n+=2),l(e,n+=4);var c=s(e,n+=12),h=s(e,n+=2);n+=2;var d=E.bin.readUTF8(e,n,c);if(n+=c+h,o)r[d]={size:a,csize:i};else{var f=new Uint8Array(e.buffer,n);if(0==u)r[d]=new Uint8Array(f.buffer.slice(n,n+i));else{if(8!=u)throw"unknown compression method: "+u;var p=new Uint8Array(a);E.inflateRaw(f,p),r[d]=p}}},E.inflateRaw=function(e,n){return E.F.inflate(e,n)},E.inflate=function(e,n){return e[0],e[1],E.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),n)},E.deflate=function(e,n){null==n&&(n={level:6});var r=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[r]=120,i[r+1]=156,r+=2,r=E.F.deflateRaw(e,i,r,n.level);var a=E.adler(e,0,e.length);return i[r+0]=a>>>24&255,i[r+1]=a>>>16&255,i[r+2]=a>>>8&255,i[r+3]=a>>>0&255,new Uint8Array(i.buffer,0,r+4)},E.deflateRaw=function(e,n){null==n&&(n={level:6});var r=new Uint8Array(50+Math.floor(1.1*e.length)),i=E.F.deflateRaw(e,r,i,n.level);return new Uint8Array(r.buffer,0,i)},E.encode=function(e,n){null==n&&(n=!1);var r=0,i=E.bin.writeUint,a=E.bin.writeUshort,o={};for(var s in e){var l=!E._noNeed(s)&&!n,u=e[s],c=E.crc.crc(u,0,u.length);o[s]={cpr:l,usize:u.length,crc:c,file:l?E.deflateRaw(u):u}}for(var s in o)r+=o[s].file.length+30+46+2*E.bin.sizeUTF8(s);var h=new Uint8Array(r+=22),d=0,f=[];for(var s in o){var p=o[s];f.push(d),d=E._writeHeader(h,d,s,p,0)}var m=0,g=d;for(var s in o)p=o[s],f.push(d),d=E._writeHeader(h,d,s,p,1,f[m++]);var y=d-g;return i(h,d,101010256),a(h,d+=8,m),a(h,d+=2,m),i(h,d+=2,y),i(h,d+=4,g),d+=6,h.buffer},E._noNeed=function(e){var n=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(n)},E._writeHeader=function(e,n,r,i,a,o){var s=E.bin.writeUint,l=E.bin.writeUshort,u=i.file;return s(e,n,0==a?67324752:33639248),n+=4,1==a&&(n+=2),l(e,n,20),l(e,n+=2,0),l(e,n+=2,i.cpr?8:0),s(e,n+=2,0),s(e,n+=4,i.crc),s(e,n+=4,u.length),s(e,n+=4,i.usize),l(e,n+=4,E.bin.sizeUTF8(r)),l(e,n+=2,0),n+=2,1==a&&(s(e,n+=10,o),n+=4),n+=E.bin.writeUTF8(e,n,r),0==a&&(e.set(u,n),n+=u.length),n},E.crc={table:function(){for(var e=new Uint32Array(256),n=0;n<256;n++){for(var r=n,i=0;i<8;i++)1&r?r=3988292384^r>>>1:r>>>=1;e[n]=r}return e}(),update:function(e,n,r,i){for(var a=0;a<i;a++)e=E.crc.table[255&(e^n[r+a])]^e>>>8;return e},crc:function(e,n,r){return 4294967295^E.crc.update(4294967295,e,n,r)}},E.adler=function(e,n,r){for(var i=1,a=0,o=n,s=n+r;o<s;){for(var l=Math.min(o+5552,s);o<l;)a+=i+=e[o++];i%=65521,a%=65521}return a<<16|i},E.bin={readUshort:function(e,n){return e[n]|e[n+1]<<8},writeUshort:function(e,n,r){e[n]=255&r,e[n+1]=r>>8&255},readUint:function(e,n){return 16777216*e[n+3]+(e[n+2]<<16|e[n+1]<<8|e[n])},writeUint:function(e,n,r){e[n]=255&r,e[n+1]=r>>8&255,e[n+2]=r>>16&255,e[n+3]=r>>24&255},readASCII:function(e,n,r){for(var i="",a=0;a<r;a++)i+=String.fromCharCode(e[n+a]);return i},writeASCII:function(e,n,r){for(var i=0;i<r.length;i++)e[n+i]=r.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,n,r){for(var i,a="",o=0;o<r;o++)a+="%"+E.bin.pad(e[n+o].toString(16));try{i=decodeURIComponent(a)}catch(i){return E.bin.readASCII(e,n,r)}return i},writeUTF8:function(e,n,r){for(var i=r.length,a=0,o=0;o<i;o++){var s=r.charCodeAt(o);if(0==(4294967168&s))e[n+a]=s,a++;else if(0==(4294965248&s))e[n+a]=192|s>>6,e[n+a+1]=128|s>>0&63,a+=2;else if(0==(4294901760&s))e[n+a]=224|s>>12,e[n+a+1]=128|s>>6&63,e[n+a+2]=128|s>>0&63,a+=3;else{if(0!=(4292870144&s))throw"e";e[n+a]=240|s>>18,e[n+a+1]=128|s>>12&63,e[n+a+2]=128|s>>6&63,e[n+a+3]=128|s>>0&63,a+=4}}return a},sizeUTF8:function(e){for(var n=e.length,r=0,i=0;i<n;i++){var a=e.charCodeAt(i);if(0==(4294967168&a))r++;else if(0==(4294965248&a))r+=2;else if(0==(4294901760&a))r+=3;else{if(0!=(4292870144&a))throw"e";r+=4}}return r}},E.F={},E.F.deflateRaw=function(e,n,r,i){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],o=E.F.U,s=E.F._goodIndex;E.F._hash;var l=E.F._putsE,u=0,c=r<<3,h=0,d=e.length;if(0==i){for(;u<d;)l(n,c,u+(T=Math.min(65535,d-u))==d?1:0),c=E.F._copyExact(e,u,T,n,c+8),u+=T;return c>>>3}var f=o.lits,p=o.strt,m=o.prev,g=0,y=0,v=0,w=0,b=0,_=0;for(d>2&&(p[_=E.F._hash(e,0)]=0),u=0;u<d;u++){if(b=_,u+1<d-2){_=E.F._hash(e,u+1);var S=u+1&32767;m[S]=p[_],p[_]=S}if(h<=u){(g>14e3||y>26697)&&d-u>100&&(h<u&&(f[g]=u-h,g+=2,h=u),c=E.F._writeBlock(u==d-1||h==d?1:0,f,g,w,e,v,u-v,n,c),g=y=w=0,v=u);var k=0;u<d-2&&(k=E.F._bestMatch(e,u,m,b,Math.min(a[2],d-u),a[3]));var T=k>>>16,I=65535&k;if(0!=k){I=65535&k;var C=s(T=k>>>16,o.of0);o.lhst[257+C]++;var x=s(I,o.df0);o.dhst[x]++,w+=o.exb[C]+o.dxb[x],f[g]=T<<23|u-h,f[g+1]=I<<16|C<<8|x,g+=2,h=u+T}else o.lhst[e[u]]++;y++}}for(v==u&&0!=e.length||(h<u&&(f[g]=u-h,g+=2,h=u),c=E.F._writeBlock(1,f,g,w,e,v,u-v,n,c),g=0,y=0,g=y=w=0,v=u);0!=(7&c);)c++;return c>>>3},E.F._bestMatch=function(e,n,r,i,a,o){var s=32767&n,l=r[s],u=s-l+32768&32767;if(l==s||i!=E.F._hash(e,n-u))return 0;for(var c=0,h=0,d=Math.min(32767,n);u<=d&&0!=--o&&l!=s;){if(0==c||e[n+c]==e[n+c-u]){var f=E.F._howLong(e,n,u);if(f>c){if(h=u,(c=f)>=a)break;u+2<f&&(f=u+2);for(var p=0,m=0;m<f-2;m++){var g=n-u+m+32768&32767,y=g-r[g]+32768&32767;y>p&&(p=y,l=g)}}}u+=(s=l)-(l=r[s])+32768&32767}return c<<16|h},E.F._howLong=function(e,n,r){if(e[n]!=e[n-r]||e[n+1]!=e[n+1-r]||e[n+2]!=e[n+2-r])return 0;var i=n,a=Math.min(e.length,n+258);for(n+=3;n<a&&e[n]==e[n-r];)n++;return n-i},E.F._hash=function(e,n){return(e[n]<<8|e[n+1])+(e[n+2]<<4)&65535},E.saved=0,E.F._writeBlock=function(e,n,r,i,a,o,s,l,u){var c,h,d,f,p,m,g,y,v,w,b,_=E.F.U,S=E.F._putsF,k=E.F._putsE;_.lhst[256]++,f=(d=E.F.getTrees())[0],p=d[1],m=d[2],g=d[3],y=d[4],v=d[5],w=d[6],b=d[7];var T=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),I=i+E.F.contSize(_.fltree,_.lhst)+E.F.contSize(_.fdtree,_.dhst),C=i+E.F.contSize(_.ltree,_.lhst)+E.F.contSize(_.dtree,_.dhst);C+=14+3*v+E.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var x=0;x<286;x++)_.lhst[x]=0;for(x=0;x<30;x++)_.dhst[x]=0;for(x=0;x<19;x++)_.ihst[x]=0;var A=T<I&&T<C?0:I<C?1:2;if(S(l,u,e),S(l,u+1,A),u+=3,0==A){for(;0!=(7&u);)u++;u=E.F._copyExact(a,o,s,l,u)}else{if(1==A&&(c=_.fltree,h=_.fdtree),2==A){E.F.makeCodes(_.ltree,f),E.F.revCodes(_.ltree,f),E.F.makeCodes(_.dtree,p),E.F.revCodes(_.dtree,p),E.F.makeCodes(_.itree,m),E.F.revCodes(_.itree,m),c=_.ltree,h=_.dtree,k(l,u,g-257),k(l,u+=5,y-1),k(l,u+=5,v-4),u+=4;for(var R=0;R<v;R++)k(l,u+3*R,_.itree[1+(_.ordr[R]<<1)]);u+=3*v,u=E.F._codeTiny(w,_.itree,l,u),u=E.F._codeTiny(b,_.itree,l,u)}for(var N=o,P=0;P<r;P+=2){for(var O=n[P],D=O>>>23,L=N+(8388607&O);N<L;)u=E.F._writeLit(a[N++],c,l,u);if(0!=D){var M=n[P+1],U=M>>16,F=M>>8&255,j=255&M;k(l,u=E.F._writeLit(257+F,c,l,u),D-_.of0[F]),u+=_.exb[F],S(l,u=E.F._writeLit(j,h,l,u),U-_.df0[j]),u+=_.dxb[j],N+=D}}u=E.F._writeLit(256,c,l,u)}return u},E.F._copyExact=function(e,n,r,i,a){var o=a>>>3;return i[o]=r,i[o+1]=r>>>8,i[o+2]=255-i[o],i[o+3]=255-i[o+1],o+=4,i.set(new Uint8Array(e.buffer,n,r),o),a+(r+4<<3)},E.F.getTrees=function(){for(var e=E.F.U,n=E.F._hufTree(e.lhst,e.ltree,15),r=E.F._hufTree(e.dhst,e.dtree,15),i=[],a=E.F._lenCodes(e.ltree,i),o=[],s=E.F._lenCodes(e.dtree,o),l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(l=0;l<o.length;l+=2)e.ihst[o[l]]++;for(var u=E.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[n,r,u,a,s,c,i,o]},E.F.getSecond=function(e){for(var n=[],r=0;r<e.length;r+=2)n.push(e[r+1]);return n},E.F.nonZero=function(e){for(var n="",r=0;r<e.length;r+=2)0!=e[r+1]&&(n+=(r>>1)+",");return n},E.F.contSize=function(e,n){for(var r=0,i=0;i<n.length;i++)r+=n[i]*e[1+(i<<1)];return r},E.F._codeTiny=function(e,n,r,i){for(var a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];i=E.F._writeLit(o,n,r,i);var l=16==o?2:17==o?3:7;o>15&&(E.F._putsE(r,i,s,l),i+=l)}return i},E.F._lenCodes=function(e,n){for(var r=e.length;2!=r&&0==e[r-1];)r-=2;for(var i=0;i<r;i+=2){var a=e[i+1],o=i+3<r?e[i+3]:-1,s=i+5<r?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==a&&o==a&&s==a){for(var u=i+5;u+2<r&&e[u+2]==a;)u+=2;(c=Math.min(u+1-i>>>1,138))<11?n.push(17,c-3):n.push(18,c-11),i+=2*c-2}else if(a==l&&o==a&&s==a){for(u=i+5;u+2<r&&e[u+2]==a;)u+=2;var c=Math.min(u+1-i>>>1,6);n.push(16,c-3),i+=2*c-2}else n.push(a,0)}return r>>>1},E.F._hufTree=function(e,n,r){var i=[],a=e.length,o=n.length,s=0;for(s=0;s<o;s+=2)n[s]=0,n[s+1]=0;for(s=0;s<a;s++)0!=e[s]&&i.push({lit:s,f:e[s]});var l=i.length,u=i.slice(0);if(0==l)return 0;if(1==l){var c=i[0].lit;return u=0==c?1:0,n[1+(c<<1)]=1,n[1+(u<<1)]=1,1}i.sort(function(e,n){return e.f-n.f});var h=i[0],d=i[1],f=0,p=1,m=2;for(i[0]={lit:-1,f:h.f+d.f,l:h,r:d,d:0};p!=l-1;)h=f!=p&&(m==l||i[f].f<i[m].f)?i[f++]:i[m++],d=f!=p&&(m==l||i[f].f<i[m].f)?i[f++]:i[m++],i[p++]={lit:-1,f:h.f+d.f,l:h,r:d};var g=E.F.setDepth(i[p-1],0);for(g>r&&(E.F.restrictDepth(u,r,g),g=r),s=0;s<l;s++)n[1+(u[s].lit<<1)]=u[s].d;return g},E.F.setDepth=function(e,n){return -1!=e.lit?(e.d=n,n):Math.max(E.F.setDepth(e.l,n+1),E.F.setDepth(e.r,n+1))},E.F.restrictDepth=function(e,n,r){var i=0,a=1<<r-n,o=0;for(e.sort(function(e,n){return n.d==e.d?e.f-n.f:n.d-e.d}),i=0;i<e.length&&e[i].d>n;i++){var s=e[i].d;e[i].d=n,o+=a-(1<<r-s)}for(o>>>=r-n;o>0;)(s=e[i].d)<n?(e[i].d++,o-=1<<n-s-1):i++;for(;i>=0;i--)e[i].d==n&&o<0&&(e[i].d--,o++);0!=o&&console.log("debt left")},E.F._goodIndex=function(e,n){var r=0;return n[16]<=e&&(r|=16),n[8|r]<=e&&(r|=8),n[4|r]<=e&&(r|=4),n[2|r]<=e&&(r|=2),n[1|r]<=e&&(r|=1),r},E.F._writeLit=function(e,n,r,i){return E.F._putsF(r,i,n[e<<1]),i+n[1+(e<<1)]},E.F.inflate=function(e,n){var r=Uint8Array;if(3==e[0]&&0==e[1])return n||new r(0);var i=E.F,a=i._bitsF,o=i._bitsE,s=i._decodeTiny,l=i.makeCodes,u=i.codes2map,c=i._get17,h=i.U,d=null==n;d&&(n=new r(e.length>>>2<<3));for(var f,p,m=0,g=0,y=0,v=0,w=0,b=0,_=0,S=0,k=0;0==m;)if(m=a(e,k,1),g=a(e,k+1,2),k+=3,0!=g){if(d&&(n=E.F._check(n,S+131072)),1==g&&(f=h.flmap,p=h.fdmap,b=511,_=31),2==g){y=o(e,k,5)+257,v=o(e,k+5,5)+1,w=o(e,k+10,4)+4,k+=14;for(var T=0;T<38;T+=2)h.itree[T]=0,h.itree[T+1]=0;var I=1;for(T=0;T<w;T++){var C=o(e,k+3*T,3);h.itree[1+(h.ordr[T]<<1)]=C,C>I&&(I=C)}k+=3*w,l(h.itree,I),u(h.itree,I,h.imap),f=h.lmap,p=h.dmap,k=s(h.imap,(1<<I)-1,y+v,e,k,h.ttree);var x=i._copyOut(h.ttree,0,y,h.ltree);b=(1<<x)-1;var A=i._copyOut(h.ttree,y,v,h.dtree);_=(1<<A)-1,l(h.ltree,x),u(h.ltree,x,f),l(h.dtree,A),u(h.dtree,A,p)}for(;;){var R=f[c(e,k)&b];k+=15&R;var N=R>>>4;if(N>>>8==0)n[S++]=N;else{if(256==N)break;var P=S+N-254;if(N>264){var O=h.ldef[N-257];P=S+(O>>>3)+o(e,k,7&O),k+=7&O}var D=p[c(e,k)&_];k+=15&D;var L=D>>>4,M=h.ddef[L],U=(M>>>4)+a(e,k,15&M);for(k+=15&M,d&&(n=E.F._check(n,S+131072));S<P;)n[S]=n[S++-U],n[S]=n[S++-U],n[S]=n[S++-U],n[S]=n[S++-U];S=P}}}else{0!=(7&k)&&(k+=8-(7&k));var F=4+(k>>>3),j=e[F-4]|e[F-3]<<8;d&&(n=E.F._check(n,S+j)),n.set(new r(e.buffer,e.byteOffset+F,j),S),k=F+j<<3,S+=j}return n.length==S?n:n.slice(0,S)},E.F._check=function(e,n){var r=e.length;if(n<=r)return e;var i=new Uint8Array(Math.max(r<<1,n));return i.set(e,0),i},E.F._decodeTiny=function(e,n,r,i,a,o){for(var s=E.F._bitsE,l=E.F._get17,u=0;u<r;){var c=e[l(i,a)&n];a+=15&c;var h=c>>>4;if(h<=15)o[u]=h,u++;else{var d=0,f=0;16==h?(f=3+s(i,a,2),a+=2,d=o[u-1]):17==h?(f=3+s(i,a,3),a+=3):18==h&&(f=11+s(i,a,7),a+=7);for(var p=u+f;u<p;)o[u]=d,u++}}return a},E.F._copyOut=function(e,n,r,i){for(var a=0,o=0,s=i.length>>>1;o<r;){var l=e[o+n];i[o<<1]=0,i[1+(o<<1)]=l,l>a&&(a=l),o++}for(;o<s;)i[o<<1]=0,i[1+(o<<1)]=0,o++;return a},E.F.makeCodes=function(e,n){for(var r,i,a,o,s=E.F.U,l=e.length,u=s.bl_count,c=0;c<=n;c++)u[c]=0;for(c=1;c<l;c+=2)u[e[c]]++;var h=s.next_code;for(r=0,u[0]=0,i=1;i<=n;i++)r=r+u[i-1]<<1,h[i]=r;for(a=0;a<l;a+=2)0!=(o=e[a+1])&&(e[a]=h[o],h[o]++)},E.F.codes2map=function(e,n,r){for(var i=e.length,a=E.F.U.rev15,o=0;o<i;o+=2)if(0!=e[o+1])for(var s=o>>1,l=e[o+1],u=s<<4|l,c=n-l,h=e[o]<<c,d=h+(1<<c);h!=d;)r[a[h]>>>15-n]=u,h++},E.F.revCodes=function(e,n){for(var r=E.F.U.rev15,i=15-n,a=0;a<e.length;a+=2){var o=e[a]<<n-e[a+1];e[a]=r[o]>>>i}},E.F._putsE=function(e,n,r){r<<=7&n;var i=n>>>3;e[i]|=r,e[i+1]|=r>>>8},E.F._putsF=function(e,n,r){r<<=7&n;var i=n>>>3;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},E.F._bitsE=function(e,n,r){return(e[n>>>3]|e[1+(n>>>3)]<<8)>>>(7&n)&(1<<r)-1},E.F._bitsF=function(e,n,r){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)&(1<<r)-1},E.F._get17=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)},E.F._get25=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16|e[3+(n>>>3)]<<24)>>>(7&n)},E.F.U=(b=Uint16Array,_=Uint32Array,{next_code:new b(16),bl_count:new b(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new b(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new _(32),flmap:new b(512),fltree:[],fdmap:new b(32),fdtree:[],lmap:new b(32768),ltree:[],ttree:[],dmap:new b(32768),dtree:[],imap:new b(512),itree:[],rev15:new b(32768),lhst:new _(286),dhst:new _(30),ihst:new _(19),lits:new _(15e3),strt:new b(65536),prev:new b(32768)}),function(){for(var e=E.F.U,n=0;n<32768;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.rev15[n]=(r>>>16|r<<16)>>>17}function i(e,n,r){for(;0!=n--;)e.push(0,r)}for(n=0;n<32;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),E.F.makeCodes(e.fltree,9),E.F.codes2map(e.fltree,9,e.flmap),E.F.revCodes(e.fltree,9),i(e.fdtree,32,5),E.F.makeCodes(e.fdtree,5),E.F.codes2map(e.fdtree,5,e.fdmap),E.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var mi=(S={__proto__:null,default:mr},[mr].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(n){if("default"!==n&&!(n in S)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(S,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})}),Object.freeze(S));const ma=function(){var e={nextZero(e,n){for(;0!=e[n];)n++;return n},readUshort:(e,n)=>e[n]<<8|e[n+1],writeUshort(e,n,r){e[n]=r>>8&255,e[n+1]=255&r},readUint:(e,n)=>16777216*e[n]+(e[n+1]<<16|e[n+2]<<8|e[n+3]),writeUint(e,n,r){e[n]=r>>24&255,e[n+1]=r>>16&255,e[n+2]=r>>8&255,e[n+3]=255&r},readASCII(e,n,r){let i="";for(let a=0;a<r;a++)i+=String.fromCharCode(e[n+a]);return i},writeASCII(e,n,r){for(let i=0;i<r.length;i++)e[n+i]=r.charCodeAt(i)},readBytes(e,n,r){let i=[];for(let a=0;a<r;a++)i.push(e[n+a]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(n,r,i){let a,o="";for(let a=0;a<i;a++)o+=`%${e.pad(n[r+a].toString(16))}`;try{a=decodeURIComponent(o)}catch(a){return e.readASCII(n,r,i)}return a}};function n(n,r,i,a){let s=r*i,l=Math.ceil(r*o(a)/8),u=new Uint8Array(4*s),c=new Uint32Array(u.buffer),{ctype:h}=a,{depth:d}=a,f=e.readUshort;if(6==h){let e=s<<2;if(8==d)for(var p=0;p<e;p+=4)u[p]=n[p],u[p+1]=n[p+1],u[p+2]=n[p+2],u[p+3]=n[p+3];if(16==d)for(p=0;p<e;p++)u[p]=n[p<<1]}else if(2==h){let e=a.tabs.tRNS;if(null==e){if(8==d)for(p=0;p<s;p++){var m=3*p;c[p]=-16777216|n[m+2]<<16|n[m+1]<<8|n[m]}if(16==d)for(p=0;p<s;p++)m=6*p,c[p]=-16777216|n[m+4]<<16|n[m+2]<<8|n[m]}else{var g=e[0];let r=e[1],i=e[2];if(8==d)for(p=0;p<s;p++){var y=p<<2;m=3*p,c[p]=-16777216|n[m+2]<<16|n[m+1]<<8|n[m],n[m]==g&&n[m+1]==r&&n[m+2]==i&&(u[y+3]=0)}if(16==d)for(p=0;p<s;p++)y=p<<2,m=6*p,c[p]=-16777216|n[m+4]<<16|n[m+2]<<8|n[m],f(n,m)==g&&f(n,m+2)==r&&f(n,m+4)==i&&(u[y+3]=0)}}else if(3==h){let e=a.tabs.PLTE,o=a.tabs.tRNS,c=o?o.length:0;if(1==d)for(var v,w=0;w<i;w++){var b=w*l,_=w*r;for(p=0;p<r;p++){y=_+p<<2;var E=3*(v=n[b+(p>>3)]>>7-((7&p)<<0)&1);u[y]=e[E],u[y+1]=e[E+1],u[y+2]=e[E+2],u[y+3]=v<c?o[v]:255}}if(2==d)for(w=0;w<i;w++)for(b=w*l,_=w*r,p=0;p<r;p++)y=_+p<<2,E=3*(v=n[b+(p>>2)]>>6-((3&p)<<1)&3),u[y]=e[E],u[y+1]=e[E+1],u[y+2]=e[E+2],u[y+3]=v<c?o[v]:255;if(4==d)for(w=0;w<i;w++)for(b=w*l,_=w*r,p=0;p<r;p++)y=_+p<<2,E=3*(v=n[b+(p>>1)]>>4-((1&p)<<2)&15),u[y]=e[E],u[y+1]=e[E+1],u[y+2]=e[E+2],u[y+3]=v<c?o[v]:255;if(8==d)for(p=0;p<s;p++)y=p<<2,E=3*(v=n[p]),u[y]=e[E],u[y+1]=e[E+1],u[y+2]=e[E+2],u[y+3]=v<c?o[v]:255}else if(4==h){if(8==d)for(p=0;p<s;p++){y=p<<2;var S,k=n[S=p<<1];u[y]=k,u[y+1]=k,u[y+2]=k,u[y+3]=n[S+1]}if(16==d)for(p=0;p<s;p++)y=p<<2,k=n[S=p<<2],u[y]=k,u[y+1]=k,u[y+2]=k,u[y+3]=n[S+2]}else if(0==h)for(g=a.tabs.tRNS?a.tabs.tRNS:-1,w=0;w<i;w++){let e=w*l,i=w*r;if(1==d)for(var T=0;T<r;T++){var I=(k=255*(n[e+(T>>>3)]>>>7-(7&T)&1))==255*g?0:255;c[i+T]=I<<24|k<<16|k<<8|k}else if(2==d)for(T=0;T<r;T++)I=(k=85*(n[e+(T>>>2)]>>>6-((3&T)<<1)&3))==85*g?0:255,c[i+T]=I<<24|k<<16|k<<8|k;else if(4==d)for(T=0;T<r;T++)I=(k=17*(n[e+(T>>>1)]>>>4-((1&T)<<2)&15))==17*g?0:255,c[i+T]=I<<24|k<<16|k<<8|k;else if(8==d)for(T=0;T<r;T++)I=(k=n[e+T])==g?0:255,c[i+T]=I<<24|k<<16|k<<8|k;else if(16==d)for(T=0;T<r;T++)k=n[e+(T<<1)],I=f(n,e+(T<<1))==g?0:255,c[i+T]=I<<24|k<<16|k<<8|k}return u}function r(e,n,r,l){let u=new Uint8Array((Math.ceil(r*o(e)/8)+1+e.interlace)*l);return n=e.tabs.CgBI?a(n,u):i(n,u),0==e.interlace?n=s(n,e,0,r,l):1==e.interlace&&(n=function(e,n){let r=n.width,i=n.height,a=o(n),l=a>>3,u=Math.ceil(r*a/8),c=new Uint8Array(i*u),h=0,d=[0,0,4,0,2,0,1],f=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1],g=0;for(;g<7;){let o=p[g],v=m[g],w=0,b=0,_=d[g];for(;_<i;)_+=o,b++;let E=f[g];for(;E<r;)E+=v,w++;let S=Math.ceil(w*a/8);s(e,n,h,w,b);let k=0,T=d[g];for(;T<i;){let n=f[g],i=h+k*S<<3;for(;n<r;){var y;if(1==a&&(y=(y=e[i>>3])>>7-(7&i)&1,c[T*u+(n>>3)]|=y<<7-((7&n)<<0)),2==a&&(y=(y=e[i>>3])>>6-(7&i)&3,c[T*u+(n>>2)]|=y<<6-((3&n)<<1)),4==a&&(y=(y=e[i>>3])>>4-(7&i)&15,c[T*u+(n>>1)]|=y<<4-((1&n)<<2)),a>=8){let r=T*u+n*l;for(let n=0;n<l;n++)c[r+n]=e[(i>>3)+n]}i+=a,n+=v}k++,T+=o}w*b!=0&&(h+=b*(1+S)),g+=1}return c}(n,e)),n}function i(e,n){return a(new Uint8Array(e.buffer,2,e.length-6),n)}var a=function(){let e={H:{}};return e.H.N=function(n,r){let i=Uint8Array,a,o,s=0,l=0,u=0,c=0,h=0,d=0,f=0,p=0,m=0;if(3==n[0]&&0==n[1])return r||new i(0);let g=e.H,y=g.b,v=g.e,w=g.R,b=g.n,_=g.A,E=g.Z,S=g.m,k=null==r;for(k&&(r=new i(n.length>>>2<<5));0==s;)if(s=y(n,m,1),l=y(n,m+1,2),m+=3,0!=l){if(k&&(r=e.H.W(r,p+131072)),1==l&&(a=S.J,o=S.h,d=511,f=31),2==l){u=v(n,m,5)+257,c=v(n,m+5,5)+1,h=v(n,m+10,4)+4,m+=14;let e=1;for(var T=0;T<38;T+=2)S.Q[T]=0,S.Q[T+1]=0;for(T=0;T<h;T++){let r=v(n,m+3*T,3);S.Q[1+(S.X[T]<<1)]=r,r>e&&(e=r)}m+=3*h,b(S.Q,e),_(S.Q,e,S.u),a=S.w,o=S.d,m=w(S.u,(1<<e)-1,u+c,n,m,S.v);let r=g.V(S.v,0,u,S.C);d=(1<<r)-1;let i=g.V(S.v,u,c,S.D);f=(1<<i)-1,b(S.C,r),_(S.C,r,a),b(S.D,i),_(S.D,i,o)}for(;;){let e=a[E(n,m)&d];m+=15&e;let i=e>>>4;if(i>>>8==0)r[p++]=i;else{if(256==i)break;{let e=p+i-254;if(i>264){let r=S.q[i-257];e=p+(r>>>3)+v(n,m,7&r),m+=7&r}let a=o[E(n,m)&f];m+=15&a;let s=a>>>4,l=S.c[s],u=(l>>>4)+y(n,m,15&l);for(m+=15&l;p<e;)r[p]=r[p++-u],r[p]=r[p++-u],r[p]=r[p++-u],r[p]=r[p++-u];p=e}}}}else{0!=(7&m)&&(m+=8-(7&m));let a=4+(m>>>3),o=n[a-4]|n[a-3]<<8;k&&(r=e.H.W(r,p+o)),r.set(new i(n.buffer,n.byteOffset+a,o),p),m=a+o<<3,p+=o}return r.length==p?r:r.slice(0,p)},e.H.W=function(e,n){let r=e.length;if(n<=r)return e;let i=new Uint8Array(r<<1);return i.set(e,0),i},e.H.R=function(n,r,i,a,o,s){let l=e.H.e,u=e.H.Z,c=0;for(;c<i;){let e=n[u(a,o)&r];o+=15&e;let i=e>>>4;if(i<=15)s[c]=i,c++;else{let e=0,n=0;16==i?(n=3+l(a,o,2),o+=2,e=s[c-1]):17==i?(n=3+l(a,o,3),o+=3):18==i&&(n=11+l(a,o,7),o+=7);let r=c+n;for(;c<r;)s[c]=e,c++}}return o},e.H.V=function(e,n,r,i){let a=0,o=0,s=i.length>>>1;for(;o<r;){let r=e[o+n];i[o<<1]=0,i[1+(o<<1)]=r,r>a&&(a=r),o++}for(;o<s;)i[o<<1]=0,i[1+(o<<1)]=0,o++;return a},e.H.n=function(n,r){let i,a,o,s;let l=e.H.m,u=n.length,c=l.j;for(var h=0;h<=r;h++)c[h]=0;for(h=1;h<u;h+=2)c[n[h]]++;let d=l.K;for(i=0,c[0]=0,a=1;a<=r;a++)i=i+c[a-1]<<1,d[a]=i;for(o=0;o<u;o+=2)0!=(s=n[o+1])&&(n[o]=d[s],d[s]++)},e.H.A=function(n,r,i){let a=n.length,o=e.H.m.r;for(let e=0;e<a;e+=2)if(0!=n[e+1]){let a=e>>1,s=n[e+1],l=a<<4|s,u=r-s,c=n[e]<<u,h=c+(1<<u);for(;c!=h;)i[o[c]>>>15-r]=l,c++}},e.H.l=function(n,r){let i=e.H.m.r,a=15-r;for(let e=0;e<n.length;e+=2){let o=n[e]<<r-n[e+1];n[e]=i[o]>>>a}},e.H.M=function(e,n,r){r<<=7&n;let i=n>>>3;e[i]|=r,e[i+1]|=r>>>8},e.H.I=function(e,n,r){r<<=7&n;let i=n>>>3;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},e.H.e=function(e,n,r){return(e[n>>>3]|e[1+(n>>>3)]<<8)>>>(7&n)&(1<<r)-1},e.H.b=function(e,n,r){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)&(1<<r)-1},e.H.Z=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)},e.H.i=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16|e[3+(n>>>3)]<<24)>>>(7&n)},e.H.m=function(){let e=Uint16Array,n=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new e(65536),g:new e(32768)}}(),function(){let n=e.H.m;for(var r=0;r<32768;r++){let e=r;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,n.r[r]=(e>>>16|e<<16)>>>17}function i(e,n,r){for(;0!=n--;)e.push(0,r)}for(r=0;r<32;r++)n.q[r]=n.S[r]<<3|n.T[r],n.c[r]=n.p[r]<<4|n.z[r];i(n._,144,8),i(n._,112,9),i(n._,24,7),i(n._,8,8),e.H.n(n._,9),e.H.A(n._,9,n.J),e.H.l(n._,9),i(n.$,32,5),e.H.n(n.$,5),e.H.A(n.$,5,n.h),e.H.l(n.$,5),i(n.Q,19,0),i(n.C,286,0),i(n.D,30,0),i(n.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function s(e,n,r,i,a){let s,u,c=o(n),h=Math.ceil(i*c/8);c=Math.ceil(c/8);let d=e[r],f=0;if(d>1&&(e[r]=[0,0,1][d-2]),3==d)for(f=c;f<h;f++)e[f+1]=e[f+1]+(e[f+1-c]>>>1)&255;for(let n=0;n<a;n++)if(d=e[(u=(s=r+n*h)+n+1)-1],f=0,0==d)for(;f<h;f++)e[s+f]=e[u+f];else if(1==d){for(;f<c;f++)e[s+f]=e[u+f];for(;f<h;f++)e[s+f]=e[u+f]+e[s+f-c]}else if(2==d)for(;f<h;f++)e[s+f]=e[u+f]+e[s+f-h];else if(3==d){for(;f<c;f++)e[s+f]=e[u+f]+(e[s+f-h]>>>1);for(;f<h;f++)e[s+f]=e[u+f]+(e[s+f-h]+e[s+f-c]>>>1)}else{for(;f<c;f++)e[s+f]=e[u+f]+l(0,e[s+f-h],0);for(;f<h;f++)e[s+f]=e[u+f]+l(e[s+f-c],e[s+f-h],e[s+f-c-h])}return e}function l(e,n,r){let i=e+n-r,a=i-e,o=i-n,s=i-r;return a*a<=o*o&&a*a<=s*s?e:o*o<=s*s?n:r}function u(e,n,r,i,a,o,s,l,u){let c=Math.min(n,a),h=Math.min(r,o),d=0,f=0;for(let r=0;r<h;r++)for(let o=0;o<c;o++)if(s>=0&&l>=0?(d=r*n+o<<2,f=(l+r)*a+s+o<<2):(d=(-l+r)*n-s+o<<2,f=r*a+o<<2),0==u)i[f]=e[d],i[f+1]=e[d+1],i[f+2]=e[d+2],i[f+3]=e[d+3];else if(1==u){var p=e[d+3]*(1/255),m=e[d]*p,g=e[d+1]*p,y=e[d+2]*p,v=i[f+3]*(1/255),w=i[f]*v,b=i[f+1]*v,_=i[f+2]*v;let n=1-p,r=p+v*n,a=0==r?0:1/r;i[f+3]=255*r,i[f+0]=(m+w*n)*a,i[f+1]=(g+b*n)*a,i[f+2]=(y+_*n)*a}else if(2==u)p=e[d+3],m=e[d],g=e[d+1],y=e[d+2],v=i[f+3],w=i[f],b=i[f+1],_=i[f+2],p==v&&m==w&&g==b&&y==_?(i[f]=0,i[f+1]=0,i[f+2]=0,i[f+3]=0):(i[f]=m,i[f+1]=g,i[f+2]=y,i[f+3]=p);else if(3==u){if(p=e[d+3],m=e[d],g=e[d+1],y=e[d+2],v=i[f+3],w=i[f],b=i[f+1],_=i[f+2],p==v&&m==w&&g==b&&y==_)continue;if(p<220&&v>20)return!1}return!0}return{decode:function(n){let o=new Uint8Array(n),s=8,l=e.readUshort,u=e.readUint,c={tabs:{},frames:[]},h=new Uint8Array(o.length),d,f=0,p=0,m=[137,80,78,71,13,10,26,10];for(var g,y=0;y<8;y++)if(o[y]!=m[y])throw"The input is not a PNG file!";for(;s<o.length;){let n=e.readUint(o,s);s+=4;let m=e.readASCII(o,s,4);if(s+=4,"IHDR"==m)v=s,c.width=e.readUint(o,v),v+=4,c.height=e.readUint(o,v),v+=4,c.depth=o[v],v++,c.ctype=o[v],v++,c.compress=o[v],v++,c.filter=o[v],v++,c.interlace=o[v],v++;else if("iCCP"==m){for(var v,w,b=s;0!=o[b];)b++;e.readASCII(o,s,b-s),o[b+1];let r=o.slice(b+2,s+n),l=null;try{l=i(r)}catch(e){l=a(r)}c.tabs[m]=l}else if("CgBI"==m)c.tabs[m]=o.slice(s,s+4);else if("IDAT"==m){for(y=0;y<n;y++)h[f+y]=o[s+y];f+=n}else if("acTL"==m)c.tabs[m]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if("fcTL"==m){0!=p&&((g=c.frames[c.frames.length-1]).data=r(c,d.slice(0,p),g.rect.width,g.rect.height),p=0);let e={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},n=l(o,s+22),i={rect:e,delay:Math.round(1e3*(n=l(o,s+20)/(0==n?100:n))),dispose:o[s+24],blend:o[s+25]};c.frames.push(i)}else if("fdAT"==m){for(y=0;y<n-4;y++)d[p+y]=o[s+y+4];p+=n-4}else if("pHYs"==m)c.tabs[m]=[e.readUint(o,s),e.readUint(o,s+4),o[s+8]];else if("cHRM"==m)for(y=0,c.tabs[m]=[];y<8;y++)c.tabs[m].push(e.readUint(o,s+4*y));else if("tEXt"==m||"zTXt"==m){null==c.tabs[m]&&(c.tabs[m]={});var _=e.nextZero(o,s),E=e.readASCII(o,s,_-s),S=s+n-_-1;if("tEXt"==m)w=e.readASCII(o,_+1,S);else{var k=i(o.slice(_+2,_+2+S));w=e.readUTF8(k,0,k.length)}c.tabs[m][E]=w}else if("iTXt"==m){null==c.tabs[m]&&(c.tabs[m]={}),_=0,b=s,_=e.nextZero(o,b),E=e.readASCII(o,b,_-b);let r=o[b=_+1];o[b+1],b+=2,_=e.nextZero(o,b),e.readASCII(o,b,_-b),b=_+1,_=e.nextZero(o,b),e.readUTF8(o,b,_-b),S=n-((b=_+1)-s),0==r?w=e.readUTF8(o,b,S):(k=i(o.slice(b,b+S)),w=e.readUTF8(k,0,k.length)),c.tabs[m][E]=w}else if("PLTE"==m)c.tabs[m]=e.readBytes(o,s,n);else if("hIST"==m){let e=c.tabs.PLTE.length/3;for(y=0,c.tabs[m]=[];y<e;y++)c.tabs[m].push(l(o,s+2*y))}else if("tRNS"==m)3==c.ctype?c.tabs[m]=e.readBytes(o,s,n):0==c.ctype?c.tabs[m]=l(o,s):2==c.ctype&&(c.tabs[m]=[l(o,s),l(o,s+2),l(o,s+4)]);else if("gAMA"==m)c.tabs[m]=e.readUint(o,s)/1e5;else if("sRGB"==m)c.tabs[m]=o[s];else if("bKGD"==m)0==c.ctype||4==c.ctype?c.tabs[m]=[l(o,s)]:2==c.ctype||6==c.ctype?c.tabs[m]=[l(o,s),l(o,s+2),l(o,s+4)]:3==c.ctype&&(c.tabs[m]=o[s]);else if("IEND"==m)break;s+=n,e.readUint(o,s),s+=4}return 0!=p&&((g=c.frames[c.frames.length-1]).data=r(c,d.slice(0,p),g.rect.width,g.rect.height)),c.data=r(c,h,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},toRGBA8:function(e){let r=e.width,i=e.height;if(null==e.tabs.acTL)return[n(e.data,r,i,e).buffer];let a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let o=r*i*4,s=new Uint8Array(o),l=new Uint8Array(o),c=new Uint8Array(o);for(let d=0;d<e.frames.length;d++){let f=e.frames[d],p=f.rect.x,m=f.rect.y,g=f.rect.width,y=f.rect.height,v=n(f.data,g,y,e);if(0!=d)for(var h=0;h<o;h++)c[h]=s[h];if(0==f.blend?u(v,g,y,s,r,i,p,m,0):1==f.blend&&u(v,g,y,s,r,i,p,m,1),a.push(s.buffer.slice(0)),0==f.dispose);else if(1==f.dispose)u(l,g,y,s,r,i,p,m,0);else if(2==f.dispose)for(h=0;h<o;h++)s[h]=c[h]}return a},_paeth:l,_copyTile:u,_bin:e}}();!function(){let{_copyTile:e}=ma,{_bin:n}=ma,r=ma._paeth;var i={table:function(){let e=new Uint32Array(256);for(let n=0;n<256;n++){let r=n;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;e[n]=r}return e}(),update(e,n,r,a){for(let o=0;o<a;o++)e=i.table[255&(e^n[r+o])]^e>>>8;return e},crc:(e,n,r)=>4294967295^i.update(4294967295,e,n,r)};function a(e,n,r,i){n[r]+=e[0]*i>>4,n[r+1]+=e[1]*i>>4,n[r+2]+=e[2]*i>>4,n[r+3]+=e[3]*i>>4}function o(e){return Math.max(0,Math.min(255,e))}function s(e,n){let r=e[0]-n[0],i=e[1]-n[1],a=e[2]-n[2],o=e[3]-n[3];return r*r+i*i+a*a+o*o}function l(e,n,r,i,l,u,c){null==c&&(c=1);let h=i.length,d=[];for(var f,p=0;p<h;p++){let e=i[p];d.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<h;p++){let e=4294967295;for(var m=0,g=0;g<h;g++){var y=s(d[p],d[g]);g!=p&&y<e&&(e=y,m=g)}}let v=new Uint32Array(l.buffer),w=new Int16Array(n*r*4),b=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<b.length;p++)b[p]=255*((b[p]+.5)/16-.5);for(let l=0;l<r;l++)for(let _=0;_<n;_++){p=4*(l*n+_),2!=c?f=[o(e[p]+w[p]),o(e[p+1]+w[p+1]),o(e[p+2]+w[p+2]),o(e[p+3]+w[p+3])]:(y=b[4*(3&l)+(3&_)],f=[o(e[p]+y),o(e[p+1]+y),o(e[p+2]+y),o(e[p+3]+y)]),m=0;let E=16777215;for(g=0;g<h;g++){let e=s(f,d[g]);e<E&&(E=e,m=g)}let S=d[m],k=[f[0]-S[0],f[1]-S[1],f[2]-S[2],f[3]-S[3]];1==c&&(_!=n-1&&a(k,w,p+4,7),l!=r-1&&(0!=_&&a(k,w,p+4*n-4,3),a(k,w,p+4*n,5),_!=n-1&&a(k,w,p+4*n+4,1))),u[p>>2]=m,v[p>>2]=i[m]}}function u(e,r,a,o,s){null==s&&(s={});let{crc:l}=i,u=n.writeUint,c=n.writeUshort,h=n.writeASCII,d=8,f=e.frames.length>1,p,m=!1,g=33+(f?20:0);if(null!=s.sRGB&&(g+=13),null!=s.pHYs&&(g+=21),null!=s.iCCP&&(g+=21+(p=pako.deflate(s.iCCP)).length+4),3==e.ctype){for(var y=e.plte.length,v=0;v<y;v++)e.plte[v]>>>24!=255&&(m=!0);g+=8+3*y+4+(m?8+1*y+4:0)}for(var w=0;w<e.frames.length;w++)f&&(g+=38),g+=(S=e.frames[w]).cimg.length+12,0!=w&&(g+=4);let b=new Uint8Array(g+=12),_=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)b[v]=_[v];if(u(b,d,13),h(b,d+=4,"IHDR"),u(b,d+=4,r),u(b,d+=4,a),b[d+=4]=e.depth,b[++d]=e.ctype,b[++d]=0,b[++d]=0,b[++d]=0,u(b,++d,l(b,d-17,17)),d+=4,null!=s.sRGB&&(u(b,d,1),h(b,d+=4,"sRGB"),b[d+=4]=s.sRGB,u(b,++d,l(b,d-5,5)),d+=4),null!=s.iCCP){let e=13+p.length;u(b,d,e),h(b,d+=4,"iCCP"),h(b,d+=4,"ICC profile"),d+=13,b.set(p,d),u(b,d+=p.length,l(b,d-(e+4),e+4)),d+=4}if(null!=s.pHYs&&(u(b,d,9),h(b,d+=4,"pHYs"),u(b,d+=4,s.pHYs[0]),u(b,d+=4,s.pHYs[1]),b[d+=4]=s.pHYs[2],u(b,++d,l(b,d-13,13)),d+=4),f&&(u(b,d,8),h(b,d+=4,"acTL"),u(b,d+=4,e.frames.length),u(b,d+=4,null!=s.loop?s.loop:0),u(b,d+=4,l(b,d-12,12)),d+=4),3==e.ctype){for(u(b,d,3*(y=e.plte.length)),h(b,d+=4,"PLTE"),d+=4,v=0;v<y;v++){let n=3*v,r=e.plte[v],i=255&r,a=r>>>8&255,o=r>>>16&255;b[d+n+0]=i,b[d+n+1]=a,b[d+n+2]=o}if(u(b,d+=3*y,l(b,d-3*y-4,3*y+4)),d+=4,m){for(u(b,d,y),h(b,d+=4,"tRNS"),d+=4,v=0;v<y;v++)b[d+v]=e.plte[v]>>>24&255;u(b,d+=y,l(b,d-y-4,y+4)),d+=4}}let E=0;for(w=0;w<e.frames.length;w++){var S=e.frames[w];f&&(u(b,d,26),h(b,d+=4,"fcTL"),u(b,d+=4,E++),u(b,d+=4,S.rect.width),u(b,d+=4,S.rect.height),u(b,d+=4,S.rect.x),u(b,d+=4,S.rect.y),c(b,d+=4,o[w]),c(b,d+=2,1e3),b[d+=2]=S.dispose,b[++d]=S.blend,u(b,++d,l(b,d-30,30)),d+=4);let n=S.cimg;u(b,d,(y=n.length)+(0==w?0:4));let r=d+=4;h(b,d,0==w?"IDAT":"fdAT"),d+=4,0!=w&&(u(b,d,E++),d+=4),b.set(n,d),u(b,d+=y,l(b,r,d-r)),d+=4}return u(b,d,0),h(b,d+=4,"IEND"),u(b,d+=4,l(b,d-4,4)),d+=4,b.buffer}function c(e,n,i){for(let a=0;a<e.frames.length;a++){let o=e.frames[a];o.rect.width;let s=o.rect.height,l=new Uint8Array(s*o.bpl+s);o.cimg=function(e,n,i,a,o,s,l){let u=[],c,h=[0,1,2,3,4];-1!=s?h=[s]:(n*a>5e5||1==i)&&(h=[0]),l&&(c={level:0});for(var d=0;d<h.length;d++){for(let s=0;s<n;s++)!function(e,n,i,a,o,s){let l=i*a,u=l+i;if(e[u]=s,u++,0==s){if(a<500)for(var c=0;c<a;c++)e[u+c]=n[l+c];else e.set(new Uint8Array(n.buffer,l,a),u)}else if(1==s){for(c=0;c<o;c++)e[u+c]=n[l+c];for(c=o;c<a;c++)e[u+c]=n[l+c]-n[l+c-o]+256&255}else if(0==i){for(c=0;c<o;c++)e[u+c]=n[l+c];if(2==s)for(c=o;c<a;c++)e[u+c]=n[l+c];if(3==s)for(c=o;c<a;c++)e[u+c]=n[l+c]-(n[l+c-o]>>1)+256&255;if(4==s)for(c=o;c<a;c++)e[u+c]=n[l+c]-r(n[l+c-o],0,0)+256&255}else{if(2==s)for(c=0;c<a;c++)e[u+c]=n[l+c]+256-n[l+c-a]&255;if(3==s){for(c=0;c<o;c++)e[u+c]=n[l+c]+256-(n[l+c-a]>>1)&255;for(c=o;c<a;c++)e[u+c]=n[l+c]+256-(n[l+c-a]+n[l+c-o]>>1)&255}if(4==s){for(c=0;c<o;c++)e[u+c]=n[l+c]+256-r(0,n[l+c-a],0)&255;for(c=o;c<a;c++)e[u+c]=n[l+c]+256-r(n[l+c-o],n[l+c-a],n[l+c-o-a])&255}}}(o,e,s,a,i,h[d]);u.push(mi.deflate(o,c))}let f,p=1e9;for(d=0;d<u.length;d++)u[d].length<p&&(f=d,p=u[d].length);return u[f]}(o.img,s,o.bpp,o.bpl,l,n,i)}}function h(n,r,i,a,o){let s=o[0],u=o[1],c=o[2],h=o[3],m=o[4],g=o[5],y=6,v=8,w=255;for(var b=0;b<n.length;b++){let e=new Uint8Array(n[b]);for(var _=e.length,E=0;E<_;E+=4)w&=e[E+3]}let S=255!=w,k=function(n,r,i,a,o,s){let l=[];for(var u,c=0;c<n.length;c++){let u=new Uint8Array(n[c]),d=new Uint32Array(u.buffer),g=0,y=0,v=r,w=i,b=a?1:0;if(0!=c){let _=s||a||1==c||0!=l[c-2].dispose?1:2,E=0,S=1e9;for(let e=0;e<_;e++){var h,p=new Uint8Array(n[c-1-e]);let a=new Uint32Array(n[c-1-e]),s=r,l=i,u=-1,f=-1;for(let e=0;e<i;e++)for(let n=0;n<r;n++)d[m=e*r+n]!=a[m]&&(n<s&&(s=n),n>u&&(u=n),e<l&&(l=e),e>f&&(f=e));-1==u&&(s=l=u=f=0),o&&(1==(1&s)&&s--,1==(1&l)&&l--);let b=(u-s+1)*(f-l+1);b<S&&(S=b,E=e,g=s,y=l,v=u-s+1,w=f-l+1)}p=new Uint8Array(n[c-1-E]),1==E&&(l[c-1].dispose=2),e(p,r,i,h=new Uint8Array(v*w*4),v,w,-g,-y,0),1==(b=e(u,r,i,h,v,w,-g,-y,3)?1:0)?f(u,r,i,h,{x:g,y:y,width:v,height:w}):e(u,r,i,h,v,w,-g,-y,0)}else h=u.slice(0);l.push({rect:{x:g,y:y,width:v,height:w},img:h,blend:b,dispose:0})}if(a)for(c=0;c<l.length;c++){if(1==(u=l[c]).blend)continue;let e=u.rect,a=l[c-1].rect,s=Math.min(e.x,a.x),h=Math.min(e.y,a.y),f={x:s,y:h,width:Math.max(e.x+e.width,a.x+a.width)-s,height:Math.max(e.y+e.height,a.y+a.height)-h};l[c-1].dispose=1,c-1!=0&&d(n,r,i,l,c-1,f,o),d(n,r,i,l,c,f,o)}if(1!=n.length)for(var m=0;m<l.length;m++)(u=l[m]).rect.width,u.rect.height;return l}(n,r,i,s,u,c),T={},I=[],C=[];if(0!=a){let e=[];for(E=0;E<k.length;E++)e.push(k[E].img.buffer);let n=p(function(e){let n=0;for(var r=0;r<e.length;r++)n+=e[r].byteLength;let i=new Uint8Array(n),a=0;for(r=0;r<e.length;r++){let n=new Uint8Array(e[r]),o=n.length;for(let e=0;e<o;e+=4){let r=n[e],o=n[e+1],s=n[e+2],l=n[e+3];0==l&&(r=o=s=0),i[a+e]=r,i[a+e+1]=o,i[a+e+2]=s,i[a+e+3]=l}a+=o}return i.buffer}(e),a);for(E=0;E<n.plte.length;E++)I.push(n.plte[E].est.rgba);let r=0;for(E=0;E<k.length;E++){let e=(A=k[E]).img.length;var x=new Uint8Array(n.inds.buffer,r>>2,e>>2);C.push(x);let i=new Uint8Array(n.abuf,r,e);g&&l(A.img,A.rect.width,A.rect.height,I,i,x),A.img.set(i),r+=e}}else for(b=0;b<k.length;b++){var A=k[b];let e=new Uint32Array(A.img.buffer);var R=A.rect.width;for(x=new Uint8Array(_=e.length),C.push(x),E=0;E<_;E++){let n=e[E];if(0!=E&&n==e[E-1])x[E]=x[E-1];else if(E>R&&n==e[E-R])x[E]=x[E-R];else{let e=T[n];if(null==e&&(T[n]=e=I.length,I.push(n),I.length>=300))break;x[E]=e}}}let N=I.length;for(N<=256&&0==m&&(v=Math.max(v=N<=2?1:N<=4?2:N<=16?4:8,h)),b=0;b<k.length;b++){(A=k[b]).rect.x,A.rect.y,R=A.rect.width;let e=A.rect.height,n=A.img;new Uint32Array(n.buffer);let r=4*R,i=4;if(N<=256&&0==m){var P=new Uint8Array((r=Math.ceil(v*R/8))*e);let a=C[b];for(let n=0;n<e;n++){E=n*r;let e=n*R;if(8==v)for(var O=0;O<R;O++)P[E+O]=a[e+O];else if(4==v)for(O=0;O<R;O++)P[E+(O>>1)]|=a[e+O]<<4-4*(1&O);else if(2==v)for(O=0;O<R;O++)P[E+(O>>2)]|=a[e+O]<<6-2*(3&O);else if(1==v)for(O=0;O<R;O++)P[E+(O>>3)]|=a[e+O]<<7-1*(7&O)}n=P,y=3,i=1}else if(0==S&&1==k.length){P=new Uint8Array(R*e*3);let a=R*e;for(E=0;E<a;E++){let e=3*E,r=4*E;P[e]=n[r],P[e+1]=n[r+1],P[e+2]=n[r+2]}n=P,y=2,i=3,r=3*R}A.img=n,A.bpl=r,A.bpp=i}return{ctype:y,depth:v,plte:I,frames:k}}function d(n,r,i,a,o,s,l){let u=Uint8Array,c=Uint32Array,h=new u(n[o-1]),d=new c(n[o-1]),p=o+1<n.length?new u(n[o+1]):null,m=new u(n[o]),g=new c(m.buffer),y=r,v=i,w=-1,b=-1;for(let e=0;e<s.height;e++)for(let n=0;n<s.width;n++){let i=s.x+n,l=s.y+e,u=l*r+i,c=g[u];0==c||0==a[o-1].dispose&&d[u]==c&&(null==p||0!=p[4*u+3])||(i<y&&(y=i),i>w&&(w=i),l<v&&(v=l),l>b&&(b=l))}-1==w&&(y=v=w=b=0),l&&(1==(1&y)&&y--,1==(1&v)&&v--),s={x:y,y:v,width:w-y+1,height:b-v+1};let _=a[o];_.rect=s,_.blend=1,_.img=new Uint8Array(s.width*s.height*4),0==a[o-1].dispose?(e(h,r,i,_.img,s.width,s.height,-s.x,-s.y,0),f(m,r,i,_.img,s)):e(m,r,i,_.img,s.width,s.height,-s.x,-s.y,0)}function f(n,r,i,a,o){e(n,r,i,a,o.width,o.height,-o.x,-o.y,2)}function p(e,n){let r;let i=new Uint8Array(e),a=i.slice(0),o=new Uint32Array(a.buffer),s=m(a,n),l=s[0],u=s[1],c=i.length,h=new Uint8Array(c>>2);if(i.length<2e7)for(var d=0;d<c;d+=4)r=g(l,f=i[d]*(1/255),p=i[d+1]*(1/255),v=i[d+2]*(1/255),w=i[d+3]*(1/255)),h[d>>2]=r.ind,o[d>>2]=r.est.rgba;else for(d=0;d<c;d+=4){var f=i[d]*(1/255),p=i[d+1]*(1/255),v=i[d+2]*(1/255),w=i[d+3]*(1/255);for(r=l;r.left;)r=0>=y(r.est,f,p,v,w)?r.left:r.right;h[d>>2]=r.ind,o[d>>2]=r.est.rgba}return{abuf:a.buffer,inds:h,plte:u}}function m(e,n,r){null==r&&(r=1e-4);let i=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=w(e,a.i0,a.i1),a.est=b(a.bst);let o=[a];for(;o.length<n;){let n=0,a=0;for(var s=0;s<o.length;s++)o[s].est.L>n&&(n=o[s].est.L,a=s);if(n<r)break;let l=o[a],u=function(e,n,r,i,a,o){for(i-=4;r<i;){for(;v(e,r,a)<=o;)r+=4;for(;v(e,i,a)>o;)i-=4;if(r>=i)break;let s=n[r>>2];n[r>>2]=n[i>>2],n[i>>2]=s,r+=4,i-=4}for(;v(e,r,a)>o;)r-=4;return r+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=u||l.i1<=u){l.est.L=0;continue}let c={i0:l.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};c.bst=w(e,c.i0,c.i1),c.est=b(c.bst);let h={i0:u,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(s=0,h.bst={R:[],m:[],N:l.bst.N-c.bst.N};s<16;s++)h.bst.R[s]=l.bst.R[s]-c.bst.R[s];for(s=0;s<4;s++)h.bst.m[s]=l.bst.m[s]-c.bst.m[s];h.est=b(h.bst),l.left=c,l.right=h,o[a]=c,o.push(h)}for(o.sort((e,n)=>n.bst.N-e.bst.N),s=0;s<o.length;s++)o[s].ind=s;return[a,o]}function g(e,n,r,i,a){if(null==e.left)return e.tdst=function(e,n,r,i,a){let o=n-e[0],s=r-e[1],l=i-e[2],u=a-e[3];return o*o+s*s+l*l+u*u}(e.est.q,n,r,i,a),e;let o=y(e.est,n,r,i,a),s=e.left,l=e.right;o>0&&(s=e.right,l=e.left);let u=g(s,n,r,i,a);if(u.tdst<=o*o)return u;let c=g(l,n,r,i,a);return c.tdst<u.tdst?c:u}function y(e,n,r,i,a){let{e:o}=e;return o[0]*n+o[1]*r+o[2]*i+o[3]*a-e.eMq}function v(e,n,r){return e[n]*r[0]+e[n+1]*r[1]+e[n+2]*r[2]+e[n+3]*r[3]}function w(e,n,r){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0];for(let o=n;o<r;o+=4){let n=e[o]*(1/255),r=e[o+1]*(1/255),s=e[o+2]*(1/255),l=e[o+3]*(1/255);a[0]+=n,a[1]+=r,a[2]+=s,a[3]+=l,i[0]+=n*n,i[1]+=n*r,i[2]+=n*s,i[3]+=n*l,i[5]+=r*r,i[6]+=r*s,i[7]+=r*l,i[10]+=s*s,i[11]+=s*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:a,N:r-n>>2}}function b(e){let{R:n}=e,{m:r}=e,{N:i}=e,a=r[0],o=r[1],s=r[2],l=r[3],u=0==i?0:1/i,c=[n[0]-a*a*u,n[1]-a*o*u,n[2]-a*s*u,n[3]-a*l*u,n[4]-o*a*u,n[5]-o*o*u,n[6]-o*s*u,n[7]-o*l*u,n[8]-s*a*u,n[9]-s*o*u,n[10]-s*s*u,n[11]-s*l*u,n[12]-l*a*u,n[13]-l*o*u,n[14]-l*s*u,n[15]-l*l*u],h=[Math.random(),Math.random(),Math.random(),Math.random()],d=0,f=0;if(0!=i)for(let e=0;e<16&&(h=_.multVec(c,h),f=Math.sqrt(_.dot(h,h)),h=_.sml(1/f,h),!(0!=e&&1e-9>Math.abs(f-d)));e++)d=f;let p=[a*u,o*u,s*u,l*u];return{Cov:c,q:p,e:h,L:d,eMq255:_.dot(_.sml(255,p),h),eMq:_.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}}var _={multVec:(e,n)=>[e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3],e[4]*n[0]+e[5]*n[1]+e[6]*n[2]+e[7]*n[3],e[8]*n[0]+e[9]*n[1]+e[10]*n[2]+e[11]*n[3],e[12]*n[0]+e[13]*n[1]+e[14]*n[2]+e[15]*n[3]],dot:(e,n)=>e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3],sml:(e,n)=>[e*n[0],e*n[1],e*n[2],e*n[3]]};ma.encode=function(e,n,r,i,a,o,s){null==i&&(i=0),null==s&&(s=!1);let l=h(e,n,r,i,[!1,!1,!1,0,s,!1]);return c(l,-1),u(l,n,r,a,o)},ma.encodeLL=function(e,n,r,i,a,o,s,l){let h={ctype:0+(1==i?0:2)+(0==a?0:4),depth:o,frames:[]},d=(i+a)*o,f=d*n;for(let i=0;i<e.length;i++)h.frames.push({rect:{x:0,y:0,width:n,height:r},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(f/8)});return c(h,0,!0),u(h,n,r,s,l)},ma.encode.compress=h,ma.encode.dither=l,ma.quantize=p,ma.quantize.getKDtree=m,ma.quantize.getNearest=g}();const mo={toArrayBuffer(e,n){let r=e.width,i=e.height,a=r<<2,o=new Uint32Array(e.getContext("2d").getImageData(0,0,r,i).data.buffer),s=(32*r+31)/32<<2,l=s*i,u=122+l,c=new ArrayBuffer(u),h=new DataView(c),d,f,p,m,g=1048576,y=0,v=0,w=0;function b(e){h.setUint16(v,e,!0),v+=2}function _(e){h.setUint32(v,e,!0),v+=4}b(19778),_(u),v+=4,_(122),_(108),_(r),_(-i>>>0),b(1),b(32),_(3),_(l),_(2835),_(2835),v+=8,_(16711680),_(65280),_(255),_(4278190080),_(1466527264),function e(){for(;y<i&&g>0;){for(m=122+y*s,d=0;d<a;)g--,p=(f=o[w++])>>>24,h.setUint32(m+d,f<<8|p),d+=4;y++}w<o.length?(g=1048576,setTimeout(e,mo._dly)):n(c)}()},toBlob(e,n){this.toArrayBuffer(e,e=>{n(new Blob([e],{type:"image/bmp"}))})},_dly:9};var ms={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ml={[ms.CHROME]:16384,[ms.FIREFOX]:11180,[ms.DESKTOP_SAFARI]:16384,[ms.IE]:8192,[ms.IOS]:4096,[ms.ETC]:8192};const mu="undefined"!=typeof window,mc="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,mh=mu&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),md=(mu||mc)&&(mh&&mh.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),mf=(mu||mc)&&(mh&&mh.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function mp(e,n,r=Date.now()){return new Promise(i=>{let a=e.split(","),o=a[0].match(/:(.*?);/)[1],s=globalThis.atob(a[1]),l=s.length,u=new Uint8Array(l);for(;l--;)u[l]=s.charCodeAt(l);let c=new Blob([u],{type:o});c.name=n,c.lastModified=r,i(c)})}function mm(e){return new Promise((n,r)=>{let i=new mf;i.onload=()=>n(i.result),i.onerror=e=>r(e),i.readAsDataURL(e)})}function mg(e){return new Promise((n,r)=>{let i=new Image;i.onload=()=>n(i),i.onerror=e=>r(e),i.src=e})}function my(){if(void 0!==my.cachedResult)return my.cachedResult;let e=ms.ETC,{userAgent:n}=navigator;return/Chrom(e|ium)/i.test(n)?e=ms.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)?e=ms.IOS:/Safari/i.test(n)?e=ms.DESKTOP_SAFARI:/Firefox/i.test(n)?e=ms.FIREFOX:(/MSIE/i.test(n)||!0==!!document.documentMode)&&(e=ms.IE),my.cachedResult=e,my.cachedResult}function mv(e,n){let r=ml[my()],i=e,a=n,o=i*a,s=i>a?a/i:i/a;for(;o>r*r;){let e=(r+i)/2,n=(r+a)/2;e<n?(a=n,i=n*s):(a=e*s,i=e),o=i*a}return{width:i,height:a}}function mw(e,n){let r,i;try{if(i=(r=new OffscreenCanvas(e,n)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(r=document.createElement("canvas")).getContext("2d")}return r.width=e,r.height=n,[r,i]}function mb(e,n){let{width:r,height:i}=mv(e.width,e.height),[a,o]=mw(r,i);return n&&/jpe?g/.test(n)&&(o.fillStyle="white",o.fillRect(0,0,a.width,a.height)),o.drawImage(e,0,0,a.width,a.height),a}function m_(e,n={}){return new Promise(function(r,i){let a,o;var s=function(){try{return o=mb(a,n.fileType||e.type),r([a,o])}catch(e){return i(e)}},l=function(n){try{var r=function(e){try{throw e}catch(e){return i(e)}};try{let n;return mm(e).then(function(e){try{return n=e,mg(n).then(function(e){try{return a=e,function(){try{return s()}catch(e){return i(e)}}()}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){r(e)}}catch(e){return i(e)}};try{if(function e(){return void 0!==e.cachedResult||(e.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),e.cachedResult}()||[ms.DESKTOP_SAFARI,ms.MOBILE_SAFARI].includes(my()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return a=e,s()}catch(e){return l()}},l)}catch(e){l()}})}function mE(e,n,r,i,a=1){return new Promise(function(o,s){let l;if("image/png"===n){let o,s;return o=e.getContext("2d"),{data:s}=o.getImageData(0,0,e.width,e.height),(l=new Blob([ma.encode([s.buffer],e.width,e.height,4096*a)],{type:n})).name=r,l.lastModified=i,h.call(this)}if("image/bmp"===n)return new Promise(n=>mo.toBlob(e,n)).then((function(e){try{return(l=e).name=r,l.lastModified=i,c.call(this)}catch(e){return s(e)}}).bind(this),s);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:n,quality:a}).then((function(e){try{return(l=e).name=r,l.lastModified=i,u.call(this)}catch(e){return s(e)}}).bind(this),s);return mp(e.toDataURL(n,a),r,i).then((function(e){try{return l=e,u.call(this)}catch(e){return s(e)}}).bind(this),s);function u(){return c.call(this)}function c(){return h.call(this)}function h(){return o(l)}})}function mS(e){e.width=0,e.height=0}function mk(){return new Promise(function(e,n){let r,i,a,o;return void 0!==mk.cachedResult?e(mk.cachedResult):mp("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,m_(r).then(function(s){try{return i=s[1],mE(i,r.type,r.name,r.lastModified).then(function(r){try{return a=r,mS(i),m_(a).then(function(r){try{return o=r[0],mk.cachedResult=1===o.width&&2===o.height,e(mk.cachedResult)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)})}function mT(e){return new Promise((n,r)=>{let i=new mf;i.onload=e=>{let r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return n(-2);let i=r.byteLength,a=2;for(;a<i&&!(8>=r.getUint16(a+2,!1));){let e=r.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=r.getUint32(a+=2,!1))return n(-1);let e=18761==r.getUint16(a+=6,!1);a+=r.getUint32(a+4,e);let i=r.getUint16(a,e);a+=2;for(let o=0;o<i;o++)if(274==r.getUint16(a+12*o,e))return n(r.getUint16(a+12*o+8,e))}else{if(65280!=(65280&e))break;a+=r.getUint16(a,!1)}}return n(-1)},i.onerror=e=>r(e),i.readAsArrayBuffer(e)})}function mI(e,n){let{width:r}=e,{height:i}=e,{maxWidthOrHeight:a}=n,o,s=e;return isFinite(a)&&(r>a||i>a)&&([s,o]=mw(r,i),r>i?(s.width=a,s.height=i/r*a):(s.width=r/i*a,s.height=a),o.drawImage(e,0,0,s.width,s.height),mS(e)),s}function mC(e,n){let{width:r}=e,{height:i}=e,[a,o]=mw(r,i);switch(n>4&&n<9?(a.width=i,a.height=r):(a.width=r,a.height=i),n){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,i),mS(e),a}function mx(e,n,r=0){return new Promise(function(i,a){let o,s,l,u,c,h,d,f,p,m,g,y,v,w,b,_,E,S,k,T;function I(e=5){if(n.signal&&n.signal.aborted)throw n.signal.reason;o+=e,n.onProgress(Math.min(o,100))}function C(e){if(n.signal&&n.signal.aborted)throw n.signal.reason;o=Math.min(Math.max(e,o),100),n.onProgress(o)}return o=r,s=n.maxIteration||10,l=1024*n.maxSizeMB*1024,I(),m_(e,n).then((function(r){try{return[,u]=r,I(),c=mI(u,n),I(),new Promise(function(r,i){var a;if(!(a=n.exifOrientation))return mT(e).then((function(e){try{return a=e,o.call(this)}catch(e){return i(e)}}).bind(this),i);function o(){return r(a)}return o.call(this)}).then((function(r){try{return h=r,I(),mk().then((function(r){try{return d=r?c:mC(c,h),I(),f=n.initialQuality||1,p=n.fileType||e.type,mE(d,p,e.name,e.lastModified,f).then((function(r){try{var o;if(m=r,I(),g=m.size>l,y=m.size>e.size,!g&&!y)return C(100),i(m);function h(){if(s--&&(b>l||b>v)){let n,r;return n=T?.95*k.width:k.width,r=T?.95*k.height:k.height,[E,S]=mw(n,r),S.drawImage(k,0,0,n,r),f*="image/png"===p?.85:.95,mE(E,p,e.name,e.lastModified,f).then(function(e){try{return _=e,mS(k),k=E,b=_.size,C(Math.min(99,Math.floor((w-b)/(w-l)*100))),h}catch(e){return a(e)}},a)}return[1]}return v=e.size,b=w=m.size,k=d,T=!n.alwaysKeepResolution&&g,(o=(function(e){for(;e;){if(e.then)return void e.then(o,a);try{if(e.pop){if(e.length)return e.pop()?x.call(this):e;e=h}else e=e.call(this)}catch(e){return a(e)}}}).bind(this))(h);function x(){return mS(k),mS(E),mS(c),mS(d),mS(u),C(100),i(_)}}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)})}function mA(e,n){return new Promise(function(i,a){let o,s,l,u,c,h;if(o={...n},l=0,{onProgress:u}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c="boolean"!=typeof o.useWebWorker||o.useWebWorker,delete o.useWebWorker,o.onProgress=e=>{l=e,"function"==typeof u&&u(l)},!(e instanceof Blob||e instanceof md))return a(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(Error("The file given is not an image"));if(h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||h)return mx(e,o).then((function(e){try{return s=e,p.call(this)}catch(e){return a(e)}}).bind(this),a);var d=(function(){try{return p.call(this)}catch(e){return a(e)}}).bind(this),f=function(n){try{return mx(e,o).then(function(e){try{return s=e,d()}catch(e){return a(e)}},a)}catch(e){return a(e)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((n,i)=>{r||(r=function(e){let n=[];return"function"==typeof e?n.push(`(${e})()`):n.push(e),URL.createObjectURL(new Blob(n))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));let a=new Worker(r);a.addEventListener("message",function(e){if(o.signal&&o.signal.aborted)a.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(Error(e.data.error)),void a.terminate();n(e.data.file),a.terminate()}else o.onProgress(e.data.progress)}),a.addEventListener("error",i),o.signal&&o.signal.addEventListener("abort",()=>{i(o.signal.reason),a.terminate()}),a.postMessage({file:e,imageCompressionLibUrl:o.libURL,options:{...o,onProgress:void 0,signal:void 0}})}).then(function(e){try{return s=e,d()}catch(e){return f()}},f)}catch(e){f()}function p(){try{s.name=e.name,s.lastModified=e.lastModified}catch(e){}try{o.preserveExif&&"image/jpeg"===e.type&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(s=mt(e,s))}catch(e){}return i(s)}})}mA.getDataUrlFromFile=mm,mA.getFilefromDataUrl=mp,mA.loadImage=mg,mA.drawImageInCanvas=mb,mA.drawFileInCanvas=m_,mA.canvasToFile=mE,mA.getExifOrientation=mT,mA.handleMaxWidthOrHeight=mI,mA.followExifOrientation=mC,mA.cleanupCanvasMemory=mS,mA.isAutoOrientationInBrowser=mk,mA.approximateBelowMaximumCanvasSizeOfBrowser=mv,mA.copyExifWithoutOrientation=mt,mA.getBrowserName=my,mA.version="2.0.2",es("acw62");var iT=es("acw62");const mR=(k=[{path:"/",element:(0,eu.jsx)(()=>(0,eu.jsxs)(oE,{store:p8,children:[(0,eu.jsx)(p4,{}),(0,eu.jsx)(a4,{}),(0,eu.jsx)(p6,{})]}),{}),errorElement:(0,eu.jsx)(()=>{let e=a1();return(0,eu.jsxs)("div",{children:[(0,eu.jsx)("h2",{children:"You landed to a wrong path"}),(0,eu.jsx)("h3",{children:e.status+":"+e.statusText})]})},{}),children:[{path:"/about",element:(0,eu.jsx)(()=>(0,eu.jsx)("div",{className:"text-5xl m-[20%] ml-[40%]",children:"About us page"}),{})},{path:"/",element:(0,eu.jsx)(()=>{let[e,n]=(0,iT.useState)([]),[r,i]=(0,iT.useState)(""),[a,o]=(0,iT.useState)([]);return(0,iT.useEffect)(()=>{(async()=>{let e=(await d0(dE(d4,"recipes"))).docs.map(e=>({id:e.id,...e.data()}));n(e),o(e)})()},[]),(0,eu.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen",children:[(0,eu.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[(0,eu.jsx)("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Recipe Collection"}),(0,eu.jsx)(os,{to:"/create-recipe",children:(0,eu.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Create Recipe"})})]}),(0,eu.jsx)("div",{className:"mb-4 flex justify-center",children:(0,eu.jsx)("input",{type:"text",className:"p-2 w-full md:w-1/2 lg:w-1/3 border-black border-2 rounded-md",placeholder:"Search recipes by name, category, or ingredient",value:r,onChange:n=>{let r=n.target.value.toLowerCase();i(r),o(e.filter(e=>e.name.toLowerCase().includes(r)||e.category.toLowerCase().includes(r)||Array.isArray(e.ingredients)&&e.ingredients.some(e=>e.toLowerCase().includes(r))))}})}),(0,eu.jsx)("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:a.length>0?a.map(e=>(0,eu.jsx)(os,{to:`/recipe/${e.id}`,children:(0,eu.jsx)(p5,{...e})},e.id)):(0,eu.jsx)(p3,{})})]})},{})},{path:"/login",element:(0,eu.jsx)(()=>{let[e,n]=(0,iT.useState)(!0),[r,i]=(0,iT.useState)(!1),[a,o]=(0,iT.useState)(null);aW();let s=ik(),l=(0,iT.useRef)(null),u=(0,iT.useRef)(null),c=(0,iT.useRef)(null);return(0,eu.jsx)("div",{style:{backgroundImage:"url(https://i0.wp.com/houstonfoodfinder.com/wp-content/uploads/2021/09/maheshs_kitchen_spread.jpeg?fit=1200%2C800&ssl=1)",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"50px"},children:(0,eu.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"text-white w-full md:w-1/4 p-12 bg-black my-36 mx-auto rounded-md bg-opacity-80",children:[(0,eu.jsxs)("h4",{className:"text-white text-3xl font-bold mb-6",children:["Sign ",e?"In":"Up"," "]}),!e&&(0,eu.jsx)("input",{ref:l,type:"text",placeholder:"Name",className:"p-2 my-4 bg-black border rounded-sm w-full"}),(0,eu.jsx)("input",{ref:u,type:"text",placeholder:"Email",className:"p-2 my-4 bg-black border rounded-sm w-full"}),(0,eu.jsx)("input",{ref:c,type:"password",placeholder:"Password",className:"p-2 my-4 bg-black border rounded-sm w-full"}),(0,eu.jsx)("p",{className:"text-red-500 ",children:a}),(0,eu.jsx)("button",{onClick:()=>{i(!0),o(null);let n=p7(u.current.value,c.current.value);if(o(n),n){i(!1);return}if(e){var r,a;(r=u.current.value,a=c.current.value,tk(s.app)?Promise.reject(tG(s)):rv(eJ(s),rr.credential(r,a)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&rw(s),e})).then(e=>{}).catch(e=>{o(e.code+" "+e.message)}).finally(()=>{i(!1)})}else rb(s,u.current.value,c.current.value).then(e=>{}).catch(e=>{console.error("Error signing up:",e)}).finally(()=>{i(!1)})},className:"bg-red-600 rounded-md flex items-center justify-center text-white p-2 my-4 w-full",disabled:r,children:r?(0,eu.jsx)("div",{className:"w-6 h-6 border-4 border-t-4 border-t-red-600 border-gray-300 border-solid rounded-full animate-spin"}):`Sign ${e?"In":"Up"}`}),(0,eu.jsxs)("p",{onClick:()=>{n(!e)},className:"cursor-pointer",children:[e?"New to FoodVilla? Sign up now":"Already have an account?Sign In"," "]})]})})},{})},{path:"/contact",element:(0,eu.jsx)(()=>(0,eu.jsx)("div",{className:"text-5xl  m-[20%] ml-[40%] ",children:"ContactUs"}),{})},{path:"/cart",element:(0,eu.jsx)(()=>{let e=oy(e=>e.fav.items);return(0,eu.jsxs)("div",{children:[(0,eu.jsx)("h1",{className:"font-bold text-3xl p-2 m-2",children:"Favourites"}),(0,eu.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.length>0?e.map(e=>(0,eu.jsx)(os,{to:"/recipe/"+e.id,children:(0,eu.jsx)(p5,{...e})},e.id)):(0,eu.jsx)("div",{className:"text-2xl m-16 ",children:" No items saved"})})]})},{})},{path:"/create-recipe",element:(0,eu.jsx)(()=>{let[e,n]=(0,iT.useState)(""),[r,i]=(0,iT.useState)(""),[a,o]=(0,iT.useState)([""]),[s,l]=(0,iT.useState)([""]),[u,c]=(0,iT.useState)(null),[h,d]=(0,iT.useState)(""),[f,p]=(0,iT.useState)(!1),m=aW(),g=async h=>{h.preventDefault(),p(!0);let f="";if(u)try{let e=await mA(u,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),n=await me(e);if(n&&n.url)f=n.url,d(n.url),console.log("Image uploaded successfully:",n.url);else{console.error("No URL returned from Cloudinary"),p(!1);return}}catch(e){console.error("Error uploading image:",e),p(!1);return}await function(e,n){let r=dg(e.firestore,dT),i=dS(e),a=dQ(e.converter,n);return d1(r,[dF(dU(e.firestore),"addDoc",i._key,a,null!==e.converter,{}).toMutation(i._key,uT.exists(!1))]).then(()=>i)}(dE(d4,"recipes"),{name:e,category:r,ingredients:a,instructions:s,imgUrl:f}),p(!1),n(""),i(""),o([""]),l([""]),d(""),c(null),m("/")},y=(e,n)=>{let r=[...a];r[e]=n,o(r)},v=(e,n)=>{let r=[...s];r[e]=n,l(r)},w=e=>{o(a.filter((n,r)=>r!==e))},b=e=>{l(s.filter((n,r)=>r!==e))};return(0,eu.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen",children:[(0,eu.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Create Your Recipe"}),(0,eu.jsxs)("form",{onSubmit:g,className:"max-w-lg mx-auto bg-white p-6 rounded-lg shadow-md space-y-6",children:[(0,eu.jsxs)("div",{children:[(0,eu.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Recipe Name"}),(0,eu.jsx)("input",{type:"text",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,eu.jsxs)("div",{children:[(0,eu.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,eu.jsx)("input",{type:"text",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,eu.jsxs)("div",{children:[(0,eu.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Ingredients"}),a.map((e,n)=>(0,eu.jsxs)("div",{className:"flex items-center mt-2",children:[(0,eu.jsx)("input",{type:"text",className:"flex-1 p-2 border border-gray-300 rounded-md",value:e,onChange:e=>y(n,e.target.value),required:!0}),(0,eu.jsx)("button",{type:"button",className:"ml-2 p-2 bg-red-500 text-white rounded-md",onClick:()=>w(n),children:"-"})]},n)),(0,eu.jsx)("button",{type:"button",className:"mt-2 p-2 bg-green-500 text-white rounded-md",onClick:()=>{o([...a,""])},children:"+ Add Ingredient"})]}),(0,eu.jsxs)("div",{children:[(0,eu.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instructions"}),s.map((e,n)=>(0,eu.jsxs)("div",{className:"flex items-center mt-2",children:[(0,eu.jsx)("textarea",{className:"flex-1 p-2 border border-gray-300 rounded-md",value:e,onChange:e=>v(n,e.target.value),required:!0}),(0,eu.jsx)("button",{type:"button",className:"ml-2 p-2 bg-red-500 text-white rounded-md",onClick:()=>b(n),children:"-"})]},n)),(0,eu.jsx)("button",{type:"button",className:"mt-2 p-2 bg-green-500 text-white rounded-md",onClick:()=>{l([...s,""])},children:"+ Add Instruction"})]}),(0,eu.jsxs)("div",{children:[(0,eu.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Recipe Image"}),(0,eu.jsx)("input",{type:"file",className:"mt-1 block w-full text-sm text-gray-500",onChange:e=>c(e.target.files[0])})]}),f?(0,eu.jsx)("div",{className:"w-full text-center py-2",children:(0,eu.jsx)("span",{children:"Loading..."})}):(0,eu.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-500 text-white rounded-md",children:"Submit Recipe"})]})]})},{})},{path:"/recipe/:id",element:(0,eu.jsx)(()=>{let{id:e}=function(){let{matches:e}=iT.useContext(aV),n=e[e.length-1];return n?n.params:{}}(),[n,r]=(0,iT.useState)(null),[i,a]=(0,iT.useState)(!1),o=oT(),s=oy(e=>e.fav.items);(0,iT.useEffect)(()=>{(async()=>{let n=dS(d4,"recipes",e),i=await /**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){e=dg(e,db);let n=dg(e.firestore,dT);return(function(e,n,r={}){let i=new sM;return e.asyncQueue.enqueueAndForget(async()=>(function(e,n,r,i,a){let o=new dn({next:o=>{n.enqueueAndForget(()=>hN(e,s));let l=o.docs.has(r);!l&&o.fromCache?a.reject(new sL(sD.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&i&&"server"===i.source?a.reject(new sL(sD.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),s=new hL(new l2(r.path),o,{includeMetadataChanges:!0,ra:!0});return hR(e,s)})(await du(e),e.asyncQueue,n,r,i)),i.promise})(dI(n),e._key).then(r=>(function(e,n,r){let i=r.docs.get(n._key),a=new dZ(e);return new dX(e,a,n._key,i,new dG(r.hasPendingWrites,r.fromCache),n.converter)})(n,e,r))}(n);i.exists()?r({id:i.id,...i.data()}):console.log("No such document!")})()},[e]),(0,iT.useEffect)(()=>{n&&a(s.some(e=>e.id===n.id))},[n,s]);let l=()=>{i?o(p0(n.id)):o(pZ(n)),a(!i)};return n?(0,eu.jsx)("div",{className:"p-6 bg-gray-100 min-h-screen",children:(0,eu.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[(0,eu.jsxs)("div",{className:"flex justify-between",children:[(0,eu.jsx)("h1",{className:"text-4xl font-bold mb-4",children:n.name}),i?(0,eu.jsx)("button",{onClick:l,className:"bg-orange-400 rounded-md p-2 m-2 text-white",children:"Unsave this recipe"}):(0,eu.jsx)("button",{onClick:l,className:"bg-orange-500 rounded-md p-2 m-2 text-white",children:"Save this recipe"})]}),(0,eu.jsx)("img",{src:n.imgUrl,alt:n.name,className:"h-64 mb-4 rounded-md"}),(0,eu.jsx)("div",{className:"mb-4",children:(0,eu.jsxs)("span",{className:"bg-blue-100 text-blue-500 px-2 py-1 rounded",children:["Category: ",n.category]})}),(0,eu.jsxs)("div",{className:"mb-4",children:[(0,eu.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Ingredients"}),(0,eu.jsx)("ul",{className:"list-disc list-inside",children:n.ingredients.map((e,n)=>(0,eu.jsx)("li",{className:"text-lg",children:e},n))})]}),(0,eu.jsxs)("div",{children:[(0,eu.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Instructions"}),(0,eu.jsx)("ol",{className:"list-decimal list-inside",children:n.instructions.map((e,n)=>(0,eu.jsx)("li",{className:"text-lg mb-2",children:e},n))})]})]})}):(0,eu.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."})},{})}]}],(function(e){let n,r,i,a,o;let s=e.window?e.window:"undefined"!=typeof window?window:void 0,l=void 0!==s&&void 0!==s.document&&void 0!==s.document.createElement,u=!l;if(ix(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){let r=e.detectErrorBoundary;n=e=>({hasErrorBoundary:r(e)})}else n=i9;let c={},h=iL(e.routes,n,void 0,c),d=e.basename||"/",f=e.unstable_dataStrategy||as,p=e.unstable_patchRoutesOnMiss,m=iI({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),g=null,y=new Set,v=null,w=null,b=null,_=null!=e.hydrationData,E=iM(h,e.history.location,d),S=null;if(null==E&&!p){let n=ab(404,{pathname:e.history.location.pathname}),{matches:r,route:i}=aw(h);E=r,S={[i.id]:n}}if(E&&p&&!e.hydrationData&&eS(E,h,e.history.location.pathname).active&&(E=null),E){if(E.some(e=>e.route.lazy))i=!1;else if(E.some(e=>e.route.loader)){if(m.v7_partialHydration){let n=e.hydrationData?e.hydrationData.loaderData:null,r=e.hydrationData?e.hydrationData.errors:null,a=e=>!e.route.loader||("function"!=typeof e.route.loader||!0!==e.route.loader.hydrate)&&(n&&void 0!==n[e.route.id]||r&&void 0!==r[e.route.id]);if(r){let e=E.findIndex(e=>void 0!==r[e.route.id]);i=E.slice(0,e+1).every(a)}else i=E.every(a)}else i=null!=e.hydrationData}else i=!0}else i=!1,E=[];let k={historyAction:e.history.action,location:e.history.location,matches:E,initialized:i,navigation:i4,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},T=P.Pop,I=!1,C=!1,x=new Map,A=null,R=!1,N=!1,D=[],L=[],M=new Map,U=0,F=-1,j=new Map,B=new Set,V=new Map,z=new Map,$=new Set,H=new Map,q=new Map,W=new Map,K=!1;function Q(e,n){void 0===n&&(n={}),k=iI({},k,e);let r=[],i=[];m.v7_fetcherPersist&&k.fetchers.forEach((e,n)=>{"idle"===e.state&&($.has(n)?i.push(n):r.push(n))}),[...y].forEach(e=>e(k,{deletedFetchers:i,unstable_viewTransitionOpts:n.viewTransitionOpts,unstable_flushSync:!0===n.flushSync})),m.v7_fetcherPersist&&(r.forEach(e=>k.fetchers.delete(e)),i.forEach(e=>ec(e)))}function G(n,i,a){var o,s;let l,u;let{flushSync:c}=void 0===a?{}:a,d=null!=k.actionData&&null!=k.navigation.formMethod&&aC(k.navigation.formMethod)&&"loading"===k.navigation.state&&(null==(o=n.state)?void 0:o._isRedirect)!==!0;l=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:d?k.actionData:null;let f=i.loaderData?ag(k.loaderData,i.loaderData,i.matches||[],i.errors):k.loaderData,p=k.blockers;p.size>0&&(p=new Map(p)).forEach((e,n)=>p.set(n,i5));let m=!0===I||null!=k.navigation.formMethod&&aC(k.navigation.formMethod)&&(null==(s=n.state)?void 0:s._isRedirect)!==!0;if(r&&(h=r,r=void 0),R||T===P.Pop||(T===P.Push?e.history.push(n,n.state):T===P.Replace&&e.history.replace(n,n.state)),T===P.Pop){let e=x.get(k.location.pathname);e&&e.has(n.pathname)?u={currentLocation:k.location,nextLocation:n}:x.has(n.pathname)&&(u={currentLocation:n,nextLocation:k.location})}else if(C){let e=x.get(k.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),x.set(k.location.pathname,e)),u={currentLocation:k.location,nextLocation:n}}Q(iI({},i,{actionData:l,loaderData:f,historyAction:T,location:n,initialized:!0,navigation:i4,revalidation:"idle",restoreScrollPosition:eE(n,i.matches||k.matches),preventScrollReset:m,blockers:p}),{viewTransitionOpts:u,flushSync:!0===c}),T=P.Pop,I=!1,C=!1,R=!1,N=!1,D=[],L=[]}async function X(n,r){if("number"==typeof n){e.history.go(n);return}let i=i7(k.location,k.matches,d,m.v7_prependBasename,n,m.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:a,submission:o,error:s}=ae(m.v7_normalizeFormMethod,!1,i,r),l=k.location,u=iN(k.location,a,r&&r.state);u=iI({},u,e.history.encodeLocation(u));let c=r&&null!=r.replace?r.replace:void 0,h=P.Push;!0===c?h=P.Replace:!1===c||null!=o&&aC(o.formMethod)&&o.formAction===k.location.pathname+k.location.search&&(h=P.Replace);let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,p=!0===(r&&r.unstable_flushSync),g=ey({currentLocation:l,nextLocation:u,historyAction:h});if(g){eg(g,{state:"blocked",location:u,proceed(){eg(g,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),X(n,r)},reset(){let e=new Map(k.blockers);e.set(g,i5),Q({blockers:e})}});return}return await Y(h,u,{submission:o,pendingError:s,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:p})}async function Y(n,i,a){var s,l,u;let c;o&&o.abort(),o=null,T=n,R=!0===(a&&a.startUninterruptedRevalidation),s=k.location,l=k.matches,v&&b&&(v[e_(s,l)]=b()),I=!0===(a&&a.preventScrollReset),C=!0===(a&&a.enableViewTransition);let f=r||h,p=a&&a.overrideNavigation,m=iM(f,i,d),g=!0===(a&&a.flushSync),y=eS(m,f,i.pathname);if(y.active&&y.matches&&(m=y.matches),!m){let{error:e,notFoundMatches:n,route:r}=ev(i.pathname);G(i,{matches:n,loaderData:{},errors:{[r.id]:e}},{flushSync:g});return}if(k.initialized&&!N&&(u=k.location).pathname===i.pathname&&u.search===i.search&&(""===u.hash?""!==i.hash:u.hash===i.hash||""!==i.hash)&&!(a&&a.submission&&aC(a.submission.formMethod))){G(i,{matches:m},{flushSync:g});return}o=new AbortController;let w=ad(e.history,i,o.signal,a&&a.submission);if(a&&a.pendingError)c=[av(m).route.id,{type:O.error,error:a.pendingError}];else if(a&&a.submission&&aC(a.submission.formMethod)){let n=await J(w,i,a.submission,m,y.active,{replace:a.replace,flushSync:g});if(n.shortCircuited)return;if(n.pendingActionResult){let[e,r]=n.pendingActionResult;if(ak(r)&&iY(r.error)&&404===r.error.status){o=null,G(i,{matches:n.matches,loaderData:{},errors:{[e]:r.error}});return}}m=n.matches||m,c=n.pendingActionResult,p=aO(i,a.submission),g=!1,y.active=!1,w=ad(e.history,w.url,w.signal)}let{shortCircuited:_,matches:E,loaderData:S,errors:x}=await Z(w,i,m,y.active,p,a&&a.submission,a&&a.fetcherSubmission,a&&a.replace,a&&!0===a.initialHydration,g,c);_||(o=null,G(i,iI({matches:E||m},ay(c),{loaderData:S,errors:x})))}async function J(e,n,r,i,a,o){let s;if(void 0===o&&(o={}),eo(),Q({navigation:{state:"submitting",location:n,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}},{flushSync:!0===o.flushSync}),a){let r=await ek(i,n.pathname,e.signal);if("aborted"===r.type)return{shortCircuited:!0};if("error"===r.type){let{boundaryId:e,error:i}=ew(n.pathname,r);return{matches:r.partialMatches,pendingActionResult:[e,{type:O.error,error:i}]}}if(r.matches)i=r.matches;else{let{notFoundMatches:e,error:r,route:i}=ev(n.pathname);return{matches:e,pendingActionResult:[i.id,{type:O.error,error:r}]}}}let l=aN(i,n);if(l.route.action||l.route.lazy){if(s=(await ei("action",e,[l],i))[0],e.signal.aborted)return{shortCircuited:!0}}else s={type:O.error,error:ab(405,{method:e.method,pathname:n.pathname,routeId:l.route.id})};if(aT(s)){let n;return n=o&&null!=o.replace?o.replace:ah(s.response.headers.get("Location"),new URL(e.url),d)===k.location.pathname+k.location.search,await er(e,s,{submission:r,replace:n}),{shortCircuited:!0}}if(aS(s))throw ab(400,{type:"defer-action"});if(ak(s)){let e=av(i,l.route.id);return!0!==(o&&o.replace)&&(T=P.Push),{matches:i,pendingActionResult:[e.route.id,s]}}return{matches:i,pendingActionResult:[l.route.id,s]}}async function Z(n,i,a,s,l,u,c,f,p,g,y){let v=l||aO(i,u),w=u||c||aP(v),b=!R&&(!m.v7_partialHydration||!p);if(s){if(b){let e=ee(y);Q(iI({navigation:v},void 0!==e?{actionData:e}:{}),{flushSync:g})}let e=await ek(a,i.pathname,n.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:n,error:r}=ew(i.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[n]:r}}}if(e.matches)a=e.matches;else{let{error:e,notFoundMatches:n,route:r}=ev(i.pathname);return{matches:n,loaderData:{},errors:{[r.id]:e}}}}let _=r||h,[E,S]=at(e.history,k,a,w,i,m.v7_partialHydration&&!0===p,m.v7_skipActionErrorRevalidation,N,D,L,$,V,B,_,d,y);if(eb(e=>!(a&&a.some(n=>n.route.id===e))||E&&E.some(n=>n.route.id===e)),F=++U,0===E.length&&0===S.length){let e=ef();return G(i,iI({matches:a,loaderData:{},errors:y&&ak(y[1])?{[y[0]]:y[1].error}:null},ay(y),e?{fetchers:new Map(k.fetchers)}:{}),{flushSync:g}),{shortCircuited:!0}}if(b){let e={};if(!s){e.navigation=v;let n=ee(y);void 0!==n&&(e.actionData=n)}S.length>0&&(e.fetchers=(S.forEach(e=>{let n=k.fetchers.get(e.key),r=aD(void 0,n?n.data:void 0);k.fetchers.set(e.key,r)}),new Map(k.fetchers))),Q(e,{flushSync:g})}S.forEach(e=>{M.has(e.key)&&eh(e.key),e.controller&&M.set(e.key,e.controller)});let T=()=>S.forEach(e=>eh(e.key));o&&o.signal.addEventListener("abort",T);let{loaderResults:I,fetcherResults:C}=await ea(k.matches,a,E,S,n);if(n.signal.aborted)return{shortCircuited:!0};o&&o.signal.removeEventListener("abort",T),S.forEach(e=>M.delete(e.key));let x=a_([...I,...C]);if(x){if(x.idx>=E.length){let e=S[x.idx-E.length].key;B.add(e)}return await er(n,x.result,{replace:f}),{shortCircuited:!0}}let{loaderData:A,errors:P}=am(k,a,E,I,y,S,C,H);H.forEach((e,n)=>{e.subscribe(r=>{(r||e.done)&&H.delete(n)})}),m.v7_partialHydration&&p&&k.errors&&Object.entries(k.errors).filter(e=>{let[n]=e;return!E.some(e=>e.route.id===n)}).forEach(e=>{let[n,r]=e;P=Object.assign(P||{},{[n]:r})});let O=ef(),j=ep(F),z=O||j||S.length>0;return iI({matches:a,loaderData:A,errors:P},z?{fetchers:new Map(k.fetchers)}:{})}function ee(e){return e&&!ak(e[1])?{[e[0]]:e[1].data}:k.actionData?0===Object.keys(k.actionData).length?null:k.actionData:void 0}async function et(n,i,a,s,l,u,c,f){function p(e){if(!e.route.action&&!e.route.lazy){let e=ab(405,{method:f.formMethod,pathname:a,routeId:i});return el(n,i,e,{flushSync:c}),!0}return!1}if(eo(),V.delete(n),!u&&p(s))return;let g=k.fetchers.get(n);es(n,{state:"submitting",formMethod:f.formMethod,formAction:f.formAction,formEncType:f.formEncType,formData:f.formData,json:f.json,text:f.text,data:g?g.data:void 0},{flushSync:c});let y=new AbortController,v=ad(e.history,a,y.signal,f);if(u){let e=await ek(l,a,v.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:r}=ew(a,e);el(n,i,r,{flushSync:c});return}if(e.matches){if(p(s=aN(l=e.matches,a)))return}else{el(n,i,ab(404,{pathname:a}),{flushSync:c});return}}M.set(n,y);let w=U,b=(await ei("action",v,[s],l))[0];if(v.signal.aborted){M.get(n)===y&&M.delete(n);return}if(m.v7_fetcherPersist&&$.has(n)){if(aT(b)||ak(b)){es(n,aL(void 0));return}}else{if(aT(b))return(M.delete(n),F>w)?void es(n,aL(void 0)):(B.add(n),es(n,aD(f)),er(v,b,{fetcherSubmission:f}));if(ak(b)){el(n,i,b.error);return}}if(aS(b))throw ab(400,{type:"defer-action"});let _=k.navigation.location||k.location,E=ad(e.history,_,y.signal),S=r||h,I="idle"!==k.navigation.state?iM(S,k.navigation.location,d):k.matches;ix(I,"Didn't find any matches after fetcher action");let C=++U;j.set(n,C);let x=aD(f,b.data);k.fetchers.set(n,x);let[A,R]=at(e.history,k,I,f,_,!1,m.v7_skipActionErrorRevalidation,N,D,L,$,V,B,S,d,[s.route.id,b]);R.filter(e=>e.key!==n).forEach(e=>{let n=e.key,r=k.fetchers.get(n),i=aD(void 0,r?r.data:void 0);k.fetchers.set(n,i),M.has(n)&&eh(n),e.controller&&M.set(n,e.controller)}),Q({fetchers:new Map(k.fetchers)});let P=()=>R.forEach(e=>eh(e.key));y.signal.addEventListener("abort",P);let{loaderResults:O,fetcherResults:z}=await ea(k.matches,I,A,R,E);if(y.signal.aborted)return;y.signal.removeEventListener("abort",P),j.delete(n),M.delete(n),R.forEach(e=>M.delete(e.key));let q=a_([...O,...z]);if(q){if(q.idx>=A.length){let e=R[q.idx-A.length].key;B.add(e)}return er(E,q.result)}let{loaderData:W,errors:K}=am(k,k.matches,A,O,void 0,R,z,H);if(k.fetchers.has(n)){let e=aL(b.data);k.fetchers.set(n,e)}ep(C),"loading"===k.navigation.state&&C>F?(ix(T,"Expected pending action"),o&&o.abort(),G(k.navigation.location,{matches:I,loaderData:W,errors:K,fetchers:new Map(k.fetchers)})):(Q({errors:K,loaderData:ag(k.loaderData,W,I,K),fetchers:new Map(k.fetchers)}),N=!1)}async function en(n,r,i,a,o,s,l,u){let c=k.fetchers.get(n);es(n,aD(u,c?c.data:void 0),{flushSync:l});let h=new AbortController,d=ad(e.history,i,h.signal);if(s){let e=await ek(o,i,d.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:a}=ew(i,e);el(n,r,a,{flushSync:l});return}if(e.matches)a=aN(o=e.matches,i);else{el(n,r,ab(404,{pathname:i}),{flushSync:l});return}}M.set(n,h);let f=U,p=(await ei("loader",d,[a],o))[0];if(aS(p)&&(p=await aA(p,d.signal,!0)||p),M.get(n)===h&&M.delete(n),!d.signal.aborted){if($.has(n)){es(n,aL(void 0));return}if(aT(p)){if(F>f){es(n,aL(void 0));return}B.add(n),await er(d,p);return}if(ak(p)){el(n,r,p.error);return}ix(!aS(p),"Unhandled fetcher deferred data"),es(n,aL(p.data))}}async function er(n,r,i){let{submission:a,fetcherSubmission:u,replace:c}=void 0===i?{}:i;r.response.headers.has("X-Remix-Revalidate")&&(N=!0);let h=r.response.headers.get("Location");ix(h,"Expected a Location header on the redirect Response"),h=ah(h,new URL(n.url),d);let f=iN(k.location,h,{_isRedirect:!0});if(l){let n=!1;if(r.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(i6.test(h)){let r=e.history.createURL(h);n=r.origin!==s.location.origin||null==iV(r.pathname,d)}if(n){c?s.location.replace(h):s.location.assign(h);return}}o=null;let p=!0===c?P.Replace:P.Push,{formMethod:m,formAction:g,formEncType:y}=k.navigation;!a&&!u&&m&&g&&y&&(a=aP(k.navigation));let v=a||u;if(i2.has(r.response.status)&&v&&aC(v.formMethod))await Y(p,f,{submission:iI({},v,{formAction:h}),preventScrollReset:I});else{let e=aO(f,a);await Y(p,f,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:I})}}async function ei(e,r,i,a){try{let o=await al(f,e,r,i,a,c,n);return await Promise.all(o.map((e,n)=>{if(aI(e.result)&&i1.has(e.result.status)){let o=e.result;return{type:O.redirect,response:function(e,n,r,i,a,o){let s=e.headers.get("Location");if(ix(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!i6.test(s)){let l=i.slice(0,i.findIndex(e=>e.route.id===r)+1);s=i7(new URL(n.url),l,a,!0,s,o),e.headers.set("Location",s)}return e}(o,r,i[n].route.id,a,d,m.v7_relativeSplatPath)}}return ac(e)}))}catch(e){return i.map(()=>({type:O.error,error:e}))}}async function ea(n,r,i,a,o){let[s,...l]=await Promise.all([i.length?ei("loader",o,i,r):[],...a.map(n=>n.matches&&n.match&&n.controller?ei("loader",ad(e.history,n.path,n.controller.signal),[n.match],n.matches).then(e=>e[0]):Promise.resolve({type:O.error,error:ab(404,{pathname:n.path})}))]);return await Promise.all([ax(n,i,s,s.map(()=>o.signal),!1,k.loaderData),ax(n,a.map(e=>e.match),l,a.map(e=>e.controller?e.controller.signal:null),!0)]),{loaderResults:s,fetcherResults:l}}function eo(){N=!0,D.push(...eb()),V.forEach((e,n)=>{M.has(n)&&(L.push(n),eh(n))})}function es(e,n,r){void 0===r&&(r={}),k.fetchers.set(e,n),Q({fetchers:new Map(k.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function el(e,n,r,i){void 0===i&&(i={});let a=av(k.matches,n);ec(e),Q({errors:{[a.route.id]:r},fetchers:new Map(k.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function eu(e){return m.v7_fetcherPersist&&(z.set(e,(z.get(e)||0)+1),$.has(e)&&$.delete(e)),k.fetchers.get(e)||i3}function ec(e){let n=k.fetchers.get(e);M.has(e)&&!(n&&"loading"===n.state&&j.has(e))&&eh(e),V.delete(e),j.delete(e),B.delete(e),$.delete(e),k.fetchers.delete(e)}function eh(e){let n=M.get(e);ix(n,"Expected fetch controller: "+e),n.abort(),M.delete(e)}function ed(e){for(let n of e){let e=aL(eu(n).data);k.fetchers.set(n,e)}}function ef(){let e=[],n=!1;for(let r of B){let i=k.fetchers.get(r);ix(i,"Expected fetcher: "+r),"loading"===i.state&&(B.delete(r),e.push(r),n=!0)}return ed(e),n}function ep(e){let n=[];for(let[r,i]of j)if(i<e){let e=k.fetchers.get(r);ix(e,"Expected fetcher: "+r),"loading"===e.state&&(eh(r),j.delete(r),n.push(r))}return ed(n),n.length>0}function em(e){k.blockers.delete(e),q.delete(e)}function eg(e,n){let r=k.blockers.get(e)||i5;ix("unblocked"===r.state&&"blocked"===n.state||"blocked"===r.state&&"blocked"===n.state||"blocked"===r.state&&"proceeding"===n.state||"blocked"===r.state&&"unblocked"===n.state||"proceeding"===r.state&&"unblocked"===n.state,"Invalid blocker state transition: "+r.state+" -> "+n.state);let i=new Map(k.blockers);i.set(e,n),Q({blockers:i})}function ey(e){let{currentLocation:n,nextLocation:r,historyAction:i}=e;if(0===q.size)return;q.size>1&&iA(!1,"A router only supports one blocker at a time");let a=Array.from(q.entries()),[o,s]=a[a.length-1],l=k.blockers.get(o);if((!l||"proceeding"!==l.state)&&s({currentLocation:n,nextLocation:r,historyAction:i}))return o}function ev(e){let n=ab(404,{pathname:e}),{matches:i,route:a}=aw(r||h);return eb(),{notFoundMatches:i,route:a,error:n}}function ew(e,n){return{boundaryId:av(n.partialMatches).route.id,error:ab(400,{type:"route-discovery",pathname:e,message:null!=n.error&&"message"in n.error?n.error:String(n.error)})}}function eb(e){let n=[];return H.forEach((r,i)=>{(!e||e(i))&&(r.cancel(),n.push(i),H.delete(i))}),n}function e_(e,n){return w&&w(e,n.map(e=>(function(e,n){let{route:r,pathname:i,params:a}=e;return{id:r.id,pathname:i,params:a,data:n[r.id],handle:r.handle}})(e,k.loaderData)))||e.key}function eE(e,n){if(v){let r=v[e_(e,n)];if("number"==typeof r)return r}return null}function eS(e,n,r){if(p){if(!e)return{active:!0,matches:iU(n,r,d,!0)||[]};{let i=e[e.length-1].route;if(i.path&&("*"===i.path||i.path.endsWith("/*")))return{active:!0,matches:iU(n,r,d,!0)}}}return{active:!1,matches:null}}async function ek(e,i,a){let o=e;for(o.length>0&&o[o.length-1].route;;){let e=null==r,s=r||h;try{await ai(p,i,o,s,c,n,W,a)}catch(e){return{type:"error",error:e,partialMatches:o}}finally{e&&(h=[...h])}if(a.aborted)return{type:"aborted"};let l=iM(s,i,d),u=!1;if(l){let e=l[l.length-1].route;if(e.index)return{type:"success",matches:l};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:l};u=!0}}let f=iU(s,i,d,!0);if(!f||o.map(e=>e.route.id).join("-")===f.map(e=>e.route.id).join("-"))return{type:"success",matches:u?l:null};if("*"===(o=f)[o.length-1].route.path)return{type:"success",matches:o}}}return a={get basename(){return d},get future(){return m},get state(){return k},get routes(){return h},get window(){return s},initialize:function(){if(g=e.history.listen(n=>{let{action:r,location:i,delta:a}=n;if(K){K=!1;return}iA(0===q.size||null!=a,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ey({currentLocation:k.location,nextLocation:i,historyAction:r});if(o&&null!=a){K=!0,e.history.go(-1*a),eg(o,{state:"blocked",location:i,proceed(){eg(o,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),e.history.go(a)},reset(){let e=new Map(k.blockers);e.set(o,i5),Q({blockers:e})}});return}return Y(r,i)}),l){(function(e,n){try{let r=e.sessionStorage.getItem(i8);if(r){let e=JSON.parse(r);for(let[r,i]of Object.entries(e||{}))i&&Array.isArray(i)&&n.set(r,new Set(i||[]))}}catch(e){}})(s,x);let e=()=>(function(e,n){if(n.size>0){let r={};for(let[e,i]of n)r[e]=[...i];try{e.sessionStorage.setItem(i8,JSON.stringify(r))}catch(e){iA(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}})(s,x);s.addEventListener("pagehide",e),A=()=>s.removeEventListener("pagehide",e)}return k.initialized||Y(P.Pop,k.location,{initialHydration:!0}),a},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,n,r){if(v=e,b=n,w=r||null,!_&&k.navigation===i4){_=!0;let e=eE(k.location,k.matches);null!=e&&Q({restoreScrollPosition:e})}return()=>{v=null,b=null,w=null}},navigate:X,fetch:function(e,n,i,a){if(u)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(e)&&eh(e);let o=!0===(a&&a.unstable_flushSync),s=r||h,l=i7(k.location,k.matches,d,m.v7_prependBasename,i,m.v7_relativeSplatPath,n,null==a?void 0:a.relative),c=iM(s,l,d),f=eS(c,s,l);if(f.active&&f.matches&&(c=f.matches),!c){el(e,n,ab(404,{pathname:l}),{flushSync:o});return}let{path:p,submission:g,error:y}=ae(m.v7_normalizeFormMethod,!0,l,a);if(y){el(e,n,y,{flushSync:o});return}let v=aN(c,p);if(I=!0===(a&&a.preventScrollReset),g&&aC(g.formMethod)){et(e,n,p,v,c,f.active,o,g);return}V.set(e,{routeId:n,path:p}),en(e,n,p,v,c,f.active,o,g)},revalidate:function(){if(eo(),Q({revalidation:"loading"}),"submitting"!==k.navigation.state){if("idle"===k.navigation.state){Y(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Y(T||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}},createHref:n=>e.history.createHref(n),encodeLocation:n=>e.history.encodeLocation(n),getFetcher:eu,deleteFetcher:function(e){if(m.v7_fetcherPersist){let n=(z.get(e)||0)-1;n<=0?(z.delete(e),$.add(e)):z.set(e,n)}else ec(e);Q({fetchers:new Map(k.fetchers)})},dispose:function(){g&&g(),A&&A(),y.clear(),o&&o.abort(),k.fetchers.forEach((e,n)=>ec(n)),k.blockers.forEach((e,n)=>em(n))},getBlocker:function(e,n){let r=k.blockers.get(e)||i5;return q.get(e)!==n&&q.set(e,n),r},deleteBlocker:em,patchRoutes:function(e,i){let a=null==r;aa(e,i,r||h,c,n),a&&(h=[...h],Q({}))},_internalFetchControllers:M,_internalActiveDeferreds:H,_internalSetRoutes:function(e){r=iL(e,n,void 0,c={})}}})({basename:void 0,future:a6({},null==T?void 0:T.future,{v7_prependBasename:!0}),history:function(e,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,l=P.Pop,u=null,c=h();function h(){return(s.state||{idx:null}).idx}function d(){l=P.Pop;let e=h(),n=null==e?null:e-c;c=e,u&&u({action:l,location:p.location,delta:n})}function f(e){let n="null"!==a.location.origin?a.location.origin:a.location.href,r="string"==typeof e?e:iP(e);return ix(n,"No window.location.(origin|href) available to create URL for href: "+(r=r.replace(/ $/,"%20"))),new URL(r,n)}null==c&&(c=0,s.replaceState(iI({},s.state,{idx:c}),""));let p={get action(){return l},get location(){return e(a,s)},listen(e){if(u)throw Error("A history only accepts one active listener");return a.addEventListener(iC,d),u=e,()=>{a.removeEventListener(iC,d),u=null}},createHref:e=>n(a,e),createURL:f,encodeLocation(e){let n=f(e);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){l=P.Push;let r=iN(p.location,e,n),i=iR(r,c=h()+1),d=p.createHref(r);try{s.pushState(i,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;a.location.assign(d)}o&&u&&u({action:l,location:p.location,delta:1})},replace:function(e,n){l=P.Replace;let r=iN(p.location,e,n),i=iR(r,c=h()),a=p.createHref(r);s.replaceState(i,"",a),o&&u&&u({action:l,location:p.location,delta:0})},go:e=>s.go(e)};return p}(function(e,n){let{pathname:r,search:i,hash:a}=e.location;return iN("",{pathname:r,search:i,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")},function(e,n){return"string"==typeof n?n:iP(n)},null,{window:null==T?void 0:T.window}),hydrationData:(null==T?void 0:T.hydrationData)||((a=null==(s=window)?void 0:s.__staticRouterHydrationData)&&a.errors&&(a=a6({},a,{errors:function(e){if(!e)return null;let n=Object.entries(e),r={};for(let[e,i]of n)if(i&&"RouteErrorResponse"===i.__type)r[e]=new iX(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let n=window[i.__subType];if("function"==typeof n)try{let a=new n(i.message);a.stack="",r[e]=a}catch(e){}}if(null==r[e]){let n=Error(i.message);n.stack="",r[e]=n}}else r[e]=i;return r}(a.errors)})),a),routes:k,mapRouteProperties:function(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:iT.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:iT.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:iT.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n},unstable_dataStrategy:null==T?void 0:T.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==T?void 0:T.unstable_patchRoutesOnMiss,window:null==T?void 0:T.window}).initialize());(ec&&ec.__esModule?ec.default:ec).createRoot(document.getElementById("root")).render((0,eu.jsx)(function(e){let{fallbackElement:n,router:r,future:i}=e,[a,o]=iT.useState(r.state),[s,l]=iT.useState(),[u,c]=iT.useState({isTransitioning:!1}),[h,d]=iT.useState(),[f,p]=iT.useState(),[m,g]=iT.useState(),y=iT.useRef(new Map),{v7_startTransition:v}=i||{},w=iT.useCallback(e=>{v&&oe?oe(e):e()},[v]),b=iT.useCallback((e,n)=>{let{deletedFetchers:i,unstable_flushSync:a,unstable_viewTransitionOpts:s}=n;i.forEach(e=>y.current.delete(e)),e.fetchers.forEach((e,n)=>{void 0!==e.data&&y.current.set(n,e.data)});let u=null==r.window||null==r.window.document||"function"!=typeof r.window.document.startViewTransition;if(!s||u){a?on(()=>o(e)):w(()=>o(e));return}if(a){on(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})});let n=r.window.document.startViewTransition(()=>{on(()=>o(e))});n.finished.finally(()=>{on(()=>{d(void 0),p(void 0),l(void 0),c({isTransitioning:!1})})}),on(()=>p(n));return}f?(h&&h.resolve(),f.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(e),c({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))},[r.window,f,h,y,w]);iT.useLayoutEffect(()=>r.subscribe(b),[r,b]),iT.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new or)},[u]),iT.useEffect(()=>{if(h&&s&&r.window){let e=h.promise,n=r.window.document.startViewTransition(async()=>{w(()=>o(s)),await e});n.finished.finally(()=>{d(void 0),p(void 0),l(void 0),c({isTransitioning:!1})}),p(n)}},[w,s,h,r.window]),iT.useEffect(()=>{h&&s&&a.location.key===s.location.key&&h.resolve()},[h,f,a.location,s]),iT.useEffect(()=>{!u.isTransitioning&&m&&(l(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[u.isTransitioning,m]),iT.useEffect(()=>{},[]);let _=iT.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,n,i)=>r.navigate(e,{state:n,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,n,i)=>r.navigate(e,{replace:!0,state:n,preventScrollReset:null==i?void 0:i.preventScrollReset})}),[r]),E=r.basename||"/",S=iT.useMemo(()=>({router:r,navigator:_,static:!1,basename:E}),[r,_,E]),k=iT.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return iT.createElement(iT.Fragment,null,iT.createElement(aU.Provider,{value:S},iT.createElement(aF.Provider,{value:a},iT.createElement(a7.Provider,{value:y.current},iT.createElement(a8.Provider,{value:u},iT.createElement(a3,{basename:E,location:a.location,navigationType:a.historyAction,navigator:_,future:k},a.initialized||r.future.v7_partialHydration?iT.createElement(oi,{routes:r.routes,future:r.future,state:a}):n))))),null)},{router:mR}));
//# sourceMappingURL=index.eac3a5e4.js.map
